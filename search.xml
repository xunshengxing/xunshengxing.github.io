<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ä»¥å¹¿å‘Šåª’ä½“ç®¡ç†ç³»ç»Ÿä¸ºä¾‹çš„æ•°æ®åº“è®¾è®¡</title>
      <link href="/2025/10/25/%E6%95%B0%E6%8D%AE%E5%BA%93%E3%80%81%E7%BC%93%E5%AD%98%E3%80%81%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/"/>
      <url>/2025/10/25/%E6%95%B0%E6%8D%AE%E5%BA%93%E3%80%81%E7%BC%93%E5%AD%98%E3%80%81%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/</url>
      
        <content type="html"><![CDATA[<p>ä»¥ä¸‹ä»¥å¹¿å‘Šåª’ä½“ç®¡ç†ç³»ç»Ÿä¸ºä¾‹ï¼Œ</p><p>å¹¿å‘Šåª’ä½“æ˜¯æŒ‡ç”µå­å±å¹•æˆ–è€…çº¸è´¨å±•ç¤ºç‰Œç­‰èƒ½å¤ŸåˆŠç™»å¹¿å‘Šçš„åª’ä»‹ï¼Œä»¥ä¸‹ç®€ç§°åª’ä½“</p><p>ä¸šåŠ¡éœ€æ±‚ï¼š</p><ul><li>å¯¹åª’ä½“è¿›è¡Œç®¡ç†ï¼šæŸ¥çœ‹æ‰€æœ‰åª’ä½“çš„å¹¿å‘ŠåˆŠç™»æƒ…å†µ</li><li>å¹¿å‘Šçš„å®¡æ‰¹ä¸ç®¡ç†ï¼šç”»é¢å®¡æ‰¹ã€ä¸Šä¸‹åˆŠç”³è¯·ã€æ‹ç…§åé¦ˆ</li><li>è¿ç»´ä¸æ•…éšœç®¡ç†ï¼šåª’ä½“çš„æŠ¥ä¿®ä¸ç»´æŠ¤</li><li>é”€å”®ç®¡ç†ï¼šæŸ¥çœ‹åª’ä½“é”€å”®çŠ¶æ€ä¸åˆåŒ</li><li>ç”¨æˆ·ç®¡ç†ï¼šç”¨æˆ·æƒé™ä¸è§’è‰²ç®¡ç†ï¼Œå¾®ä¿¡ç™»å½•ä¸è´¦å¯†ç™»å½•</li><li>æ•°æ®ç»Ÿè®¡ï¼šå¹¿å‘Šç»Ÿè®¡ã€æ•…éšœç»Ÿè®¡</li><li>â€¦.å…¶ä»–éå…³é”®éœ€æ±‚</li></ul><h2 id="å®ä½“"><a href="#å®ä½“" class="headerlink" title="å®ä½“"></a>å®ä½“</h2><h3 id="å®ä½“èƒ½å¦åœ¨ç°å®ä¸­ç‹¬ç«‹å­˜åœ¨ï¼Ÿ"><a href="#å®ä½“èƒ½å¦åœ¨ç°å®ä¸­ç‹¬ç«‹å­˜åœ¨ï¼Ÿ" class="headerlink" title="å®ä½“èƒ½å¦åœ¨ç°å®ä¸­ç‹¬ç«‹å­˜åœ¨ï¼Ÿ"></a>å®ä½“èƒ½å¦åœ¨ç°å®ä¸­ç‹¬ç«‹å­˜åœ¨ï¼Ÿ</h3><p>è™½ç„¶ä¼ ç»Ÿä¸Šå®ä½“æ˜¯ç°å®ä¸­å¯åŒºåˆ†çš„ç‹¬ç«‹å¯¹è±¡â€ï¼Œä½†åœ¨æ•°æ®åº“å»ºæ¨¡ä¸­ï¼Œ<strong>â€œå®ä½“â€æ›´å¤šæ˜¯æŒ‡â€œåœ¨ç³»ç»Ÿä¸­æœ‰ç‹¬ç«‹èº«ä»½ã€éœ€è¦å•ç‹¬ç®¡ç†çš„æ•°æ®å¯¹è±¡â€</strong>ï¼Œå®ƒæ—¢å¯ä»¥æ˜¯ç°å®ä¸­çš„ç‹¬ç«‹ä¸ªä½“ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸ºäº†å»ºæ¨¡éœ€è¦è€ŒæŠ½è±¡å‡ºæ¥çš„é€»è¾‘å­˜åœ¨ã€‚</p><hr><h3 id="ç°å®ä¸­çš„â€œç‹¬ç«‹å­˜åœ¨â€-vs-æ•°æ®åº“ä¸­çš„â€œå®ä½“â€"><a href="#ç°å®ä¸­çš„â€œç‹¬ç«‹å­˜åœ¨â€-vs-æ•°æ®åº“ä¸­çš„â€œå®ä½“â€" class="headerlink" title="ç°å®ä¸­çš„â€œç‹¬ç«‹å­˜åœ¨â€ vs æ•°æ®åº“ä¸­çš„â€œå®ä½“â€"></a>ç°å®ä¸­çš„â€œç‹¬ç«‹å­˜åœ¨â€ vs æ•°æ®åº“ä¸­çš„â€œå®ä½“â€</h3><h4 id="å¼ºå®ä½“"><a href="#å¼ºå®ä½“" class="headerlink" title="å¼ºå®ä½“"></a>å¼ºå®ä½“</h4><p>è¿™ç±»å®ä½“ä¸ä¾èµ–äºå…¶ä»–å¯¹è±¡è€Œå­˜åœ¨ã€‚</p><ul><li><p><code>å­¦ç”Ÿ</code>ï¼šæœ‰å­¦å·ã€å§“åï¼Œå¯ä»¥ç‹¬ç«‹å­˜åœ¨ã€‚</p></li><li><p><code>æ•™å¸ˆ</code>ã€<code>è¯¾ç¨‹</code>ã€<code>å•†å“</code>ã€<code>å®¢æˆ·</code></p></li></ul><p>ğŸ“Œç‰¹å¾ï¼šæœ‰<strong>ä¸»é”®</strong>ï¼Œèƒ½ç‹¬ç«‹æ ‡è¯†è‡ªèº«ã€‚</p><h4 id="å¼±å®ä½“"><a href="#å¼±å®ä½“" class="headerlink" title="å¼±å®ä½“"></a>å¼±å®ä½“</h4><p>è¿™ç±»å®ä½“<strong>ä¸èƒ½ç‹¬ç«‹å­˜åœ¨</strong>ï¼Œå¿…é¡»ä¾é™„äºå¦ä¸€ä¸ªå®ä½“ã€‚</p><ul><li><p><code>è®¢å•é¡¹</code>ï¼ˆOrder Itemï¼‰ï¼šæ²¡æœ‰â€œè®¢å•â€å°±æ²¡æœ‰â€œè®¢å•é¡¹â€</p></li><li><p><code>å®¿èˆåºŠä½</code>ï¼šåªæœ‰åœ¨æŸæ ‹â€œå®¿èˆæ¥¼â€å­˜åœ¨æ—¶æ‰æœ‰æ„ä¹‰</p></li><li><p><code>é“¶è¡Œè´¦æˆ·äº¤æ˜“è®°å½•</code>ï¼šå¿…é¡»å±äºæŸä¸ªâ€œè´¦æˆ·â€</p></li></ul><p>ğŸ“Œ ç‰¹å¾ï¼šæ²¡æœ‰å®Œå…¨ç‹¬ç«‹çš„ä¸»é”®ï¼ˆç§°ä¸º<strong>éƒ¨åˆ†é”®</strong>æˆ–<strong>é‰´åˆ«ç¬¦</strong>ï¼‰</p><hr><h3 id="å®ä½“æœ¬è´¨"><a href="#å®ä½“æœ¬è´¨" class="headerlink" title="å®ä½“æœ¬è´¨"></a>å®ä½“æœ¬è´¨</h3><p>åœ¨æ•°æ®åº“è®¾è®¡ä¸­ï¼Œåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯â€œå®ä½“â€ï¼Œ<span style="background:#FFFFFF; color:#FF0000;">å…³é”®ä¸æ˜¯å®ƒæ˜¯å¦ç‰©ç†ç‹¬ç«‹</span>ï¼Œè€Œæ˜¯ï¼š</p><blockquote><p><strong>è¿™ä¸ªå¯¹è±¡æ˜¯å¦æœ‰è‡ªå·±çš„å±æ€§ï¼Ÿæ˜¯å¦éœ€è¦è¢«å”¯ä¸€æ ‡è¯†ï¼Ÿæ˜¯å¦å‚ä¸å…³ç³»ï¼Ÿ<span style="color:#FF0000;">æ˜¯å¦â€œéœ€è¦è¢«ç‹¬ç«‹ç®¡ç†å’Œæ ‡è¯†</span></strong></p></blockquote><p>å¦‚æœç­”æ¡ˆæ˜¯â€œæ˜¯â€ï¼Œé‚£å®ƒå°±å¯èƒ½æ˜¯ä¸€ä¸ªå®ä½“ï¼Œå“ªæ€•å®ƒæ˜¯ä¾é™„æ€§çš„ã€‚</p><p>æ¯”å¦‚â€œå­¦ç”Ÿâ€å’Œâ€œè¯¾ç¨‹â€ä¹‹é—´æ˜¯å¤šå¯¹å¤šå…³ç³»ã€‚ä¸ºäº†è®°å½•â€œé€‰è¯¾æˆç»©â€ï¼Œæˆ‘ä»¬ä¼šåˆ›å»ºä¸€ä¸ªå« <code>é€‰è¯¾è®°å½•</code> çš„å®ä½“ã€‚</p><ul><li><p>å®ƒçœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ªâ€œå…³ç³»â€ï¼Œä½†å› ä¸ºå®ƒæœ‰å±æ€§ï¼ˆå¦‚æˆç»©ã€é€‰è¯¾æ—¶é—´ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠå®ƒå½“ä½œ<strong>å®ä½“</strong>å¤„ç†ã€‚</p></li><li><p>åœ¨ERå›¾ä¸­ï¼Œå®ƒå¯ä»¥è¢«å»ºæ¨¡ä¸º<strong>å¼±å®ä½“</strong>æˆ–<strong>å…³è”å®ä½“</strong>ã€‚</p></li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å­¦ç”Ÿ â€”â€”&lt; é€‰è¯¾è®°å½• &gt;â€”â€” è¯¾ç¨‹</span><br><span class="line"><span class="code">         â†— (æˆç»©, æ—¶é—´)</span></span><br></pre></td></tr></table></figure><p>ğŸ‘‰ è™½ç„¶â€œé€‰è¯¾è®°å½•â€ä¸æ˜¯ä¸€ä¸ªç‰©ç†å¯¹è±¡ï¼Œä½†å®ƒåœ¨ç³»ç»Ÿä¸­éœ€è¦è¢«<strong>ç‹¬ç«‹å­˜å‚¨å’ŒæŸ¥è¯¢</strong>ï¼Œå› æ­¤è¢«è§†ä¸ºå®ä½“ã€‚</p><hr><h3 id="å®ä½“åˆ¤æ–­"><a href="#å®ä½“åˆ¤æ–­" class="headerlink" title="å®ä½“åˆ¤æ–­"></a>å®ä½“åˆ¤æ–­</h3><p>â€œå­˜åœ¨â€ä¸ä¸€å®šæ˜¯ç‰©ç†çš„ã€‚</p><ul><li><p>â€œåˆåŒâ€ä¸æ˜¯å®ç‰©ï¼Œä½†å®ƒæ˜¯æ³•å¾‹æ„ä¹‰ä¸Šçš„ç‹¬ç«‹å®ä½“ã€‚</p></li><li><p>â€œèˆªç­â€ä¸æ˜¯ç‰©ä½“ï¼Œè€Œæ˜¯äº‹ä»¶ï¼Œä½†ä»å¯ä½œä¸ºå®ä½“å»ºæ¨¡ã€‚</p></li><li><p>â€œé¡¹ç›®ä»»åŠ¡â€ã€â€œå·¥å•â€ã€â€œæ—¥å¿—æ¡ç›®â€ç­‰éƒ½æ˜¯é€»è¾‘å­˜åœ¨ï¼Œä½†éœ€ä½œä¸ºå®ä½“ç®¡ç†ã€‚</p></li></ul><p>æ‰€ä»¥ï¼Œåœ¨ä¿¡æ¯ç³»ç»Ÿä¸­ï¼Œâ€œå­˜åœ¨â€ &#x3D; <strong>å…·æœ‰å”¯ä¸€èº«ä»½ + å¯è¢«è¿½è¸ª + å¯è¢«æ“ä½œ</strong></p><table><thead><tr><th>åˆ¤æ–­æ ‡å‡†</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æ˜¯å¦æœ‰å”¯ä¸€æ ‡è¯†ï¼ˆä¸»é”®ï¼‰ï¼Ÿ</td><td>æ˜¯ â†’ å€¾å‘äºå®ä½“</td></tr><tr><td>æ˜¯å¦æœ‰å¤šä¸ªå±æ€§éœ€è¦è®°å½•ï¼Ÿ</td><td>æ˜¯ â†’ å€¾å‘äºå®ä½“</td></tr><tr><td>æ˜¯å¦å‚ä¸å¤šç§å…³ç³»ï¼Ÿ</td><td>æ˜¯ â†’ æ›´å¯èƒ½æ˜¯å®ä½“</td></tr><tr><td>æ˜¯å¦å¯è„±ç¦»å…¶ä»–å¯¹è±¡ç‹¬ç«‹å­˜åœ¨ï¼Ÿ</td><td>å¯ä»¥ â†’ å¼ºå®ä½“ï¼›ä¸å¯ä»¥ â†’ å¼±å®ä½“ï¼ˆä»æ˜¯å®ä½“ï¼‰</td></tr></tbody></table><blockquote><p>æ‰€ä»¥ï¼š<strong>å®ä½“ â‰  å¿…é¡»ç‰©ç†ç‹¬ç«‹å­˜åœ¨</strong>ï¼Œè€Œæ˜¯æŒ‡â€œåœ¨ç³»ç»Ÿä¸­å…·æœ‰ç‹¬ç«‹æ•°æ®èº«ä»½çš„å¯¹è±¡â€ã€‚ã€</p><p>åœ¨æ•°æ®åº“å»ºæ¨¡ä¸­ï¼Œ<strong>â€œå®ä½“â€æ˜¯ä¿¡æ¯ä¸–ç•Œçš„å…¬æ°‘</strong>â€”â€”åªè¦å®ƒæœ‰èº«ä»½è¯ï¼ˆä¸»é”®ï¼‰ã€æœ‰æ¡£æ¡ˆï¼ˆå±æ€§ï¼‰ã€èƒ½ä¸å…¶ä»–å¯¹è±¡äº’åŠ¨ï¼ˆå…³ç³»ï¼‰ï¼Œå®ƒå°±æ˜¯åˆæ³•çš„â€œå®ä½“â€ï¼Œæ— è®ºå®ƒåœ¨ç°å®ä¸­æ˜¯äººã€ç‰©ï¼Œè¿˜æ˜¯ä¸€ä¸ªäº‹ä»¶æˆ–å…³ç³»çš„å®ä¾‹ã€‚</p></blockquote><p>å¦‚æœä½ çœ‹åˆ°ä¸€ä¸ªå¯¹è±¡éœ€è¦è¢«æŒä¹…åŒ–ã€è¢«æŸ¥è¯¢ã€è¢«æ›´æ–°ï¼Œå“ªæ€•å®ƒæ˜¯ä¾é™„æ€§çš„ï¼Œä¹Ÿåº”è¯¥è€ƒè™‘å°†å…¶å»ºæ¨¡ä¸ºå®ä½“ï¼ˆå°¤å…¶æ˜¯å¼±å®ä½“æˆ–å…³è”å®ä½“ï¼‰ã€‚</p><h2 id="E-Rå›¾çš„ç»˜åˆ¶"><a href="#E-Rå›¾çš„ç»˜åˆ¶" class="headerlink" title="E-Rå›¾çš„ç»˜åˆ¶"></a>E-Rå›¾çš„ç»˜åˆ¶</h2><h3 id="è¯†åˆ«ä¸šåŠ¡ä¸­çš„å®ä½“"><a href="#è¯†åˆ«ä¸šåŠ¡ä¸­çš„å®ä½“" class="headerlink" title="è¯†åˆ«ä¸šåŠ¡ä¸­çš„å®ä½“"></a>è¯†åˆ«ä¸šåŠ¡ä¸­çš„å®ä½“</h3><p>å®ä½“æ˜¯éœ€è¦è¢«ç‹¬ç«‹ç®¡ç†å’Œè¡¨ç¤ºçš„å¯¹è±¡</p><ul><li><p>æ‰¾é‡å¤å‡ºç°çš„<strong>æ ¸å¿ƒåè¯</strong></p></li><li><p>æ’é™¤å±æ€§ï¼ˆå¦‚â€œå§“åâ€ä¸æ˜¯å®ä½“ï¼Œå®ƒæ˜¯äººçš„å±æ€§ï¼‰</p></li><li><p>å®ä½“é€šå¸¸èƒ½æ‹¥æœ‰è‡ªå·±çš„å±æ€§å’Œå‚ä¸å…³ç³»</p></li></ul><ol><li>åª’ä½“ï¼ˆåª’ä½“åŒºåŸŸã€å¹¿å‘ŠåˆŠç™»æƒ…å†µã€åª’ä½“IDã€åª’ä½“å¥—é¤ã€åª’ä½“ç±»å‹ã€åª’ä½“å•ä½ã€ç»´ä¿®è®°å½•ï¼Ÿã€ä¿ä¿®è®°å½•ï¼Ÿï¼‰</li><li>å¹¿å‘Šï¼ˆå¹¿å‘ŠIDã€ç”»é¢ã€åˆåŒï¼Œå®¡æ‰¹ï¼‰</li><li>ç”¨æˆ·ï¼ˆç”¨æˆ·IDï¼Œè´¦å¯†ï¼Œå¾®ä¿¡å·ï¼Ÿï¼‰</li></ol><h3 id="å±æ€§æ‹†åˆ†"><a href="#å±æ€§æ‹†åˆ†" class="headerlink" title="å±æ€§æ‹†åˆ†"></a>å±æ€§æ‹†åˆ†</h3><blockquote><p><strong>å±æ€§æ‹†åˆ†ï¼ˆå°¤å…¶æ˜¯å¤šå€¼ã€å¤åˆã€å¼±å®ä½“ï¼‰åº”åœ¨E-Rå›¾è®¾è®¡é˜¶æ®µå®Œæˆ</strong>ï¼Œè¿™æ˜¯æ¦‚å¿µå»ºæ¨¡çš„æ ¸å¿ƒä»»åŠ¡ã€‚é€»è¾‘æ¨¡å‹åªæ˜¯å°†E-Rå›¾è§„èŒƒåŒ–ä¸ºè¡¨ç»“æ„ã€‚</p></blockquote><h4 id="åª’ä½“æ‹†åˆ†"><a href="#åª’ä½“æ‹†åˆ†" class="headerlink" title="åª’ä½“æ‹†åˆ†"></a>åª’ä½“æ‹†åˆ†</h4><p>åª’ä½“ç±»å‹ã€åª’ä½“åŒºåŸŸï¼Œåª’ä½“å•ä½ç‹¬ç«‹å¤„ç†ï¼Œæ‹†åˆ†å‡ºæ¥</p><p>ä¸€ä¸ªåª’ä½“å¯èƒ½å½’å±å¤šä¸ªå¥—é¤ï¼Œ<span style="color:#FF0000;">å¤šå€¼é—®é¢˜</span>ï¼Œä¸€ä¸ªå±æ€§å¯èƒ½æœ‰å¤šä¸ªå€¼ï¼Œè¿›è¡Œæ‹†åˆ†</p><p>ç»´ä¿®&#x2F;ä¿ä¿®è®°å½•ï¼šä¸€ä¸ªåª’ä½“å¯èƒ½æœ‰å¤šä¸ªç»´ä¿®&#x2F;ä¿ä¿®è®°å½•ï¼Œè¿›è¡Œæ‹†åˆ†ï¼Œ<span style="color:#FF0000;">å¤šå€¼é—®é¢˜</span></p><p>å¹¿å‘ŠåˆŠç™»æƒ…å†µï¼šè¿™æ˜¯ä¸€ä¸ª<span style="color:#FF0000;">åŠ¨æ€çŠ¶æ€æˆ–è¡Œä¸º</span>ï¼Œä¸åº”ä½œä¸ºåª’ä½“å±æ€§ï¼Œåº”è¯¥å•ç‹¬è®¾ç½®â€å¹¿å‘Šæ’æœŸâ€œæˆ–è€…â€åˆŠç™»è®°å½•â€</p><p>æ€è€ƒï¼šä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥è®¾ç½®ä¸€ä¸ªå±æ€§ï¼šå¦‚æœæœ‰å¹¿å‘ŠåˆŠç™»å°±æŠŠå¹¿å‘Šidè®°å½•ï¼Œæ²¡æœ‰å°±ä¸ºç©ºè¿™ä¸æ˜¯æ²¡æ¯›ç—…å—</p><p>é—®é¢˜1ï¼š æ— æ³•è®°å½•å†å²åˆŠç™»æƒ…å†µï¼Œåªèƒ½è®°å½•å½“å‰åˆŠç™»çš„æƒ…å†µ</p><p>é—®é¢˜2ï¼šæ— æ³•åˆ¤æ–­æ—¶é—´æ˜¯å¦é‡å ï¼Œ</p><ul><li><p>å¹¿å‘ŠAæƒ³åœ¨2025-11-01~11-30åˆŠç™»ã€‚</p></li><li><p>å¹¿å‘ŠBä¹Ÿæƒ³åœ¨2025-11-15~12-15åˆŠç™»ã€‚</p></li></ul><p>åªæœ‰ä¸€ä¸ªå­—æ®µæ— æ³•åˆ¤æ–­ä¸¤ä¸ªå¹¿å‘Šæ˜¯å¦å†²çªï¼Œå¿…éœ€æœ‰â€œå¼€å§‹æ—¶é—´â€è·Ÿâ€œç»“æŸæ—¶é—´â€å­—æ®µï¼Œè€Œè¿™åªèƒ½å­˜æ”¾åœ¨ç‹¬ç«‹çš„â€œåˆŠç™»è®°å½•â€</p><p>é—®é¢˜3ï¼šä¸æ”¯æŒåŒä¸€ä¸ªåª’ä½“è½®æ’­</p><ul><li><p>æŸä¸ªLEDå¤§å±æ¯10ç§’è½®æ’­5ä¸ªå¹¿å‘Šã€‚</p></li><li><p>å®ƒâ€œåŒæ—¶â€åˆŠç™»äº†5ä¸ªå¹¿å‘Šã€‚</p></li></ul><p>å½“å‰åˆŠç™»å¹¿å‘ŠIDâ€å­—æ®µåªèƒ½å­˜ä¸€ä¸ªIDï¼Œ<strong>æ— æ³•è¡¨è¾¾å¤šå¹¿å‘Šå…±å­˜</strong>ã€‚</p><p> å¿…é¡»ç”¨ä¸€ä¸ªç‹¬ç«‹è¡¨æ¥è®°å½•â€œå“ªä¸ªå¹¿å‘Šåœ¨å“ªä¸ªåª’ä½“ä¸Šæ’­äº†å¤šå°‘æ—¶é—´</p><p>é—®é¢˜4ï¼šæ— æ³•ç»Ÿè®¡åˆ†æï¼ˆæ•°æ®ä¸¢å¤±ï¼‰</p><ul><li><p>â€œè¿‡å»ä¸€å¹´å“ªäº›åª’ä½“æœ€æŠ¢æ‰‹ï¼Ÿâ€</p></li><li><p>â€œå“ªä¸ªå®¢æˆ·æŠ•æ”¾æœ€å¤šï¼Ÿâ€</p></li><li><p>â€œæ˜¥èŠ‚æœŸé—´å¹¿å‘Šå•ä»·ä¸Šæ¶¨äº†å¤šå°‘ï¼Ÿâ€</p></li></ul><p>æ‰€æœ‰è¿™äº›åˆ†æéƒ½ä¾èµ–<strong>å†å²æ’æœŸæ•°æ®</strong>ã€‚å¦‚æœä½ åªå­˜â€œå½“å‰â€ï¼Œè¿™äº›åˆ†æç»Ÿç»Ÿåšä¸åˆ°ã€‚</p><blockquote><p><strong><span style="color:#FF0000;">ä¸è¦æŠŠä¸€ä¸ªâ€œä¼šå‘ç”Ÿå¤šæ¬¡ã€æœ‰æ—¶é—´å˜åŒ–ã€æ¶‰åŠå¤šä¸ªå¯¹è±¡â€çš„ä¸šåŠ¡è¡Œä¸º</span>ï¼Œå‹ç¼©æˆä¸€ä¸ªé™æ€å­—æ®µ</strong></p></blockquote><ul><li><p>â€œå¹¿å‘ŠåˆŠç™»â€æ˜¯ä¸€ä¸ª<strong>è¡Œä¸º</strong>ï¼ˆå¹¿å‘Š â†’ åœ¨ â†’ åª’ä½“ â†’ ä¸Š â†’ åˆŠç™»ï¼‰</p></li><li><p>å®ƒæœ‰<strong>å‚ä¸è€…</strong>ï¼ˆå¹¿å‘Šã€åª’ä½“ï¼‰</p></li><li><p>æœ‰<strong>æ—¶é—´èŒƒå›´</strong>ï¼ˆå¼€å§‹ã€ç»“æŸï¼‰</p></li><li><p>æœ‰<strong>çŠ¶æ€å˜åŒ–</strong>ï¼ˆå¾…å®¡ã€å·²ç™»ã€ç»“æŸï¼‰</p></li></ul><p>ğŸ‘‰ è¿™ç§å¤æ‚çš„è¡Œä¸ºï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<strong>å…³è”äº‹ä»¶</strong>ï¼Œåº”è¯¥ç”¨ä¸€å¼ <strong>ç‹¬ç«‹çš„è¡¨</strong>æ¥è®°å½•ï¼Œè€Œä¸æ˜¯å¡è¿›æŸä¸ªå®ä½“çš„ä¸€ä¸ªå­—æ®µé‡Œã€‚</p><p>ğŸ“Œ ç±»æ¯”ï¼š</p><ul><li><p>ä¸èƒ½å› ä¸ºâ€œç”¨æˆ·ä¹°äº†å•†å“â€ï¼Œå°±åœ¨ç”¨æˆ·è¡¨é‡ŒåŠ ä¸ª <code>å½“å‰è´­ä¹°å•†å“ID</code>ã€‚</p></li><li><p>è€Œåº”è¯¥å»ºâ€œè®¢å•â€è¡¨ï¼Œè®°å½•è°ã€ä»€ä¹ˆæ—¶å€™ã€ä¹°äº†ä»€ä¹ˆã€‚</p></li></ul><p>æ‹†åˆ†åçš„å®ä½“ï¼š</p><p>åª’ä½“ï¼šï¼ˆåª’ä½“IDã€åª’ä½“åŒºåŸŸIDã€åª’ä½“ç±»å‹IDï¼‰</p><p>åª’ä½“ç±»å‹ï¼šï¼ˆåª’ä½“ç±»å‹IDã€ç±»å‹åï¼‰</p><p>åª’ä½“å•ä½ï¼šï¼ˆåª’ä½“å•ä½IDã€å•ä½åï¼‰</p><p>åª’ä½“å¥—é¤ï¼šï¼ˆåª’ä½“å¥—é¤IDï¼Œå¥—é¤åï¼‰</p><p>åª’ä½“_å¥—é¤è®°å½•ï¼šï¼ˆåª’ä½“å¥—é¤IDã€åª’ä½“IDï¼‰</p><p>ç»´ä¿®è®°å½•ï¼šï¼ˆåª’ä½“IDï¼Œç»´ä¿®è®°å½•IDï¼‰</p><p>ä¿ä¿®è®°å½•ï¼šï¼ˆä¿ä¿®è®°å½•IDï¼Œåª’ä½“IDï¼‰</p><p>åˆŠç™»è®°å½•ï¼šï¼ˆåˆŠç™»IDã€åˆŠç™»çŠ¶æ€ã€åˆŠç™»æ—¶é—´ã€åª’ä½“IDï¼‰</p><h4 id="å¹¿å‘Šæ‹†åˆ†"><a href="#å¹¿å‘Šæ‹†åˆ†" class="headerlink" title="å¹¿å‘Šæ‹†åˆ†"></a>å¹¿å‘Šæ‹†åˆ†</h4><p>ç”»é¢ï¼šç”»é¢æ˜¯ä¸€ä¸ª<span style="color:#FF0000;">å¤åˆå±æ€§</span>ï¼Œæœ‰å¤šä¸ªç‰ˆæœ¬æˆ–å…ƒæ•°æ®ï¼ˆå°ºå¯¸ã€æ ¼å¼ã€å®¡æ ¸çŠ¶æ€ï¼‰ï¼Œåº”è¯¥è®¾ç½®å•ç‹¬å®ä½“</p><p>åˆåŒï¼š<span style="color:#FF0000;">å¤åˆå±æ€§</span>ï¼Œ</p><p>å®¡æ‰¹ï¼šå®¡æ‰¹æ˜¯ä¸€ä¸ª<span style="color:#FF0000;">åŠ¨æ€çŠ¶æ€æˆ–è¡Œä¸º</span>ï¼Œå¯èƒ½æ¶‰åŠå¤šä¸ªç¯èŠ‚ã€å®¡æ‰¹äººã€æ—¶é—´ã€æ„è§ã€‚åº”æ‹†ä¸ºâ€œå®¡æ‰¹è®°å½•â€å®ä½“ï¼Œä¸â€œå¹¿å‘Šâ€å»ºç«‹ä¸€å¯¹å¤šå…³ç³»ï¼ˆä¸€æ¬¡å¹¿å‘Šå¯èƒ½å¤šæ¬¡æäº¤å®¡æ‰¹ï¼‰ã€‚</p><p>æ‹†åˆ†åçš„å®ä½“ï¼š</p><p>å¹¿å‘Šï¼ˆå¹¿å‘ŠIDã€â€¦ï¼‰</p><p>åˆåŒï¼ˆåˆåŒIDã€å¹¿å‘ŠIDã€å®¢æˆ·ã€â€¦ï¼‰</p><p>ç”»é¢ï¼ˆå›¾ç‰‡ã€å°ºå¯¸ã€å®¡æ‰¹IDï¼‰</p><p>ç”»é¢å®¡æ‰¹è®°å½•ï¼ˆå®¡æ‰¹äººã€å®¡æ‰¹æ—¶é—´ã€ç”»é¢ID</p><h3 id="ç»˜åˆ¶E-Rå›¾"><a href="#ç»˜åˆ¶E-Rå›¾" class="headerlink" title="ç»˜åˆ¶E-Rå›¾"></a>ç»˜åˆ¶E-Rå›¾</h3>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®å»ºæ¨¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>spring-initæ¨¡æ¿</title>
      <link href="/2025/10/24/java/spring/spring-init%E6%A8%A1%E6%9D%BF/"/>
      <url>/2025/10/24/java/spring/spring-init%E6%A8%A1%E6%9D%BF/</url>
      
        <content type="html"><![CDATA[<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>åŸºäºspringbootçš„é¡¹ç›®åˆå§‹æ¨¡æ¿ï¼Œç”¨äºå¿«é€Ÿæ•´åˆåç«¯</p><p>ç›®å‰å®ç°ï¼š</p><ol><li>å…¨å±€ç™»å½•æ ¡éªŒæ‹¦æˆªå™¨<code>JwtTokenUserInterceptor</code></li><li>å…¨å±€å¼‚å¸¸å¤„ç†å™¨<code>GlobleException</code></li><li>è‡ªå®šä¹‰é”™è¯¯ç <code>ErrorCode</code></li><li>Knife4jæ¥å£</li><li>å…¨å±€è·¨åŸŸå¤„ç†<code>CorsConfig</code></li><li>å°è£…é€šç”¨å“åº”ç±»<code>Result</code></li><li>logbackæ—¥å¿—æŒ‰å¤©æ»šåŠ¨<code>logback-spring.xml</code></li><li>åŸºäºMockMVCçš„å•å…ƒæµ‹è¯•</li></ol><p>è®¡åˆ’å®ç°ï¼š</p><ol><li><span style="border:1px solid #FF0000;">springbootAOPåˆ‡é¢ç¼–ç¨‹</span></li><li><span style="border:1px solid #FF0000;">Springäº‹åŠ¡æ³¨è§£</span></li><li>Spring Scheduler å®šæ—¶ä»»åŠ¡</li><li>é›†æˆRedisã€OSSå¯¹è±¡å­˜å‚¨</li><li><span style="border:1px solid #FF0000;">ä¸šåŠ¡ä»£ç ç”Ÿæˆå™¨ï¼ˆè‡ªåŠ¨ç”Ÿæˆå¢åˆ æ”¹æŸ¥ï¼‰</span></li><li>Spring Session Redis åˆ†å¸ƒå¼ç™»å½•</li><li><span style="border:1px solid #FF0000;">è‡ªå®šä¹‰æƒé™æ³¨è§£ + å…¨å±€æ ¡éªŒ</span></li><li>æ–‡ä»¶ä¸Šä¼ </li><li>é›†æˆESæœç´¢å¼•æ“</li></ol><hr><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">|-- java</span><br><span class="line">|   `-- org</span><br><span class="line">|       `-- example</span><br><span class="line">|           |-- Main.java</span><br><span class="line">|           |-- common</span><br><span class="line">|           |   |-- DeleteRequest.java</span><br><span class="line">|           |   |-- ErrorCode.java</span><br><span class="line">|           |   |-- PageRequest.java</span><br><span class="line">|           |   `-- Result.java</span><br><span class="line">|           |-- config</span><br><span class="line">|           |   |-- MybatisPlusConfig.java</span><br><span class="line">|           |   `-- WebMvcConfigutation.java</span><br><span class="line">|           |-- constant</span><br><span class="line">|           |   |-- JwtClaimsConstant.java</span><br><span class="line">|           |   `-- SortConstant.java</span><br><span class="line">|           |-- context</span><br><span class="line">|           |   `-- BaseContext.java</span><br><span class="line">|           |-- controller</span><br><span class="line">|           |   |-- DeptController.java</span><br><span class="line">|           |   `-- UserController.java</span><br><span class="line">|           |-- enums</span><br><span class="line">|           |   `-- UserGenderEnum.java</span><br><span class="line">|           |-- exception</span><br><span class="line">|           |   |-- BusinessException.java</span><br><span class="line">|           |   |-- GloablExceptionHandler.java</span><br><span class="line">|           |   `-- ThrowUtils.java</span><br><span class="line">|           |-- handler</span><br><span class="line">|           |   `-- FillDataHandler.java</span><br><span class="line">|           |-- interceptor</span><br><span class="line">|           |   `-- JwtTokenUserInterceptor.java</span><br><span class="line">|           |-- mapper</span><br><span class="line">|           |   |-- DeptMapper.java</span><br><span class="line">|           |   `-- UserMapper.java</span><br><span class="line">|           |-- pojo</span><br><span class="line">|           |   |-- dto</span><br><span class="line">|           |   |   |-- dept</span><br><span class="line">|           |   |   |   |-- DeptAddRequest.java</span><br><span class="line">|           |   |   |   |-- DeptQueryRequest.java</span><br><span class="line">|           |   |   |   `-- DeptUpdateRequest.java</span><br><span class="line">|           |   |   `-- user</span><br><span class="line">|           |   |       |-- UserAddRequest.java</span><br><span class="line">|           |   |       |-- UserEditSecretRequest.java</span><br><span class="line">|           |   |       |-- UserLoginRequest.java</span><br><span class="line">|           |   |       |-- UserQueryRequest.java</span><br><span class="line">|           |   |       `-- UserUpdateRequest.java</span><br><span class="line">|           |   |-- entity</span><br><span class="line">|           |   |   |-- Dept.java</span><br><span class="line">|           |   |   `-- User.java</span><br><span class="line">|           |   `-- vo</span><br><span class="line">|           |       |-- UserLoginVO.java</span><br><span class="line">|           |       `-- UserVO.java</span><br><span class="line">|           |-- properties</span><br><span class="line">|           |   `-- JwtProperties.java</span><br><span class="line">|           |-- service</span><br><span class="line">|           |   |-- IDeptService.java</span><br><span class="line">|           |   |-- IUserService.java</span><br><span class="line">|           |   `-- impl</span><br><span class="line">|           |       |-- DeptServiceImpl.java</span><br><span class="line">|           |       `-- UserServiceImpl.java</span><br><span class="line">|           `-- utils</span><br><span class="line">|               |-- JwtUtil.java</span><br><span class="line">|               `-- SqlUtil.java</span><br><span class="line">`-- resources</span><br><span class="line"><span class="code">    |-- application.yml</span></span><br><span class="line"><span class="code">    |-- logback-spring.xml</span></span><br><span class="line"><span class="code">    `-- mapper</span></span><br><span class="line"><span class="code">        |-- DeptMapper.xml</span></span><br><span class="line"><span class="code">        `-- UserMapper.xm</span></span><br></pre></td></tr></table></figure><p>æ¨¡æ¿ç‰ˆæœ¬ï¼š</p><ul><li><p>springboot2.7.16</p></li><li><p>jdk8</p></li></ul><h2 id="Knife4j"><a href="#Knife4j" class="headerlink" title="Knife4j"></a>Knife4j</h2><p>æ˜¯swaggerä¸€ä¸ªRestful Apiå¼€æºæ¡†æ¶ï¼ŒOpenApiè§„èŒƒçš„æ¥æº)çš„å¢å¼ºç‰ˆï¼Œæœ€åˆæ˜¯ç¾åŒ–Swaggerçš„ç•Œé¢ï¼Œåé¢å‡çº§ä¸ºKnife4j</p><p>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://doc.xiaominfo.com/docs/quick-start">å¿«é€Ÿå¼€å§‹ | Knife4j</a></p><p>é€‚ç”¨äºspring2.4-3.0</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.xiaoymin<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>knife4j-openapi2-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.4.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç›´æ¥ä½¿ç”¨ymlæ–‡ä»¶é…ç½®æ— éœ€ç¼–å†™é…ç½®ç±»</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">knife4j:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">openapi:</span></span><br><span class="line">      <span class="attr">title:</span> <span class="string">æ¥å£æ–‡æ¡£</span></span><br><span class="line">      <span class="attr">version:</span> <span class="number">1.0</span><span class="number">.0</span></span><br><span class="line">      <span class="attr">group:</span></span><br><span class="line">        <span class="attr">default:</span></span><br><span class="line"></span><br><span class="line">          <span class="attr">api-rule:</span> <span class="string">package</span></span><br><span class="line">          <span class="attr">api-rule-resources:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">org.example.controller</span>  </span><br><span class="line"><span class="comment">#spring:  </span></span><br><span class="line"><span class="comment">#   mvc:</span></span><br><span class="line"><span class="comment">#      path match:</span></span><br><span class="line"><span class="comment">#        matching-strategy: ant_path_matcher</span></span><br></pre></td></tr></table></figure><h2 id="Jwt"><a href="#Jwt" class="headerlink" title="Jwt"></a>Jwt</h2><h3 id="è®¤è¯†"><a href="#è®¤è¯†" class="headerlink" title="è®¤è¯†"></a>è®¤è¯†</h3><p>ä¸€ç§éåŠ å¯†ï¼Œé˜²æ­¢ç¯¡æ”¹çš„è®¤è¯ï¼Œæ— éœ€å­˜å‚¨åœ¨æœåŠ¡å™¨</p><p>ä¸‰ä¸ªç»„æˆéƒ¨åˆ†ï¼Œç”¨<code>.</code>åˆ†éš”ï¼š</p><ul><li><p>Header æ ‡å¤´ï¼ˆå­˜æ”¾ä»¤ç‰Œç±»å‹ä¸ç­¾åç®—æ³•ï¼‰</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;alg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;HS256&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;typ&quot;</span><span class="punctuation">:</span> <span class="string">&quot;JWT&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>Payload æœ‰æ•ˆè½½è·ï¼ˆå­˜æ”¾tokenä¿¡æ¯ï¼‰</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;sub&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1234567890&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;John Doe&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;admin&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>Signature ç­¾å (é˜²æ­¢ç¯¡æ”¹ï¼Œå”¯ä¸€åŠ å¯†çš„åœ°æ–¹)</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HMACSHA256(</span><br><span class="line">  base64UrlEncode(header) + <span class="string">&quot;.&quot;</span> +</span><br><span class="line">  base64UrlEncode(payload)<span class="punctuation">,</span></span><br><span class="line">  secret)</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¾ç¤ºäº†ä¸€ä¸ª JWTï¼Œå®ƒå¯¹å‰é¢çš„æ ‡å¤´å’Œæœ‰æ•ˆè´Ÿè½½è¿›è¡Œäº†ç¼–ç ï¼Œå¹¶ä½¿ç”¨ç§˜ç è¿›è¡Œäº†ç­¾å. <img src="https://cdn.auth0.com/content/jwt/encoded-jwt3.png" alt="Encoded JWT"></p></li></ul><h3 id="springä¸­ä½¿ç”¨"><a href="#springä¸­ä½¿ç”¨" class="headerlink" title="springä¸­ä½¿ç”¨"></a>springä¸­ä½¿ç”¨</h3><p>ä½¿ç”¨é€»è¾‘ä¸æ€è·¯ï¼š</p><p>åœ¨è¿›è¡Œé¡µé¢æ“ä½œå‰ï¼Œç”±æ‹¦æˆªå™¨æ‹¦æˆªè¯·æ±‚å¹¶éªŒè¯jwtä»¤ç‰Œã€‚ç™»å½•æ‹¿åˆ°ä»¤ç‰Œ</p><p>å¯¼åŒ…</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.jsonwebtoken<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jjwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å‰ç½®å‡†å¤‡"><a href="#å‰ç½®å‡†å¤‡" class="headerlink" title="å‰ç½®å‡†å¤‡"></a>å‰ç½®å‡†å¤‡</h4><ol><li><p>é…ç½®ç­¾åéƒ¨åˆ†åŠ å¯†çš„ç›</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;wh.jwt&quot;)</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JwtProperties</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String secretKey;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> ttlMill</span><br><span class="line"></span><br><span class="line">is;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è‡ªå®šä¹‰æœ‰æ•ˆè´Ÿè½½</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JwtClaimsConstant</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">USER_ID</span> <span class="operator">=</span> <span class="string">&quot;userId&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å®ç°jwtå·¥å…·ç±»ç”¨äºåˆ›å»ºå’Œè§£æä»¤ç‰Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç”Ÿæˆjwt</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JwtUtil</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”Ÿæˆ Token</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">createToken</span><span class="params">(String secretKey, <span class="type">long</span> ttlMillis, Map&lt;String,Object&gt; claims)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è®¾ç½®ç­¾åç®—æ³•å³Header</span></span><br><span class="line">        <span class="type">SignatureAlgorithm</span> <span class="variable">signatureAlgorithm</span> <span class="operator">=</span> SignatureAlgorithm.HS256;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è®¾ç½®è¿‡æœŸæ—¶é—´</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">expMills</span> <span class="operator">=</span> System.currentTimeMillis() + ttlMillis;</span><br><span class="line">        <span class="type">Date</span> <span class="variable">exp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>(expMills);</span><br><span class="line">            <span class="keyword">return</span> Jwts.builder()</span><br><span class="line">         .setClaims(claims)   <span class="comment">//è®¾ç½®æœ‰æ•ˆè´Ÿè½½</span></span><br><span class="line">            .signWith(signatureAlgorithm, secretKey.getBytes(StandardCharsets.UTF_8))  <span class="comment">//è®¾ç½®ç­¾ååŠ å¯†çš„ç›</span></span><br><span class="line">            .setExpiration(exp)  <span class="comment">//è®¾ç½®è¿‡æœŸæ—¶é—´</span></span><br><span class="line">            .compact();   <span class="comment">//æ‹¼æ¥è¿”å›</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¡éªŒtokenï¼Œå¹¶æ‹¿åˆ°æœ‰æ•ˆè´Ÿè½½éƒ¨åˆ†</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Claims <span class="title function_">parseJWT</span><span class="params">(String secretKey, String token)</span> &#123;</span><br><span class="line">   <span class="keyword">return</span> Jwts.parser()</span><br><span class="line">           .setSigningKey(secretKey.getBytes(StandardCharsets.UTF_8))</span><br><span class="line">           .parseClaimsJws(token).getBody();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h5 id="springé›†æˆ"><a href="#springé›†æˆ" class="headerlink" title="springé›†æˆ"></a>springé›†æˆ</h5><ol><li>å®šä¹‰æ‹¦æˆªå™¨</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JwtTokenUserInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Autowired</span></span><br><span class="line"> <span class="keyword">private</span> <span class="keyword">final</span> JwtProperties jwtProperties;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="comment">//æ ¡éªŒjwtä»¤ç‰Œ</span></span><br><span class="line"> <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">     <span class="keyword">if</span>(!(handler <span class="keyword">instanceof</span> HandlerMethod)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="comment">//tokené»˜è®¤è®¾ç½®å°±æ˜¯åœ¨Headerçš„Authorizationéƒ¨åˆ†</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> request.getHeader(<span class="string">&quot;Authorization&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">         <span class="comment">//æ‹¿åˆ°æœ‰æ•ˆè´Ÿè½½</span></span><br><span class="line">         <span class="type">Claims</span> <span class="variable">claims</span> <span class="operator">=</span> JwtUtil.parseJWT(jwtProperties.getSecretKey(), token);</span><br><span class="line">         <span class="type">Integer</span> <span class="variable">id</span> <span class="operator">=</span> (Integer) claims.get(JwtClaimsConstant.USER_ID);</span><br><span class="line"></span><br><span class="line">         <span class="comment">//å°†å½“å‰ç”¨æˆ·å­˜å‚¨åœ¨BaseContextä¸­</span></span><br><span class="line">         BaseContext.setCurrentId(id);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;<span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        response.setStatus(<span class="number">401</span>);</span><br><span class="line">        log.error(<span class="string">&quot;ç”¨æˆ·è®¤è¯å¤±è´¥ï¼&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>æ‹¦æˆªå™¨é…ç½®ä½¿å…¶ç”Ÿæ•ˆ</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebMvcConfigutation</span> <span class="keyword">extends</span> <span class="title class_">WebMvcConfigurationSupport</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JwtTokenUserInterceptor jwtTokenUserInterceptor;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(org.springframework.web.servlet.config.annotation.InterceptorRegistry registry)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;å¼€å§‹æ³¨å†Œè‡ªå®šä¹‰æ‹¦æˆªå™¨...&quot;</span>);</span><br><span class="line">        registry.addInterceptor(jwtTokenUserInterceptor)</span><br><span class="line">                .addPathPatterns(<span class="string">&quot;/**&quot;</span>)</span><br><span class="line">                .excludePathPatterns(</span><br><span class="line">                        <span class="string">&quot;/user/login&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;/user/register&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;/doc.html&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;/doc.html/**&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;/webjars/**&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;/swagger-resources/**&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;/v2/api-docs&quot;</span></span><br><span class="line">                );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/doc.html&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/META-INF/resources/&quot;</span>);</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/webjars/**&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/META-INF/resources/webjars/&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>ç™»å½•æ¥å£ä¸­ç›¸å…³ä½¿ç”¨</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç”¨æˆ·ç™»å½•æˆåŠŸï¼Œç”Ÿæˆjwtä»¤ç‰Œ</span></span><br><span class="line">Map&lt;String,Object&gt; claims = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‹¼æ¥è‡ªå®šä¹‰æœ‰æ•ˆè´Ÿè½½</span></span><br><span class="line">claims.put(JwtClaimsConstant.USER_ID, user.getId());</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”Ÿæˆtoken</span></span><br><span class="line"><span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> JwtUtil.createToken(</span><br><span class="line">        jwtProperties.getSecretKey(),  <span class="comment">//è®¾ç½®åŠ å¯†çš„ç›</span></span><br><span class="line">        jwtProperties.getTtlMillis(),  <span class="comment">//è®¾ç½®æœ‰æ•ˆæ—¶é—´</span></span><br><span class="line">        claims);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">UserLoginVO</span> <span class="variable">userLoginVO</span> <span class="operator">=</span>UserLoginVO.builder()</span><br><span class="line">        .id(user.getId())</span><br><span class="line">        .username(user.getUsername())</span><br><span class="line">        .deptId(user.getDeptId())</span><br><span class="line">        .gender(user.getGender().getI())</span><br><span class="line">        .token(token)  <span class="comment">//åœ¨è¿™é‡Œè¿”å›åˆ°å‰ç«¯</span></span><br><span class="line">        .build();</span><br></pre></td></tr></table></figure><h2 id="å…¨å±€å¼‚å¸¸å¤„ç†"><a href="#å…¨å±€å¼‚å¸¸å¤„ç†" class="headerlink" title="å…¨å±€å¼‚å¸¸å¤„ç†"></a>å…¨å±€å¼‚å¸¸å¤„ç†</h2><h3 id="è‡ªå®šä¹‰å¼‚å¸¸"><a href="#è‡ªå®šä¹‰å¼‚å¸¸" class="headerlink" title="è‡ªå®šä¹‰å¼‚å¸¸"></a>è‡ªå®šä¹‰å¼‚å¸¸</h3><ol><li>å®šä¹‰å¼‚å¸¸é”™è¯¯ç æšä¸¾</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example.common;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">ErrorCode</span> &#123;</span><br><span class="line">    PARAMS_ERROR(<span class="number">40000</span>, <span class="string">&quot;è¯·æ±‚å‚æ•°é”™è¯¯&quot;</span>),</span><br><span class="line">    NULL_ERROR(<span class="number">40001</span>, <span class="string">&quot;è¯·æ±‚æ•°æ®ä¸ºç©º&quot;</span>),</span><br><span class="line">    NOT_LOGIN(<span class="number">40100</span>, <span class="string">&quot;æœªç™»å½•&quot;</span>),</span><br><span class="line">    NO_AUTH(<span class="number">40101</span>, <span class="string">&quot;æ— æƒé™&quot;</span>),</span><br><span class="line">    SYSTEM_ERROR(<span class="number">50000</span>, <span class="string">&quot;ç³»ç»Ÿå†…éƒ¨å¼‚å¸¸&quot;</span>),</span><br><span class="line">    OPERATION_ERROR(<span class="number">50001</span>, <span class="string">&quot;æ“ä½œå¤±è´¥&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> code;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String message;</span><br><span class="line"></span><br><span class="line">    ErrorCode(<span class="type">int</span> code, String message) &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">        <span class="built_in">this</span>.message = message;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMessage</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> message;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>è‡ªå®šä¹‰ä¸šåŠ¡å¼‚å¸¸</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example.exception;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.example.common.ErrorCode;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//è‡ªå®šä¹‰å¼‚å¸¸ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BusinessException</span> <span class="keyword">extends</span> <span class="title class_">RuntimeException</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é”™è¯¯ç </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> code;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">BusinessException</span><span class="params">(<span class="type">int</span> code, String message)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(message);</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">BusinessException</span><span class="params">(ErrorCode errorCode)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(errorCode.getMessage());</span><br><span class="line">        <span class="built_in">this</span>.code = errorCode.getCode();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">BusinessException</span><span class="params">(ErrorCode errorCode, String message)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(message);</span><br><span class="line">        <span class="built_in">this</span>.code = errorCode.getCode();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¼‚å¸¸å·¥å…·ç±»"><a href="#å¼‚å¸¸å·¥å…·ç±»" class="headerlink" title="å¼‚å¸¸å·¥å…·ç±»"></a>å¼‚å¸¸å·¥å…·ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æŠ›å¼‚å¸¸å·¥å…·ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThrowUtils</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ™®é€šå¼‚å¸¸</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">throwIf</span><span class="params">(<span class="type">boolean</span> condition, RuntimeException runtimeException)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (condition) &#123;</span><br><span class="line">            <span class="keyword">throw</span> runtimeException;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¸šåŠ¡å¼‚å¸¸</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">throwIf</span><span class="params">(<span class="type">boolean</span> condition, <span class="type">int</span> errorCode,String message)</span>&#123;</span><br><span class="line">        throwIf(condition,<span class="keyword">new</span> <span class="title class_">BusinessException</span>(errorCode,message));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¸šåŠ¡å¼‚å¸¸</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">throwIf</span><span class="params">(<span class="type">boolean</span> condition, ErrorCode errorCode)</span>&#123;</span><br><span class="line">        throwIf(condition,<span class="keyword">new</span> <span class="title class_">BusinessException</span>(errorCode));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å…¨å±€å¼‚å¸¸å¤„ç†å™¨"><a href="#å…¨å±€å¼‚å¸¸å¤„ç†å™¨" class="headerlink" title="å…¨å±€å¼‚å¸¸å¤„ç†å™¨"></a>å…¨å±€å¼‚å¸¸å¤„ç†å™¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestControllerAdvice</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GloablExceptionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è‡ªå®šä¹‰å¼‚å¸¸</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(BusinessException.class)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">handle</span><span class="params">(BusinessException e)</span> &#123;</span><br><span class="line">        log.error(<span class="string">&quot;å¼‚å¸¸ä¿¡æ¯:&#123;&#125;&quot;</span>,e.getMessage());</span><br><span class="line">        <span class="keyword">return</span> Result.error(e.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler(MethodArgumentNotValidException.class)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">handleValidationException</span><span class="params">(MethodArgumentNotValidException ex)</span> &#123;</span><br><span class="line">        <span class="comment">// è‡ªå®šä¹‰é”™è¯¯å¤„ç†é€»è¾‘</span></span><br><span class="line">        <span class="keyword">return</span> Result.error(<span class="string">&quot;å‚æ•°æ ¡éªŒå¤±è´¥&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç³»ç»Ÿé”™è¯¯</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(RuntimeException.class)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">handle</span><span class="params">(RuntimeException e)</span> &#123;</span><br><span class="line">        log.error(<span class="string">&quot;RuntimeException&quot;</span>,e);</span><br><span class="line">        <span class="keyword">return</span> Result.error(ErrorCode.SYSTEM_ERROR);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŸºæœ¬å…¬ç”¨æ¨¡å—"><a href="#åŸºæœ¬å…¬ç”¨æ¨¡å—" class="headerlink" title="åŸºæœ¬å…¬ç”¨æ¨¡å—"></a>åŸºæœ¬å…¬ç”¨æ¨¡å—</h2><h3 id="å…¬ç”¨è¯·æ±‚ç±»"><a href="#å…¬ç”¨è¯·æ±‚ç±»" class="headerlink" title="å…¬ç”¨è¯·æ±‚ç±»"></a>å…¬ç”¨è¯·æ±‚ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeleteRequest</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Long&gt; ids;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PageRequest</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span>&#123;</span><br><span class="line">    <span class="comment">//å½“å‰é¡µ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">current</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">pageSize</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="comment">//æ’åºå­—æ®µ</span></span><br><span class="line">    <span class="keyword">private</span> String sortField;</span><br><span class="line">    <span class="comment">//é»˜è®¤å‡åº</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">sortOrder</span> <span class="operator">=</span> SortConstant.SORT_ORDER_ASC;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å…¬ç”¨è¿”å›ç»“æœ"><a href="#å…¬ç”¨è¿”å›ç»“æœ" class="headerlink" title="å…¬ç”¨è¿”å›ç»“æœ"></a>å…¬ç”¨è¿”å›ç»“æœ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Result</span>&lt;T&gt; <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer code;</span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line">    <span class="keyword">private</span> T data;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="title function_">success</span><span class="params">()</span> &#123;</span><br><span class="line">        Result&lt;T&gt; result = <span class="keyword">new</span> <span class="title class_">Result</span>&lt;&gt;();</span><br><span class="line">        result.code = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="title function_">success</span><span class="params">(T data)</span> &#123;</span><br><span class="line">        Result&lt;T&gt; result = <span class="keyword">new</span> <span class="title class_">Result</span>&lt;&gt;();</span><br><span class="line">        result.code = <span class="number">1</span>;</span><br><span class="line">        result.data = data;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="title function_">error</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        <span class="type">Result</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Result</span>();</span><br><span class="line">        result.msg = msg;</span><br><span class="line">        result.code = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="title function_">error</span><span class="params">(ErrorCode errorCode)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> error(errorCode.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="BaseContextå·¥å…·ç±»"><a href="#BaseContextå·¥å…·ç±»" class="headerlink" title="BaseContextå·¥å…·ç±»"></a>BaseContextå·¥å…·ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BaseContext</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ThreadLocal&lt;Integer&gt; threadLocal = <span class="keyword">new</span> <span class="title class_">ThreadLocal</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">setCurrentId</span><span class="params">(Integer id)</span>&#123;</span><br><span class="line">        threadLocal.set(id);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title function_">getCurrentId</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> threadLocal.get();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">()</span>&#123;</span><br><span class="line">        threadLocal.remove();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="SqlUtilså·¥å…·ç±»"><a href="#SqlUtilså·¥å…·ç±»" class="headerlink" title="SqlUtilså·¥å…·ç±»"></a>SqlUtilså·¥å…·ç±»</h3><p>ç”¨äºæ ¡éªŒæ’åºå­—æ®µæ˜¯å¦åˆæ³•ï¼Œé˜²æ­¢SQLæ³¨å…¥</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ£€æŸ¥åˆ†é¡µæ¡ä»¶å­—æ®µ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SqlUtil</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">validSortField</span><span class="params">(String sortField)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(StringUtils.isBlank(sortField)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> !StringUtils.containsAny(sortField, <span class="string">&#x27;=&#x27;</span>, <span class="string">&#x27;(&#x27;</span>, <span class="string">&#x27;)&#x27;</span>, <span class="string">&#x27; &#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="SpringContextUtilså·¥å…·ç±»"><a href="#SpringContextUtilså·¥å…·ç±»" class="headerlink" title="SpringContextUtilså·¥å…·ç±»"></a>SpringContextUtilså·¥å…·ç±»</h3><p>ç”¨äºéIOCå®¹å™¨ç®¡ç†çš„ç»„ä»¶ï¼Œèƒ½ä»ä¸Šä¸‹æ–‡ä¸­æ‹¿åˆ°éœ€è¦çš„ç»„ä»¶</p><h3 id="NetUtilså·¥å…·ç±»"><a href="#NetUtilså·¥å…·ç±»" class="headerlink" title="NetUtilså·¥å…·ç±»"></a>NetUtilså·¥å…·ç±»</h3><p>ç½‘ç»œè¯·æ±‚çš„å·¥å…·ç±»</p><h2 id="é€šç”¨é…ç½®"><a href="#é€šç”¨é…ç½®" class="headerlink" title="é€šç”¨é…ç½®"></a>é€šç”¨é…ç½®</h2><h3 id="é…ç½®å…¨å±€è·¨åŸŸ"><a href="#é…ç½®å…¨å±€è·¨åŸŸ" class="headerlink" title="é…ç½®å…¨å±€è·¨åŸŸ"></a>é…ç½®å…¨å±€è·¨åŸŸ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CorsConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addCorsMappings</span><span class="params">(CorsRegistry registry)</span> &#123;</span><br><span class="line">        <span class="comment">//è¦†ç›–æ‰€æœ‰è¯·æ±‚</span></span><br><span class="line">        registry.addMapping(<span class="string">&quot;/**&quot;</span>)</span><br><span class="line">                .allowCredentials(<span class="literal">true</span>)</span><br><span class="line">                .allowedOrigins(<span class="string">&quot;*&quot;</span>)</span><br><span class="line">                .allowedMethods(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;POST&quot;</span>, <span class="string">&quot;PUT&quot;</span>, <span class="string">&quot;DELETE&quot;</span>, <span class="string">&quot;OPTIONS&quot;</span>, <span class="string">&quot;HEAD&quot;</span>)</span><br><span class="line">                .allowedHeaders(<span class="string">&quot;*&quot;</span>)</span><br><span class="line">                .exposedHeaders(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é…ç½®Mybatis-plusåˆ†é¡µæ’ä»¶"><a href="#é…ç½®Mybatis-plusåˆ†é¡µæ’ä»¶" class="headerlink" title="é…ç½®Mybatis-plusåˆ†é¡µæ’ä»¶"></a>é…ç½®Mybatis-plusåˆ†é¡µæ’ä»¶</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisPlusConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MybatisPlusInterceptor <span class="title function_">mybatisPlusInterceptor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">MybatisPlusInterceptor</span> <span class="variable">interceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MybatisPlusInterceptor</span>();</span><br><span class="line">        interceptor.addInnerInterceptor(<span class="keyword">new</span> <span class="title class_">PaginationInnerInterceptor</span>(DbType.MYSQL));</span><br><span class="line">        <span class="keyword">return</span> interceptor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å·¥å…·åŒ…é›†æˆ"><a href="#å·¥å…·åŒ…é›†æˆ" class="headerlink" title="å·¥å…·åŒ…é›†æˆ"></a>å·¥å…·åŒ…é›†æˆ</h3><ol><li><p>hutoolå·¥å…·åŒ…é›†æˆ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.hutool<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hutool-all<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.8.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>commons-lang3å·¥å…·åŒ…é›†æˆ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-lang3<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¸¸ç”¨å·¥å…·ç±»ï¼š<code>StringUtilså­—ç¬¦ä¸²å¤„ç†å·¥å…·ç±»</code>,<code>ObjectUtilså¯¹è±¡æ“ä½œå·¥å…·ç±»</code></p></li></ol><h3 id="é…ç½®Jsonå¤„ç†"><a href="#é…ç½®Jsonå¤„ç†" class="headerlink" title="é…ç½®Jsonå¤„ç†"></a>é…ç½®Jsonå¤„ç†</h3><p>è§£å†³JavaScriptä¸­çš„numberæ— æ³•ç²¾ç¡®è¡¨ç¤ºJavaä¸­å®Œæ•´çš„Longç±»å‹æ•°æ®</p><h2 id="åŸºæœ¬å¢åˆ æ”¹æŸ¥"><a href="#åŸºæœ¬å¢åˆ æ”¹æŸ¥" class="headerlink" title="åŸºæœ¬å¢åˆ æ”¹æŸ¥"></a>åŸºæœ¬å¢åˆ æ”¹æŸ¥</h2><h3 id="VOè®¾ç½®"><a href="#VOè®¾ç½®" class="headerlink" title="VOè®¾ç½®"></a>VOè®¾ç½®</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yupi.springbootinit.model.vo;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¸–å­è§†å›¾</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PostVO</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String title;</span><br><span class="line">    <span class="keyword">private</span> String content;</span><br><span class="line">    <span class="keyword">private</span> Long userId;</span><br><span class="line">    <span class="keyword">private</span> Date createTime;</span><br><span class="line">    <span class="keyword">private</span> Date updateTime;</span><br><span class="line">    <span class="comment">//æ³¨æ„åŒ…è£…ç±»é‡Œé¢çš„å¯¹è±¡ä¹Ÿæ˜¯åŒ…è£…ç±»</span></span><br><span class="line">    <span class="keyword">private</span> UserVO user;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åŒ…è£…ç±»è½¬å¯¹è±¡</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> postVO</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Post <span class="title function_">voToObj</span><span class="params">(PostVO postVO)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (postVO == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Post</span> <span class="variable">post</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Post</span>();</span><br><span class="line">        BeanUtils.copyProperties(postVO, post);</span><br><span class="line">        List&lt;String&gt; tagList = postVO.getTagList();</span><br><span class="line">        post.setTags(JSONUtil.toJsonStr(tagList));</span><br><span class="line">        <span class="keyword">return</span> post;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¹è±¡è½¬åŒ…è£…ç±»</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> post</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> PostVO <span class="title function_">objToVo</span><span class="params">(Post post)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (post == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">PostVO</span> <span class="variable">postVO</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PostVO</span>();</span><br><span class="line">        BeanUtils.copyProperties(post, postVO);</span><br><span class="line">        postVO.setTagList(JSONUtil.toList(post.getTags(), String.class));</span><br><span class="line">        <span class="keyword">return</span> postVO;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç›´æ¥åœ¨VOä¸­é…ç½®å¯¹åº”çš„åŒ…è£…ç±»ç›¸äº’è½¬æ¢ï¼Œå› ä¸ºVOç›¸å¯¹ç¨³å®šï¼Œä¸€ä¸ªå®ä½“ç±»é€šå¸¸å¯¹åº”ä¸€ä¸ªVOï¼Œå…¶æ¬¡è¿™ä¸ªåŒ…è£…ç±»è·Ÿå¯¹è±¡çš„è½¬æ¢å¾ˆé¢‘ç¹</p><h3 id="DTOè®¾ç½®"><a href="#DTOè®¾ç½®" class="headerlink" title="DTOè®¾ç½®"></a>DTOè®¾ç½®</h3><h4 id="å¢"><a href="#å¢" class="headerlink" title="å¢"></a>å¢</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AddRequest</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String title;</span><br><span class="line">    <span class="keyword">private</span> String content;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åˆ "><a href="#åˆ " class="headerlink" title="åˆ "></a>åˆ </h4><p>åˆ é™¤é…ç½®ä¸€ä¸ªé€šç”¨çš„è¯·æ±‚ï¼Œå› ä¸ºåˆ é™¤åŸºæœ¬ä¸Šéƒ½æ˜¯ä¼ å…¥åˆ é™¤id</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeleteRequest</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Long&gt; ids;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="æ”¹"><a href="#æ”¹" class="headerlink" title="æ”¹"></a>æ”¹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UpdateRequest</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String title;</span><br><span class="line">    <span class="keyword">private</span> String content;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æŸ¥"><a href="#æŸ¥" class="headerlink" title="æŸ¥"></a>æŸ¥</h4><p>è¿™é‡Œä¸ºäº†åˆ†é¡µéœ€è¦ï¼Œè®¾ç½®ä¸€ä¸ªå…¬ç”¨åˆ†é¡µè¯·æ±‚çˆ¶ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PageRequest</span> &#123;</span><br><span class="line">    <span class="comment">//å½“å‰é¡µ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">current</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">pageSize</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="comment">//æ’åºå­—æ®µ</span></span><br><span class="line">    <span class="keyword">private</span> String sortField;</span><br><span class="line">    <span class="comment">//é»˜è®¤å‡åº</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">sortOrder</span> <span class="operator">=</span> SortConstant.SORT_ORDER_ASC;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç”¨è¯·æ±‚ç±»ç»§æ‰¿è¿™ä¸ªåˆ†é¡µçˆ¶ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserQueryRequest</span> <span class="keyword">extends</span> <span class="title class_">PageRequest</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> Integer deptId;</span><br><span class="line">    <span class="keyword">private</span> Integer gender;</span><br><span class="line">    <span class="keyword">private</span> String dept_name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">package</span> org.example.controller;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.Api;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiOperation;</span><br><span class="line"><span class="keyword">import</span> org.example.common.DeleteRequest;</span><br><span class="line"><span class="keyword">import</span> org.example.common.Result;</span><br><span class="line"><span class="keyword">import</span> org.example.exception.ThrowUtils;</span><br><span class="line"><span class="keyword">import</span> org.example.pojo.dto.dept.DeptAddRequest;</span><br><span class="line"><span class="keyword">import</span> org.example.pojo.dto.dept.DeptQueryRequest;</span><br><span class="line"><span class="keyword">import</span> org.example.pojo.dto.dept.DeptUpdateRequest;</span><br><span class="line"><span class="keyword">import</span> org.example.pojo.entity.Dept;</span><br><span class="line"><span class="keyword">import</span> org.example.service.impl.DeptServiceImpl;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.BeanUtils;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * éƒ¨é—¨è¡¨ å‰ç«¯æ§åˆ¶å™¨</span></span><br><span class="line"><span class="comment"> * &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> author</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2025-10-22</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/dept&quot;)</span></span><br><span class="line"><span class="meta">@Api(tags = &quot;éƒ¨é—¨æ¥å£&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeptController</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> DeptServiceImpl deptServiceImpl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DeptController</span><span class="params">(DeptServiceImpl deptServiceImpl)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.deptServiceImpl = deptServiceImpl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/add&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æ·»åŠ éƒ¨é—¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">addDept</span><span class="params">(<span class="meta">@RequestBody</span> DeptAddRequest deptAddRequest)</span> &#123;</span><br><span class="line">        ThrowUtils.throwIf(deptAddRequest == <span class="literal">null</span>, <span class="number">500</span>,<span class="string">&quot;å‚æ•°ä¸ºç©º&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Dept</span> <span class="variable">dept</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dept</span>();</span><br><span class="line">        BeanUtils.copyProperties(deptAddRequest, dept);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å‚æ•°æ ¡éªŒ</span></span><br><span class="line">        deptServiceImpl.valid(dept, <span class="literal">true</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">result</span> <span class="operator">=</span> deptServiceImpl.save(dept);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="string">&quot;éƒ¨é—¨åˆ›å»ºå®Œæˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@PutMapping(&quot;/update&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æ›´æ–°éƒ¨é—¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">updateDept</span><span class="params">(<span class="meta">@RequestBody</span> DeptUpdateRequest deptUpdateRequest)</span> &#123;</span><br><span class="line">        ThrowUtils.throwIf(deptUpdateRequest == <span class="literal">null</span>, <span class="number">500</span>,<span class="string">&quot;å‚æ•°ä¸ºç©º&quot;</span>);</span><br><span class="line">        <span class="type">Dept</span> <span class="variable">dept</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dept</span>();</span><br><span class="line">        BeanUtils.copyProperties(deptUpdateRequest, dept);</span><br><span class="line">        <span class="comment">//å‚æ•°æ ¡éªŒ</span></span><br><span class="line">        deptServiceImpl.valid(dept, <span class="literal">false</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">result</span> <span class="operator">=</span> deptServiceImpl.updateById(dept);</span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="string">&quot;éƒ¨é—¨æ›´æ–°å®Œæˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/delete&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æ‰¹é‡åˆ é™¤éƒ¨é—¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">deleteDept</span><span class="params">(<span class="meta">@RequestBody</span> DeleteRequest deleteRequest)</span> &#123;</span><br><span class="line">        ThrowUtils.throwIf(deleteRequest.ids == <span class="literal">null</span>, <span class="number">500</span>,<span class="string">&quot;å‚æ•°ä¸ºç©º&quot;</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">result</span> <span class="operator">=</span> deptServiceImpl.removeByIds(deleteRequest.ids);</span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="string">&quot;éƒ¨é—¨åˆ é™¤å®Œæˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/list/page&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æŸ¥è¯¢éƒ¨é—¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">listDept</span><span class="params">(<span class="meta">@RequestBody</span> DeptQueryRequest deptQueryRequest)</span> &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">current</span> <span class="operator">=</span> deptQueryRequest.getCurrent();</span><br><span class="line">        <span class="type">long</span> <span class="variable">pageSize</span> <span class="operator">=</span> deptQueryRequest.getPageSize();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ‰§è¡Œåˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line">        Page&lt;Dept&gt; deptPage = deptServiceImpl.page(<span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(current, pageSize),</span><br><span class="line">                deptServiceImpl.getQueryWrapper(deptQueryRequest));</span><br><span class="line">        <span class="keyword">return</span> Result.success(deptPage);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">package</span> org.example.controller;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.Api;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiOperation;</span><br><span class="line"><span class="keyword">import</span> org.example.common.DeleteRequest;</span><br><span class="line"><span class="keyword">import</span> org.example.common.Result;</span><br><span class="line"><span class="keyword">import</span> org.example.exception.ThrowUtils;</span><br><span class="line"><span class="keyword">import</span> org.example.pojo.dto.dept.DeptAddRequest;</span><br><span class="line"><span class="keyword">import</span> org.example.pojo.dto.dept.DeptQueryRequest;</span><br><span class="line"><span class="keyword">import</span> org.example.pojo.dto.dept.DeptUpdateRequest;</span><br><span class="line"><span class="keyword">import</span> org.example.pojo.entity.Dept;</span><br><span class="line"><span class="keyword">import</span> org.example.service.impl.DeptServiceImpl;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.BeanUtils;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * éƒ¨é—¨è¡¨ å‰ç«¯æ§åˆ¶å™¨</span></span><br><span class="line"><span class="comment"> * &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> author</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2025-10-22</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/dept&quot;)</span></span><br><span class="line"><span class="meta">@Api(tags = &quot;éƒ¨é—¨æ¥å£&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeptController</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> DeptServiceImpl deptServiceImpl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DeptController</span><span class="params">(DeptServiceImpl deptServiceImpl)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.deptServiceImpl = deptServiceImpl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/add&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æ·»åŠ éƒ¨é—¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">addDept</span><span class="params">(<span class="meta">@RequestBody</span> DeptAddRequest deptAddRequest)</span> &#123;</span><br><span class="line">        ThrowUtils.throwIf(deptAddRequest == <span class="literal">null</span>, <span class="number">500</span>,<span class="string">&quot;å‚æ•°ä¸ºç©º&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Dept</span> <span class="variable">dept</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dept</span>();</span><br><span class="line">        BeanUtils.copyProperties(deptAddRequest, dept);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å‚æ•°æ ¡éªŒ</span></span><br><span class="line">        deptServiceImpl.valid(dept, <span class="literal">true</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">result</span> <span class="operator">=</span> deptServiceImpl.save(dept);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="string">&quot;éƒ¨é—¨åˆ›å»ºå®Œæˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@PutMapping(&quot;/update&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æ›´æ–°éƒ¨é—¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">updateDept</span><span class="params">(<span class="meta">@RequestBody</span> DeptUpdateRequest deptUpdateRequest)</span> &#123;</span><br><span class="line">        ThrowUtils.throwIf(deptUpdateRequest == <span class="literal">null</span>, <span class="number">500</span>,<span class="string">&quot;å‚æ•°ä¸ºç©º&quot;</span>);</span><br><span class="line">        <span class="type">Dept</span> <span class="variable">dept</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dept</span>();</span><br><span class="line">        BeanUtils.copyProperties(deptUpdateRequest, dept);</span><br><span class="line">        <span class="comment">//å‚æ•°æ ¡éªŒ</span></span><br><span class="line">        deptServiceImpl.valid(dept, <span class="literal">false</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">result</span> <span class="operator">=</span> deptServiceImpl.updateById(dept);</span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="string">&quot;éƒ¨é—¨æ›´æ–°å®Œæˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/delete&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æ‰¹é‡åˆ é™¤éƒ¨é—¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">deleteDept</span><span class="params">(<span class="meta">@RequestBody</span> DeleteRequest deleteRequest)</span> &#123;</span><br><span class="line">        ThrowUtils.throwIf(deleteRequest.ids == <span class="literal">null</span>, <span class="number">500</span>,<span class="string">&quot;å‚æ•°ä¸ºç©º&quot;</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">result</span> <span class="operator">=</span> deptServiceImpl.removeByIds(deleteRequest.ids);</span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="string">&quot;éƒ¨é—¨åˆ é™¤å®Œæˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/list/page&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æŸ¥è¯¢éƒ¨é—¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">listDept</span><span class="params">(<span class="meta">@RequestBody</span> DeptQueryRequest deptQueryRequest)</span> &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">current</span> <span class="operator">=</span> deptQueryRequest.getCurrent();</span><br><span class="line">        <span class="type">long</span> <span class="variable">pageSize</span> <span class="operator">=</span> deptQueryRequest.getPageSize();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ‰§è¡Œåˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line">        Page&lt;Dept&gt; deptPage = deptServiceImpl.page(<span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(current, pageSize),</span><br><span class="line">                deptServiceImpl.getQueryWrapper(deptQueryRequest));</span><br><span class="line">        <span class="keyword">return</span> Result.success(deptPage);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">package</span> org.example.controller;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.Api;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiOperation;</span><br><span class="line"><span class="keyword">import</span> org.example.common.DeleteRequest;</span><br><span class="line"><span class="keyword">import</span> org.example.common.Result;</span><br><span class="line"><span class="keyword">import</span> org.example.exception.ThrowUtils;</span><br><span class="line"><span class="keyword">import</span> org.example.pojo.dto.dept.DeptAddRequest;</span><br><span class="line"><span class="keyword">import</span> org.example.pojo.dto.dept.DeptQueryRequest;</span><br><span class="line"><span class="keyword">import</span> org.example.pojo.dto.dept.DeptUpdateRequest;</span><br><span class="line"><span class="keyword">import</span> org.example.pojo.entity.Dept;</span><br><span class="line"><span class="keyword">import</span> org.example.service.impl.DeptServiceImpl;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.BeanUtils;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * éƒ¨é—¨è¡¨ å‰ç«¯æ§åˆ¶å™¨</span></span><br><span class="line"><span class="comment"> * &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> author</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2025-10-22</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/dept&quot;)</span></span><br><span class="line"><span class="meta">@Api(tags = &quot;éƒ¨é—¨æ¥å£&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeptController</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> DeptServiceImpl deptServiceImpl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DeptController</span><span class="params">(DeptServiceImpl deptServiceImpl)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.deptServiceImpl = deptServiceImpl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/add&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æ·»åŠ éƒ¨é—¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">addDept</span><span class="params">(<span class="meta">@RequestBody</span> DeptAddRequest deptAddRequest)</span> &#123;</span><br><span class="line">        ThrowUtils.throwIf(deptAddRequest == <span class="literal">null</span>, <span class="number">500</span>,<span class="string">&quot;å‚æ•°ä¸ºç©º&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Dept</span> <span class="variable">dept</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dept</span>();</span><br><span class="line">        BeanUtils.copyProperties(deptAddRequest, dept);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å‚æ•°æ ¡éªŒ</span></span><br><span class="line">        deptServiceImpl.valid(dept, <span class="literal">true</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">result</span> <span class="operator">=</span> deptServiceImpl.save(dept);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="string">&quot;éƒ¨é—¨åˆ›å»ºå®Œæˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@PutMapping(&quot;/update&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æ›´æ–°éƒ¨é—¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">updateDept</span><span class="params">(<span class="meta">@RequestBody</span> DeptUpdateRequest deptUpdateRequest)</span> &#123;</span><br><span class="line">        ThrowUtils.throwIf(deptUpdateRequest == <span class="literal">null</span>, <span class="number">500</span>,<span class="string">&quot;å‚æ•°ä¸ºç©º&quot;</span>);</span><br><span class="line">        <span class="type">Dept</span> <span class="variable">dept</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dept</span>();</span><br><span class="line">        BeanUtils.copyProperties(deptUpdateRequest, dept);</span><br><span class="line">        <span class="comment">//å‚æ•°æ ¡éªŒ</span></span><br><span class="line">        deptServiceImpl.valid(dept, <span class="literal">false</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">result</span> <span class="operator">=</span> deptServiceImpl.updateById(dept);</span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="string">&quot;éƒ¨é—¨æ›´æ–°å®Œæˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/delete&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æ‰¹é‡åˆ é™¤éƒ¨é—¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">deleteDept</span><span class="params">(<span class="meta">@RequestBody</span> DeleteRequest deleteRequest)</span> &#123;</span><br><span class="line">        ThrowUtils.throwIf(deleteRequest.ids == <span class="literal">null</span>, <span class="number">500</span>,<span class="string">&quot;å‚æ•°ä¸ºç©º&quot;</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">result</span> <span class="operator">=</span> deptServiceImpl.removeByIds(deleteRequest.ids);</span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="string">&quot;éƒ¨é—¨åˆ é™¤å®Œæˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/list/page&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æŸ¥è¯¢éƒ¨é—¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">listDept</span><span class="params">(<span class="meta">@RequestBody</span> DeptQueryRequest deptQueryRequest)</span> &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">current</span> <span class="operator">=</span> deptQueryRequest.getCurrent();</span><br><span class="line">        <span class="type">long</span> <span class="variable">pageSize</span> <span class="operator">=</span> deptQueryRequest.getPageSize();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ‰§è¡Œåˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line">        Page&lt;Dept&gt; deptPage = deptServiceImpl.page(<span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(current, pageSize),</span><br><span class="line">                deptServiceImpl.getQueryWrapper(deptQueryRequest));</span><br><span class="line">        <span class="keyword">return</span> Result.success(deptPage);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">package</span> org.example.controller;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.Api;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiOperation;</span><br><span class="line"><span class="keyword">import</span> org.example.common.DeleteRequest;</span><br><span class="line"><span class="keyword">import</span> org.example.common.Result;</span><br><span class="line"><span class="keyword">import</span> org.example.exception.ThrowUtils;</span><br><span class="line"><span class="keyword">import</span> org.example.pojo.dto.dept.DeptAddRequest;</span><br><span class="line"><span class="keyword">import</span> org.example.pojo.dto.dept.DeptQueryRequest;</span><br><span class="line"><span class="keyword">import</span> org.example.pojo.dto.dept.DeptUpdateRequest;</span><br><span class="line"><span class="keyword">import</span> org.example.pojo.entity.Dept;</span><br><span class="line"><span class="keyword">import</span> org.example.service.impl.DeptServiceImpl;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.BeanUtils;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * éƒ¨é—¨è¡¨ å‰ç«¯æ§åˆ¶å™¨</span></span><br><span class="line"><span class="comment"> * &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> author</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2025-10-22</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/dept&quot;)</span></span><br><span class="line"><span class="meta">@Api(tags = &quot;éƒ¨é—¨æ¥å£&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeptController</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> DeptServiceImpl deptServiceImpl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DeptController</span><span class="params">(DeptServiceImpl deptServiceImpl)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.deptServiceImpl = deptServiceImpl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/add&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æ·»åŠ éƒ¨é—¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">addDept</span><span class="params">(<span class="meta">@RequestBody</span> DeptAddRequest deptAddRequest)</span> &#123;</span><br><span class="line">        ThrowUtils.throwIf(deptAddRequest == <span class="literal">null</span>, <span class="number">500</span>,<span class="string">&quot;å‚æ•°ä¸ºç©º&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Dept</span> <span class="variable">dept</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dept</span>();</span><br><span class="line">        BeanUtils.copyProperties(deptAddRequest, dept);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å‚æ•°æ ¡éªŒ</span></span><br><span class="line">        deptServiceImpl.valid(dept, <span class="literal">true</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">result</span> <span class="operator">=</span> deptServiceImpl.save(dept);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="string">&quot;éƒ¨é—¨åˆ›å»ºå®Œæˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@PutMapping(&quot;/update&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æ›´æ–°éƒ¨é—¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">updateDept</span><span class="params">(<span class="meta">@RequestBody</span> DeptUpdateRequest deptUpdateRequest)</span> &#123;</span><br><span class="line">        ThrowUtils.throwIf(deptUpdateRequest == <span class="literal">null</span>, <span class="number">500</span>,<span class="string">&quot;å‚æ•°ä¸ºç©º&quot;</span>);</span><br><span class="line">        <span class="type">Dept</span> <span class="variable">dept</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dept</span>();</span><br><span class="line">        BeanUtils.copyProperties(deptUpdateRequest, dept);</span><br><span class="line">        <span class="comment">//å‚æ•°æ ¡éªŒ</span></span><br><span class="line">        deptServiceImpl.valid(dept, <span class="literal">false</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">result</span> <span class="operator">=</span> deptServiceImpl.updateById(dept);</span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="string">&quot;éƒ¨é—¨æ›´æ–°å®Œæˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/delete&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æ‰¹é‡åˆ é™¤éƒ¨é—¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">deleteDept</span><span class="params">(<span class="meta">@RequestBody</span> DeleteRequest deleteRequest)</span> &#123;</span><br><span class="line">        ThrowUtils.throwIf(deleteRequest.ids == <span class="literal">null</span>, <span class="number">500</span>,<span class="string">&quot;å‚æ•°ä¸ºç©º&quot;</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">result</span> <span class="operator">=</span> deptServiceImpl.removeByIds(deleteRequest.ids);</span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="string">&quot;éƒ¨é—¨åˆ é™¤å®Œæˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/list/page&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æŸ¥è¯¢éƒ¨é—¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">listDept</span><span class="params">(<span class="meta">@RequestBody</span> DeptQueryRequest deptQueryRequest)</span> &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">current</span> <span class="operator">=</span> deptQueryRequest.getCurrent();</span><br><span class="line">        <span class="type">long</span> <span class="variable">pageSize</span> <span class="operator">=</span> deptQueryRequest.getPageSize();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ‰§è¡Œåˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line">        Page&lt;Dept&gt; deptPage = deptServiceImpl.page(<span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(current, pageSize),</span><br><span class="line">                deptServiceImpl.getQueryWrapper(deptQueryRequest));</span><br><span class="line">        <span class="keyword">return</span> Result.success(deptPage);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ServiceæœåŠ¡å±‚è®¾ç½®"><a href="#ServiceæœåŠ¡å±‚è®¾ç½®" class="headerlink" title="ServiceæœåŠ¡å±‚è®¾ç½®"></a>ServiceæœåŠ¡å±‚è®¾ç½®</h3><p>ç”±äºå¢åˆ æ”¹éƒ½æ˜¯ç›´æ¥è°ƒç”¨Mybatis-pluså†…ç½®çš„æ¥å£ï¼Œæ‰€ä»¥åœ¨æ­¤ä¸è°ˆï¼Œåªè¯´ä¸€ä¸‹å¦‚ä½•å®ç°åŠ¨æ€åˆ†é¡µæŸ¥è¯¢</p><h4 id="å‰ç½®"><a href="#å‰ç½®" class="headerlink" title="å‰ç½®"></a>å‰ç½®</h4><p>æ¯ä¸ªServiceéƒ½å°½é‡é…ç½®ä¸€ä¸ªå‚æ•°æ ¡éªŒæ–¹æ³•ï¼Œç”¨äºå‚æ•°éªŒè¯é€»è¾‘ï¼Œå…¶ä¸­åé¢çš„booleanå‚æ•°ç”¨äºåŒºåˆ†æ˜¯å¢åŠ æ“ä½œè¿˜æ˜¯ä¿®æ”¹æ“ä½œï¼Œè¿™ä¸¤ç§æ“ä½œæ ¡éªŒæ¡ä»¶å¯èƒ½ä¼šæœ‰å·®å¼‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ ¡éªŒæ•°æ®</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> valid$&#123;upperDataKey&#125;($&#123;upperDataKey&#125; $&#123;dataKey&#125;, <span class="type">boolean</span> add) &#123;</span><br><span class="line">    ThrowUtils.throwIf($&#123;dataKey&#125; == <span class="literal">null</span>, ErrorCode.PARAMS_ERROR);</span><br><span class="line">    <span class="comment">// todo ä»å¯¹è±¡ä¸­å–å€¼</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">title</span> <span class="operator">=</span> $&#123;dataKey&#125;.getTitle();</span><br><span class="line">    <span class="comment">// åˆ›å»ºæ•°æ®æ—¶ï¼Œå‚æ•°ä¸èƒ½ä¸ºç©º</span></span><br><span class="line">    <span class="keyword">if</span> (add) &#123;</span><br><span class="line">        <span class="comment">// todo è¡¥å……æ ¡éªŒè§„åˆ™</span></span><br><span class="line">        ThrowUtils.throwIf(StringUtils.isBlank(title), ErrorCode.PARAMS_ERROR);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä¿®æ”¹æ•°æ®æ—¶ï¼Œæœ‰å‚æ•°åˆ™æ ¡éªŒ</span></span><br><span class="line">    <span class="comment">// todo è¡¥å……æ ¡éªŒè§„åˆ™</span></span><br><span class="line">    <span class="keyword">if</span> (StringUtils.isNotBlank(title)) &#123;</span><br><span class="line">        ThrowUtils.throwIf(title.length() &gt; <span class="number">80</span>, ErrorCode.PARAMS_ERROR, <span class="string">&quot;æ ‡é¢˜è¿‡é•¿&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åˆ†é¡µæŸ¥è¯¢"><a href="#åˆ†é¡µæŸ¥è¯¢" class="headerlink" title="åˆ†é¡µæŸ¥è¯¢"></a>åˆ†é¡µæŸ¥è¯¢</h4><p>Serviceéœ€è¦æä¾›ä¸€ä¸ªæ ¹æ®è¯·æ±‚DTOè‡ªåŠ¨æ‹¼æ¥ç”Ÿæˆä¸€ä¸ª<code>QueryWrapper</code>æ¥å®ç°åŠ¨æ€æŸ¥è¯¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> QueryWrapper&lt;&gt; getQueryWrapper(QueryRequest queryRequest) &#123;</span><br><span class="line">       QueryWrapper&lt;&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">       <span class="keyword">if</span> (queryRequest == <span class="literal">null</span>) &#123;</span><br><span class="line">           <span class="keyword">return</span> queryWrapper;  <span class="comment">//ä¸ºç©ºæ²¡æœ‰æ¡ä»¶ç›´æ¥è¿”å›å…¨éƒ¨</span></span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// todo ä»å¯¹è±¡ä¸­å–å€¼</span></span><br><span class="line">       <span class="type">Long</span> <span class="variable">id</span> <span class="operator">=</span> queryRequest.getId();</span><br><span class="line">       <span class="type">String</span> <span class="variable">title</span> <span class="operator">=</span> $&#123;dataKey&#125;QueryRequest.getTitle();</span><br><span class="line">       <span class="type">String</span> <span class="variable">content</span> <span class="operator">=</span> $&#123;dataKey&#125;QueryRequest.getContent();</span><br><span class="line">       <span class="type">String</span> <span class="variable">searchText</span> <span class="operator">=</span> $&#123;dataKey&#125;QueryRequest.getSearchText();</span><br><span class="line">       <span class="type">String</span> <span class="variable">sortField</span> <span class="operator">=</span> $&#123;dataKey&#125;QueryRequest.getSortField();</span><br><span class="line">       <span class="type">String</span> <span class="variable">sortOrder</span> <span class="operator">=</span> $&#123;dataKey&#125;QueryRequest.getSortOrder();</span><br><span class="line">       List&lt;String&gt; tagList = $&#123;dataKey&#125;QueryRequest.getTags();</span><br><span class="line">       <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> $&#123;dataKey&#125;QueryRequest.getUserId();</span><br><span class="line">       <span class="comment">// todo è¡¥å……éœ€è¦çš„æŸ¥è¯¢æ¡ä»¶</span></span><br><span class="line">       <span class="comment">// ä»å¤šå­—æ®µä¸­æœç´¢</span></span><br><span class="line">       <span class="keyword">if</span> (StringUtils.isNotBlank(searchText)) &#123;</span><br><span class="line">           <span class="comment">// éœ€è¦æ‹¼æ¥æŸ¥è¯¢æ¡ä»¶</span></span><br><span class="line">           queryWrapper.and(qw -&gt; qw.like(<span class="string">&quot;title&quot;</span>, searchText).or().like(<span class="string">&quot;content&quot;</span>, searchText));</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// æ¨¡ç³ŠæŸ¥è¯¢</span></span><br><span class="line">       queryWrapper.like(StringUtils.isNotBlank(title), <span class="string">&quot;title&quot;</span>, title);</span><br><span class="line">       queryWrapper.like(StringUtils.isNotBlank(content), <span class="string">&quot;content&quot;</span>, content);</span><br><span class="line">       <span class="comment">// JSON æ•°ç»„æŸ¥è¯¢</span></span><br><span class="line">       <span class="keyword">if</span> (CollUtil.isNotEmpty(tagList)) &#123;</span><br><span class="line">           <span class="keyword">for</span> (String tag : tagList) &#123;</span><br><span class="line">               queryWrapper.like(<span class="string">&quot;tags&quot;</span>, <span class="string">&quot;\&quot;&quot;</span> + tag + <span class="string">&quot;\&quot;&quot;</span>);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// ç²¾ç¡®æŸ¥è¯¢</span></span><br><span class="line">       queryWrapper.ne(ObjectUtils.isNotEmpty(notId), <span class="string">&quot;id&quot;</span>, notId);</span><br><span class="line">       queryWrapper.eq(ObjectUtils.isNotEmpty(id), <span class="string">&quot;id&quot;</span>, id);</span><br><span class="line">       queryWrapper.eq(ObjectUtils.isNotEmpty(userId), <span class="string">&quot;userId&quot;</span>, userId);</span><br><span class="line">       <span class="comment">// æ’åºè§„åˆ™</span></span><br><span class="line">       queryWrapper.orderBy(SqlUtils.validSortField(sortField),</span><br><span class="line">               sortOrder.equals(CommonConstant.SORT_ORDER_ASC),</span><br><span class="line">               sortField);</span><br><span class="line">       <span class="keyword">return</span> queryWrapper;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œè¿˜é¢å¤–éœ€è¦ä¸€ä¸ªSQLå·¥å…·ç±»æ¥åˆ¤æ–­æœç´¢å­—æ®µæ˜¯å¦åˆè§„ï¼Œè§ä¸Šå·¥å…·ç±»</p><h3 id="Controllerå±‚"><a href="#Controllerå±‚" class="headerlink" title="Controllerå±‚"></a>Controllerå±‚</h3><p>å¤§éƒ¨åˆ†å¢åˆ æ”¹æŸ¥åŸºæœ¬ä¸šåŠ¡ç›´æ¥è°ƒç”¨Mybatis-plusï¼Œå†æ¬¡è¯¥ä¸èµ˜è¿°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * éƒ¨é—¨è¡¨ å‰ç«¯æ§åˆ¶å™¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/dept&quot;)</span></span><br><span class="line"><span class="meta">@Api(tags = &quot;éƒ¨é—¨æ¥å£&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeptController</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> DeptServiceImpl deptServiceImpl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DeptController</span><span class="params">(DeptServiceImpl deptServiceImpl)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.deptServiceImpl = deptServiceImpl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/add&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æ·»åŠ éƒ¨é—¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">addDept</span><span class="params">(<span class="meta">@RequestBody</span> DeptAddRequest deptAddRequest)</span> &#123;</span><br><span class="line">        ThrowUtils.throwIf(deptAddRequest == <span class="literal">null</span>, <span class="number">500</span>,<span class="string">&quot;å‚æ•°ä¸ºç©º&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Dept</span> <span class="variable">dept</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dept</span>();</span><br><span class="line">        BeanUtils.copyProperties(deptAddRequest, dept);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å‚æ•°æ ¡éªŒ</span></span><br><span class="line">        deptServiceImpl.valid(dept, <span class="literal">true</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">result</span> <span class="operator">=</span> deptServiceImpl.save(dept);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="string">&quot;éƒ¨é—¨åˆ›å»ºå®Œæˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@PutMapping(&quot;/update&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æ›´æ–°éƒ¨é—¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">updateDept</span><span class="params">(<span class="meta">@RequestBody</span> DeptUpdateRequest deptUpdateRequest)</span> &#123;</span><br><span class="line">        ThrowUtils.throwIf(deptUpdateRequest == <span class="literal">null</span>, <span class="number">500</span>,<span class="string">&quot;å‚æ•°ä¸ºç©º&quot;</span>);</span><br><span class="line">        <span class="type">Dept</span> <span class="variable">dept</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dept</span>();</span><br><span class="line">        BeanUtils.copyProperties(deptUpdateRequest, dept);</span><br><span class="line">        <span class="comment">//å‚æ•°æ ¡éªŒ</span></span><br><span class="line">        deptServiceImpl.valid(dept, <span class="literal">false</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">result</span> <span class="operator">=</span> deptServiceImpl.updateById(dept);</span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="string">&quot;éƒ¨é—¨æ›´æ–°å®Œæˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/delete&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æ‰¹é‡åˆ é™¤éƒ¨é—¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">deleteDept</span><span class="params">(<span class="meta">@RequestBody</span> DeleteRequest deleteRequest)</span> &#123;</span><br><span class="line">        ThrowUtils.throwIf(deleteRequest.ids == <span class="literal">null</span>, <span class="number">500</span>,<span class="string">&quot;å‚æ•°ä¸ºç©º&quot;</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">result</span> <span class="operator">=</span> deptServiceImpl.removeByIds(deleteRequest.ids);</span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="string">&quot;éƒ¨é—¨åˆ é™¤å®Œæˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/list/page&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æŸ¥è¯¢éƒ¨é—¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">listDept</span><span class="params">(<span class="meta">@RequestBody</span> DeptQueryRequest deptQueryRequest)</span> &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">current</span> <span class="operator">=</span> deptQueryRequest.getCurrent();</span><br><span class="line">        <span class="type">long</span> <span class="variable">pageSize</span> <span class="operator">=</span> deptQueryRequest.getPageSize();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ‰§è¡Œåˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line">        Page&lt;Dept&gt; deptPage = deptServiceImpl.page(<span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(current, pageSize),</span><br><span class="line">                deptServiceImpl.getQueryWrapper(deptQueryRequest));</span><br><span class="line">        <span class="keyword">return</span> Result.success(deptPage);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaä¸­çš„æšä¸¾</title>
      <link href="/2025/10/24/java/java%E8%AF%AD%E8%A8%80/java%E4%B8%AD%E7%9A%84%E6%9E%9A%E4%B8%BE/"/>
      <url>/2025/10/24/java/java%E8%AF%AD%E8%A8%80/java%E4%B8%AD%E7%9A%84%E6%9E%9A%E4%B8%BE/</url>
      
        <content type="html"><![CDATA[<p>æšä¸¾æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»ï¼Œjavaä¼šåœ¨ç±»çš„åˆå§‹åŒ–çš„æ—¶å€™é¡ºä¾¿åˆ›å»ºå®ä¾‹åŒ–æšä¸¾å¯¹è±¡</p><p>ç¤ºä¾‹æ€§åˆ«æšä¸¾</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">UserGenderEnum</span> &#123;</span><br><span class="line">    MALE(<span class="number">1</span>, <span class="string">&quot;ç”·&quot;</span>),</span><br><span class="line">    FEMALE(<span class="number">2</span>, <span class="string">&quot;å¥³&quot;</span>),</span><br><span class="line">    UNKNOWN(<span class="number">0</span>, <span class="string">&quot;æœªçŸ¥&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@EnumValue</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> i;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String value;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æšä¸¾çš„æ„é€ å‡½æ•°ç”¨äºå®ä¾‹åŒ–æšä¸¾å¯¹è±¡</span></span><br><span class="line">    UserGenderEnum(<span class="type">int</span> i, String value) &#123;</span><br><span class="line">        <span class="built_in">this</span>.i = i;</span><br><span class="line">        <span class="built_in">this</span>.value = value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·å–å€¼åˆ—è¡¨ï¼Œå›ºå®šçš„</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title function_">getValues</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Arrays.stream(values()).map(item -&gt; item.value).collect(Collectors.toList());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ ¹æ®valueè·å–æšä¸¾ï¼Œå‡ ä¹å›ºå®š</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> UserGenderEnum <span class="title function_">getByValue</span><span class="params">(String value)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Arrays.stream(values()).filter(item -&gt; item.value.equals(value)).findFirst().orElse(<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å›ºå®š</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getValue</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getI</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¯­æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springé›†æˆlogbackæ—¥å¿—</title>
      <link href="/2025/10/24/java/spring/spring%E9%9B%86%E6%88%90logback%E6%97%A5%E5%BF%97/"/>
      <url>/2025/10/24/java/spring/spring%E9%9B%86%E6%88%90logback%E6%97%A5%E5%BF%97/</url>
      
        <content type="html"><![CDATA[<p>Javaå¼€æºæ—¥å¿—æ¡†æ¶ï¼Œåœ¨springbootä¸­é»˜è®¤é›†æˆï¼Œspringbootå¯ä¾æ®logback-spring.xmlè¿›è¡Œæ—¥å¿—é…ç½®</p><ol><li>åœ¨ymlé…ç½®æ–‡ä»¶ä¸­è®¾ç½®æ–‡ä»¶å±æ€§</li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">config:</span> <span class="string">classpath:logback-spring.xml</span></span><br><span class="line">  <span class="attr">file:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">SpringDemo</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">./logs</span></span><br></pre></td></tr></table></figure><ol start="2"><li>ç¼–å†™logback-spring.xmlï¼Œå®ç°æŒ‰å¤©æ»šåŠ¨</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ—¥å¿—çº§åˆ«ä»ä½åˆ°é«˜åˆ†ä¸ºTRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATALï¼Œæ¯”å¦‚: å¦‚æœè®¾ç½®ä¸ºWARNï¼Œåˆ™ä½äºWARNçš„ä¿¡æ¯éƒ½ä¸ä¼šè¾“å‡º --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- configurationæ ‡ç­¾ä¸‹çš„ä¸‰ä¸ªå±æ€§ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- scan:å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œé…ç½®æ–‡æ¡£å¦‚æœå‘ç”Ÿæ”¹å˜ï¼Œå°†ä¼šè¢«é‡æ–°åŠ è½½ï¼Œé»˜è®¤å€¼ä¸ºtrue --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- scanPeriod:è®¾ç½®ç›‘æµ‹é…ç½®æ–‡æ¡£æ˜¯å¦æœ‰ä¿®æ”¹çš„æ—¶é—´é—´éš”ï¼Œå¦‚æœæ²¡æœ‰ç»™å‡ºæ—¶é—´å•ä½ï¼Œé»˜è®¤å•ä½æ˜¯æ¯«ç§’ã€‚å½“scanä¸ºtrueæ—¶ï¼Œæ­¤å±æ€§ç”Ÿæ•ˆã€‚é»˜è®¤çš„æ—¶é—´é—´éš”ä¸º1åˆ†é’Ÿ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- de<span class="doctag">bug:</span>å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œå°†æ‰“å°å‡ºlogbackå†…éƒ¨æ—¥å¿—ä¿¡æ¯ï¼Œå®æ—¶æŸ¥çœ‹logbackè¿è¡ŒçŠ¶æ€ã€‚é»˜è®¤å€¼ä¸ºfalse --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>  <span class="attr">scan</span>=<span class="string">&quot;true&quot;</span> <span class="attr">scanPeriod</span>=<span class="string">&quot;10 seconds&quot;</span> <span class="attr">debug</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">contextName</span>&gt;</span>SpringDemo<span class="tag">&lt;/<span class="name">contextName</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 1.propertyæ ‡ç­¾ç”¨æ¥å®šä¹‰å˜é‡å€¼--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- nameçš„å€¼æ˜¯å˜é‡çš„åç§°ï¼Œvalueçš„å€¼æ—¶å˜é‡å®šä¹‰çš„å€¼ã€‚é€šè¿‡å®šä¹‰çš„å€¼ä¼šè¢«æ’å…¥åˆ°loggerä¸Šä¸‹æ–‡ä¸­ã€‚å®šä¹‰åï¼Œå¯ä»¥ä½¿â€œ$&#123;&#125;â€æ¥ä½¿ç”¨å˜é‡ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å®šä¹‰äº†ä¸€ä¸ªåä¸ºserverNameçš„å±æ€§ï¼Œå®ƒçš„å€¼æ¥è‡ªäºlogging.file.nameï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°è¯¥å±æ€§é»˜è®¤ä¸ºMyServerNameï¼ˆæ ¹æ®ä¸šåŠ¡ä¿®æ”¹ï¼‰ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">springProperty</span> <span class="attr">name</span>=<span class="string">&quot;serverName&quot;</span> <span class="attr">source</span>=<span class="string">&quot;logging.file.name&quot;</span> <span class="attr">defaultValue</span>=<span class="string">&quot;MyServerName&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">springProperty</span> <span class="attr">name</span>=<span class="string">&quot;log.path&quot;</span> <span class="attr">source</span>=<span class="string">&quot;logging.file.path&quot;</span> <span class="attr">defaultValue</span>=<span class="string">&quot;./logs/&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 2.æ—¥å¿—æ ¼å¼å’Œé¢œè‰²æ¸²æŸ“ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å½©è‰²æ—¥å¿—ä¾èµ–çš„æ¸²æŸ“ç±» --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">conversionRule</span> <span class="attr">conversionWord</span>=<span class="string">&quot;clr&quot;</span> <span class="attr">converterClass</span>=<span class="string">&quot;org.springframework.boot.logging.logback.ColorConverter&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">conversionRule</span> <span class="attr">conversionWord</span>=<span class="string">&quot;wex&quot;</span> <span class="attr">converterClass</span>=<span class="string">&quot;org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">conversionRule</span> <span class="attr">conversionWord</span>=<span class="string">&quot;wEx&quot;</span> <span class="attr">converterClass</span>=<span class="string">&quot;org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å½©è‰²æ—¥å¿—æ ¼å¼ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;CONSOLE_LOG_PATTERN&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;CONSOLE_LOG_PATTERN:-%clr(%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;)&#123;faint&#125; %clr($&#123;LOG_LEVEL_PATTERN:-%5p&#125;) %clr($&#123;PID:- &#125;)&#123;magenta&#125; %clr(---)&#123;faint&#125; %clr([%15.15t])&#123;faint&#125; %clr(%-40.40logger&#123;39&#125;)&#123;cyan&#125; %clr(:)&#123;faint&#125; %m%n$&#123;LOG_EXCEPTION_CONVERSION_WORD:-%wEx&#125;&#125;&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 3.appenderæ ‡ç­¾ç”¨äºå†™æ—¥å¿—çš„ç»„ä»¶ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æŠŠæ—¥å¿—è¾“å‡ºåˆ°æ§åˆ¶å° --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;CONSOLE&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--æ­¤æ—¥å¿—appenderæ˜¯ä¸ºå¼€å‘ä½¿ç”¨ï¼Œåªé…ç½®æœ€åº•çº§åˆ«ï¼Œæ§åˆ¶å°è¾“å‡ºçš„æ—¥å¿—çº§åˆ«æ˜¯å¤§äºæˆ–ç­‰äºæ­¤çº§åˆ«çš„æ—¥å¿—ä¿¡æ¯--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">level</span>&gt;</span>debug<span class="tag">&lt;/<span class="name">level</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ—¥å¿—æ ¼å¼åŒ– --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Pattern</span>&gt;</span>$&#123;CONSOLE_LOG_PATTERN&#125;<span class="tag">&lt;/<span class="name">Pattern</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- è®¾ç½®å­—ç¬¦é›† --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">charset</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">charset</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æ»šåŠ¨è®°å½•æ–‡ä»¶--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- levelä¸º DEBUG æ—¥å¿—ï¼Œæ—¶é—´æ»šåŠ¨è¾“å‡º  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;DEBUG_FILE&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ­£åœ¨è®°å½•çš„æ—¥å¿—æ–‡æ¡£çš„è·¯å¾„åŠæ–‡æ¡£å --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">file</span>&gt;</span>$&#123;log.path&#125;/debug.log<span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--æ—¥å¿—æ–‡æ¡£è¾“å‡ºæ ¼å¼--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">charset</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">charset</span>&gt;</span> <span class="comment">&lt;!-- è®¾ç½®å­—ç¬¦é›† --&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ—¥å¿—è®°å½•å™¨çš„æ»šåŠ¨ç­–ç•¥ï¼ŒæŒ‰æ—¥æœŸï¼ŒæŒ‰å¤§å°è®°å½• --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- æ—¥å¿—å½’æ¡£ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">fileNamePattern</span>&gt;</span>$&#123;log.path&#125;/debug-%d&#123;yyyy-MM-dd&#125;.%i.log<span class="tag">&lt;/<span class="name">fileNamePattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">timeBasedFileNamingAndTriggeringPolicy</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">maxFileSize</span>&gt;</span>100MB<span class="tag">&lt;/<span class="name">maxFileSize</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- æ—¥å¿—æ–‡æ¡£ä¿ç•™å¤©æ•° --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">maxHistory</span>&gt;</span>15<span class="tag">&lt;/<span class="name">maxHistory</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- é™åˆ¶æ—¥å¿—æ–‡ä»¶æ€»å®¹é‡ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">totalSizeCap</span>&gt;</span>10GB<span class="tag">&lt;/<span class="name">totalSizeCap</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ­¤æ—¥å¿—æ–‡æ¡£åªè®°å½•debugçº§åˆ«çš„ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.classic.filter.LevelFilter&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">level</span>&gt;</span>debug<span class="tag">&lt;/<span class="name">level</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">onMatch</span>&gt;</span>ACCEPT<span class="tag">&lt;/<span class="name">onMatch</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">onMismatch</span>&gt;</span>DENY<span class="tag">&lt;/<span class="name">onMismatch</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- levelä¸º INFO æ—¥å¿—ï¼Œæ—¶é—´æ»šåŠ¨è¾“å‡º  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;INFO_FILE&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ­£åœ¨è®°å½•çš„æ—¥å¿—æ–‡æ¡£çš„è·¯å¾„åŠæ–‡æ¡£å --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">file</span>&gt;</span>$&#123;log.path&#125;/info.log<span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--æ—¥å¿—æ–‡æ¡£è¾“å‡ºæ ¼å¼--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">charset</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">charset</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ—¥å¿—è®°å½•å™¨çš„æ»šåŠ¨ç­–ç•¥ï¼ŒæŒ‰æ—¥æœŸï¼ŒæŒ‰å¤§å°è®°å½• --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- æ¯å¤©æ—¥å¿—å½’æ¡£è·¯å¾„ä»¥åŠæ ¼å¼ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">fileNamePattern</span>&gt;</span>$&#123;log.path&#125;/info-%d&#123;yyyy-MM-dd&#125;.%i.log<span class="tag">&lt;/<span class="name">fileNamePattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">timeBasedFileNamingAndTriggeringPolicy</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">maxFileSize</span>&gt;</span>100MB<span class="tag">&lt;/<span class="name">maxFileSize</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--æ—¥å¿—æ–‡æ¡£ä¿ç•™å¤©æ•°--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">maxHistory</span>&gt;</span>15<span class="tag">&lt;/<span class="name">maxHistory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ­¤æ—¥å¿—æ–‡æ¡£åªè®°å½•infoçº§åˆ«çš„ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.classic.filter.LevelFilter&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">level</span>&gt;</span>info<span class="tag">&lt;/<span class="name">level</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">onMatch</span>&gt;</span>ACCEPT<span class="tag">&lt;/<span class="name">onMatch</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">onMismatch</span>&gt;</span>DENY<span class="tag">&lt;/<span class="name">onMismatch</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- levelä¸º WARN æ—¥å¿—ï¼Œæ—¶é—´æ»šåŠ¨è¾“å‡º  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;WARN_FILE&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ­£åœ¨è®°å½•çš„æ—¥å¿—æ–‡æ¡£çš„è·¯å¾„åŠæ–‡æ¡£å --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">file</span>&gt;</span>$&#123;log.path&#125;/warn.log<span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--æ—¥å¿—æ–‡æ¡£è¾“å‡ºæ ¼å¼--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">charset</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">charset</span>&gt;</span> <span class="comment">&lt;!-- æ­¤å¤„è®¾ç½®å­—ç¬¦é›† --&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ—¥å¿—è®°å½•å™¨çš„æ»šåŠ¨ç­–ç•¥ï¼ŒæŒ‰æ—¥æœŸï¼ŒæŒ‰å¤§å°è®°å½• --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">fileNamePattern</span>&gt;</span>$&#123;log.path&#125;/warn-%d&#123;yyyy-MM-dd&#125;.%i.log<span class="tag">&lt;/<span class="name">fileNamePattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">timeBasedFileNamingAndTriggeringPolicy</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">maxFileSize</span>&gt;</span>100MB<span class="tag">&lt;/<span class="name">maxFileSize</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--æ—¥å¿—æ–‡æ¡£ä¿ç•™å¤©æ•°--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">maxHistory</span>&gt;</span>15<span class="tag">&lt;/<span class="name">maxHistory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ­¤æ—¥å¿—æ–‡æ¡£åªè®°å½•warnçº§åˆ«çš„ --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- çº§åˆ«æ‹¦æˆªå™¨å¦‚æœäº‹ä»¶çš„çº§åˆ«ç­‰äºé…ç½®çš„çº§åˆ«ï¼Œåˆ™è¿‡æ»¤å™¨æ¥å—æˆ–æ‹’ç»è¯¥äº‹ä»¶ï¼Œå…·ä½“å–å†³äºonMatchå’ŒonMismatchå±æ€§çš„é…ç½®ã€‚--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.classic.filter.LevelFilter&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">level</span>&gt;</span>warn<span class="tag">&lt;/<span class="name">level</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- ä¸Šé¢çš„çº§åˆ«æ”¾è¡Œ--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">onMatch</span>&gt;</span>ACCEPT<span class="tag">&lt;/<span class="name">onMatch</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- æ²¡æŠ“åˆ°ä¸Šé¢çº§åˆ«çš„å°±æ‹¦æˆª--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">onMismatch</span>&gt;</span>DENY<span class="tag">&lt;/<span class="name">onMismatch</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- levelä¸º ERROR æ—¥å¿—ï¼Œæ—¶é—´æ»šåŠ¨è¾“å‡º  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;ERROR_FILE&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ­£åœ¨è®°å½•çš„æ—¥å¿—æ–‡æ¡£çš„è·¯å¾„åŠæ–‡æ¡£å --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">file</span>&gt;</span>$&#123;log.path&#125;/error.log<span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--æ—¥å¿—æ–‡æ¡£è¾“å‡ºæ ¼å¼--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">charset</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">charset</span>&gt;</span> <span class="comment">&lt;!-- æ­¤å¤„è®¾ç½®å­—ç¬¦é›† --&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ—¥å¿—è®°å½•å™¨çš„æ»šåŠ¨ç­–ç•¥ï¼ŒæŒ‰æ—¥æœŸï¼ŒæŒ‰å¤§å°è®°å½• --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">fileNamePattern</span>&gt;</span>$&#123;log.path&#125;/error-%d&#123;yyyy-MM-dd&#125;.%i.log<span class="tag">&lt;/<span class="name">fileNamePattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">timeBasedFileNamingAndTriggeringPolicy</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">maxFileSize</span>&gt;</span>100MB<span class="tag">&lt;/<span class="name">maxFileSize</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--æ—¥å¿—æ–‡æ¡£ä¿ç•™å¤©æ•°--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">maxHistory</span>&gt;</span>15<span class="tag">&lt;/<span class="name">maxHistory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ­¤æ—¥å¿—æ–‡æ¡£åªè®°å½•ERRORçº§åˆ«çš„ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.classic.filter.LevelFilter&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">level</span>&gt;</span>ERROR<span class="tag">&lt;/<span class="name">level</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">onMatch</span>&gt;</span>ACCEPT<span class="tag">&lt;/<span class="name">onMatch</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">onMismatch</span>&gt;</span>DENY<span class="tag">&lt;/<span class="name">onMismatch</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æ‰€æœ‰ é™¤äº†DEBUGçº§åˆ«çš„å…¶å®ƒé«˜äºDEBUGçš„ æ—¥å¿—ï¼Œè®°å½•åˆ°ä¸€ä¸ªæ–‡ä»¶  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;ALL_FILE&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ­£åœ¨è®°å½•çš„æ—¥å¿—æ–‡æ¡£çš„è·¯å¾„åŠæ–‡æ¡£å --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">file</span>&gt;</span>$&#123;log.path&#125;/all.log<span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--æ—¥å¿—æ–‡æ¡£è¾“å‡ºæ ¼å¼--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">charset</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">charset</span>&gt;</span> <span class="comment">&lt;!-- æ­¤å¤„è®¾ç½®å­—ç¬¦é›† --&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ—¥å¿—è®°å½•å™¨çš„æ»šåŠ¨ç­–ç•¥ï¼ŒæŒ‰æ—¥æœŸï¼ŒæŒ‰å¤§å°è®°å½• --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">fileNamePattern</span>&gt;</span>$&#123;log.path&#125;/all-%d&#123;yyyy-MM-dd&#125;.%i.log<span class="tag">&lt;/<span class="name">fileNamePattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">timeBasedFileNamingAndTriggeringPolicy</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">maxFileSize</span>&gt;</span>100MB<span class="tag">&lt;/<span class="name">maxFileSize</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--æ—¥å¿—æ–‡æ¡£ä¿ç•™å¤©æ•°--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">maxHistory</span>&gt;</span>15<span class="tag">&lt;/<span class="name">maxHistory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ­¤æ—¥å¿—æ–‡æ¡£è®°å½•é™¤äº†DEBUGçº§åˆ«çš„å…¶å®ƒé«˜äºDEBUGçš„ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.classic.filter.LevelFilter&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">level</span>&gt;</span>DEBUG<span class="tag">&lt;/<span class="name">level</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--æŠ“åˆ°è¯¥çº§åˆ«çš„å°±æ‹¦æˆª--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">onMatch</span>&gt;</span>DENY<span class="tag">&lt;/<span class="name">onMatch</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- ä¸Šé¢æ²¡æŠ“åˆ°çš„å°±æ”¾è¡Œ--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">onMismatch</span>&gt;</span>ACCEPT<span class="tag">&lt;/<span class="name">onMismatch</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        &lt;logger&gt;ç”¨æ¥è®¾ç½®æŸä¸€ä¸ªåŒ…æˆ–è€…å…·ä½“çš„æŸä¸€ä¸ªç±»çš„æ—¥å¿—æ‰“å°çº§åˆ«ã€ä»¥åŠæŒ‡å®š&lt;appender&gt;ã€‚&lt;logger&gt;ä»…æœ‰ä¸€ä¸ªnameå±æ€§ï¼Œä¸€ä¸ªå¯é€‰çš„levelå’Œä¸€ä¸ªå¯é€‰çš„addtivityå±æ€§ã€‚</span></span><br><span class="line"><span class="comment">        name:ç”¨æ¥æŒ‡å®šå—æ­¤loggerçº¦æŸçš„æŸä¸€ä¸ªåŒ…æˆ–è€…å…·ä½“çš„æŸä¸€ä¸ªç±»ã€‚</span></span><br><span class="line"><span class="comment">        level:ç”¨æ¥è®¾ç½®æ‰“å°çº§åˆ«ï¼Œå¤§å°å†™æ— å…³ï¼šTRACE, DEBUG, INFO, WARN, ERROR, ALL å’Œ OFFï¼Œ</span></span><br><span class="line"><span class="comment">              è¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šå€¼INHERITEDæˆ–è€…åŒä¹‰è¯NULLï¼Œä»£è¡¨å¼ºåˆ¶æ‰§è¡Œä¸Šçº§çš„çº§åˆ«ã€‚</span></span><br><span class="line"><span class="comment">              å¦‚æœæœªè®¾ç½®æ­¤å±æ€§ï¼Œé‚£ä¹ˆå½“å‰loggerå°†ä¼šç»§æ‰¿ä¸Šçº§çš„çº§åˆ«ã€‚</span></span><br><span class="line"><span class="comment">        addtivity:æ˜¯å¦å‘ä¸Šçº§loggerä¼ é€’æ‰“å°ä¿¡æ¯ã€‚é»˜è®¤æ˜¯trueã€‚</span></span><br><span class="line"><span class="comment">        &lt;logger name=&quot;org.springframework.web&quot; level=&quot;info&quot;/&gt;</span></span><br><span class="line"><span class="comment">        &lt;logger name=&quot;org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor&quot; level=&quot;INFO&quot;/&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">rooté…ç½®å¿…é¡»åœ¨appenderä¸‹è¾¹</span></span><br><span class="line"><span class="comment">        rootèŠ‚ç‚¹æ˜¯å¿…é€‰èŠ‚ç‚¹ï¼Œç”¨æ¥æŒ‡å®šæœ€åŸºç¡€çš„æ—¥å¿—è¾“å‡ºçº§åˆ«ï¼Œåªæœ‰ä¸€ä¸ªlevelå±æ€§</span></span><br><span class="line"><span class="comment">        level:ç”¨æ¥è®¾ç½®æ‰“å°çº§åˆ«ï¼Œå¤§å°å†™æ— å…³ï¼šTRACE, DEBUG, INFO, WARN, ERROR, ALL å’Œ OFFï¼Œ</span></span><br><span class="line"><span class="comment">        ä¸èƒ½è®¾ç½®ä¸ºINHERITEDæˆ–è€…åŒä¹‰è¯NULLã€‚é»˜è®¤æ˜¯DEBUG</span></span><br><span class="line"><span class="comment">        å¯ä»¥åŒ…å«é›¶ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œæ ‡è¯†è¿™ä¸ªappenderå°†ä¼šæ·»åŠ åˆ°è¿™ä¸ªloggerã€‚</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æœ€ç»ˆçš„ç­–ç•¥ï¼šåŸºæœ¬ç­–ç•¥(rootçº§) + æ ¹æ®profileåœ¨å¯åŠ¨æ—¶, loggeræ ‡ç­¾ä¸­å®šåˆ¶åŒ–packageæ—¥å¿—çº§åˆ«(ä¼˜å…ˆçº§é«˜äºä¸Šé¢çš„rootçº§)--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">springProfile</span> <span class="attr">name</span>=<span class="string">&quot;dev&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å¤§äºç­‰äºinfoçº§åˆ«çš„æ‰ä¼šè¾“å‡º --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;CONSOLE&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;DEBUG_FILE&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;INFO_FILE&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;WARN_FILE&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;ERROR_FILE&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;ALL_FILE&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;com.shen.test&quot;</span> <span class="attr">level</span>=<span class="string">&quot;debug&quot;</span>/&gt;</span> <span class="comment">&lt;!-- å¼€å‘ç¯å¢ƒ, æŒ‡å®šæŸåŒ…æ—¥å¿—ä¸ºdebugçº§ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">springProfile</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">springProfile</span> <span class="attr">name</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;CONSOLE&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;DEBUG_FILE&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;INFO_FILE&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;WARN_FILE&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;ERROR_FILE&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;ALL_FILE&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;com.shen.test&quot;</span> <span class="attr">level</span>=<span class="string">&quot;info&quot;</span>/&gt;</span> <span class="comment">&lt;!-- æµ‹è¯•ç¯å¢ƒ, æŒ‡å®šæŸåŒ…æ—¥å¿—ä¸ºinfoçº§ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">springProfile</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">springProfile</span> <span class="attr">name</span>=<span class="string">&quot;pro&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- ç”Ÿäº§ç¯å¢ƒæœ€å¥½ä¸é…ç½®consoleå†™æ–‡ä»¶ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;DEBUG_FILE&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;INFO_FILE&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;WARN_FILE&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;ERROR_FILE&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;ALL_FILE&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;com.shen.test&quot;</span> <span class="attr">level</span>=<span class="string">&quot;warn&quot;</span>/&gt;</span> <span class="comment">&lt;!-- ç”Ÿäº§ç¯å¢ƒ, æŒ‡å®šæŸåŒ…æ—¥å¿—ä¸ºwarnçº§ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;com.shen.test.MyApplication&quot;</span> <span class="attr">level</span>=<span class="string">&quot;info&quot;</span>/&gt;</span> <span class="comment">&lt;!-- ç‰¹å®šæŸä¸ªç±»æ‰“å°infoæ—¥å¿—, æ¯”å¦‚applicationå¯åŠ¨æˆåŠŸåçš„æç¤ºè¯­ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">springProfile</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><p>propertyæ ‡ç­¾ç”¨æ¥å®šä¹‰å˜é‡å€¼ï¼Œåœ¨æ­¤å¤„å®šä¹‰äº†ä¸€ä¸ªæ—¥å¿—è¾“å‡ºçš„ä½ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">springProperty</span> <span class="attr">name</span>=<span class="string">&quot;log.path&quot;</span> <span class="attr">source</span>=<span class="string">&quot;logging.file.path&quot;</span> <span class="attr">defaultValue</span>=<span class="string">&quot;./logs/&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>appenderæ ‡ç­¾ç”¨æ¥ç”Ÿæˆå†™æ—¥å¿—çš„ç»„ä»¶ï¼Œæ­¤å¤„å®šä¹‰äº†<code>CONSOLE</code>ã€<code>DEBUG_FILE</code>ã€<code>INFO_FILE</code>ã€<code>WARN_FILE</code>ã€<code>ERROR_FILE</code>ã€<code>ALL_FILE</code>äº”ä¸ªæ—¥å¿—è¾“å‡º</p><p><code>CONSOLE</code>ç¤ºä¾‹</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;CONSOLE&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">level</span>&gt;</span>debug<span class="tag">&lt;/<span class="name">level</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    //æ—¥å¿—æ ¼å¼åŒ–</span><br><span class="line">    <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Pattern</span>&gt;</span>$&#123;CONSOLE_LOG_PATTERN&#125;<span class="tag">&lt;/<span class="name">Pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">charset</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">charset</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br></pre></td></tr></table></figure><p> <code>DEBUG_FILE</code>ç¤ºä¾‹ï¼Œæ»šåŠ¨è®°å½•æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;DEBUG_FILE&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span></span><br><span class="line">    //æ—¥å¿—æ–‡æ¡£çš„è·¯å¾„åŠæ–‡æ¡£å</span><br><span class="line">    <span class="tag">&lt;<span class="name">file</span>&gt;</span>$&#123;log.path&#125;/debug.log<span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">charset</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">charset</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    //è®¾ç½®æ»šåŠ¨ç­–ç•¥</span><br><span class="line">    <span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span>&gt;</span></span><br><span class="line">        //æ—¥å¿—å½’æ¡£</span><br><span class="line">        <span class="tag">&lt;<span class="name">fileNamePattern</span>&gt;</span>$&#123;log.path&#125;/debug-%d&#123;yyyy-MM-dd&#125;.%i.log<span class="tag">&lt;/<span class="name">fileNamePattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">timeBasedFileNamingAndTriggeringPolicy</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">maxFileSize</span>&gt;</span>100MB<span class="tag">&lt;/<span class="name">maxFileSize</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- æ—¥å¿—æ–‡æ¡£ä¿ç•™å¤©æ•° --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">maxHistory</span>&gt;</span>15<span class="tag">&lt;/<span class="name">maxHistory</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- é™åˆ¶æ—¥å¿—æ–‡ä»¶æ€»å®¹é‡ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">totalSizeCap</span>&gt;</span>10GB<span class="tag">&lt;/<span class="name">totalSizeCap</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.classic.filter.LevelFilter&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">level</span>&gt;</span>debug<span class="tag">&lt;/<span class="name">level</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">onMatch</span>&gt;</span>ACCEPT<span class="tag">&lt;/<span class="name">onMatch</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">onMismatch</span>&gt;</span>DENY<span class="tag">&lt;/<span class="name">onMismatch</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">filter</span>&gt;</span>olicy&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>springProfileå®šä¹‰å„ç§ç¯å¢ƒä¸‹çš„æœ€åŸºç¡€æ—¥å¿—è¾“å‡ºçº§åˆ«ä»¥åŠæ‰€éœ€è¦çš„æ—¥å¿—ç»„ä»¶ï¼Œæ­¤å¤„å®šä¹‰äº†<code>dev</code>ã€<code>test</code>ã€<code>pro</code>ï¼ˆæ­¤ç¯å¢ƒæ— éœ€è¾“å‡ºåˆ°æ§åˆ¶å°ï¼‰</p></li><li><p>loggerç”¨æ¥è®¾ç½®æŸä¸€ä¸ªåŒ…æˆ–è€…å…·ä½“æŸä¸€ä¸ªç±»çš„æ—¥å¿—æ‰“å°çº§åˆ«</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æœ€ç»ˆçš„ç­–ç•¥ï¼šåŸºæœ¬ç­–ç•¥(rootçº§) + æ ¹æ®profileåœ¨å¯åŠ¨æ—¶, loggeræ ‡ç­¾ä¸­å®šåˆ¶åŒ–packageæ—¥å¿—çº§åˆ«(ä¼˜å…ˆçº§é«˜äºä¸Šé¢çš„rootçº§)--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">springProfile</span> <span class="attr">name</span>=<span class="string">&quot;dev&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¤§äºç­‰äºinfoçº§åˆ«çš„æ‰ä¼šè¾“å‡º --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;CONSOLE&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;DEBUG_FILE&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;INFO_FILE&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;WARN_FILE&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;ERROR_FILE&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;ALL_FILE&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;org.example&quot;</span> <span class="attr">level</span>=<span class="string">&quot;debug&quot;</span>/&gt;</span> <span class="comment">&lt;!-- å¼€å‘ç¯å¢ƒ, æŒ‡å®šæŸåŒ…æ—¥å¿—ä¸ºdebugçº§ --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">springProfile</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
            <tag> æ—¥å¿— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mockæµ‹è¯•ç›¸å…³</title>
      <link href="/2025/10/24/java/spring/Mock%E6%B5%8B%E8%AF%95%E7%9B%B8%E5%85%B3/"/>
      <url>/2025/10/24/java/spring/Mock%E6%B5%8B%E8%AF%95%E7%9B%B8%E5%85%B3/</url>
      
        <content type="html"><![CDATA[<p>æµ‹è¯•</p><p>æµ‹è¯•åˆ†ä¸ºä¸¤ç±»ï¼Œ</p><ul><li><p>å•å…ƒæµ‹è¯•ï¼ˆä¸ä¾èµ–Springå®¹å™¨ï¼Œæµ‹è¯•å•ä¸ªç±»æˆ–æ–¹æ³•ï¼‰ï¼Œä½¿ç”¨JUnit + Mockito</p></li><li><p>é›†æˆæµ‹è¯•ï¼ˆæµ‹è¯•å¤šä¸ªç»„ä»¶ï¼Œéœ€è¦å¯åŠ¨springbootï¼‰,@SpringBootTestã€@WebMvcTestã€MockMVC</p></li></ul><h2 id="Mockito"><a href="#Mockito" class="headerlink" title="Mockito"></a>Mockito</h2><p>Mockitoç”¨äºåˆ›å»ºæ¨¡æ‹Ÿå¯¹è±¡ï¼Œéš”ç¦»å…¶ä»–ç¯å¢ƒæ¥ä¸“æ³¨æµ‹è¯•æŸä¸ªç±»</p><ol><li><p><strong>Mockï¼ˆå®Œå…¨æ¨¡æ‹Ÿï¼‰</strong>ï¼š</p><ul><li>åˆ›å»ºä¸€ä¸ªå‡çš„å¯¹è±¡ï¼Œç”¨æ¥æ›¿ä»£çœŸå®å¯¹è±¡ã€‚</li><li>è¿™ä¸ªå¯¹è±¡çš„è¡Œä¸ºå¯ä»¥ç”±ä½ æ¥å®šä¹‰ï¼ˆæ¯”å¦‚è°ƒç”¨æŸä¸ªæ–¹æ³•æ—¶è¿”å›ä»€ä¹ˆå€¼ï¼‰ã€‚</li><li>ç›®çš„æ˜¯<strong>éš”ç¦»ä¾èµ–</strong>ï¼Œé¿å…åœ¨å•å…ƒæµ‹è¯•ä¸­çœŸæ­£å»è®¿é—®æ•°æ®åº“ã€è°ƒç”¨è¿œç¨‹æ¥å£ç­‰ã€‚</li></ul></li><li><p><strong>Stubï¼ˆè¡Œä¸ºé¢„è®¾ï¼‰</strong>ï¼š</p><ul><li>å®šä¹‰æ¨¡æ‹Ÿå¯¹è±¡åœ¨è¢«è°ƒç”¨æ—¶åº”è¯¥è¿”å›ä»€ä¹ˆå€¼æˆ–æ‰§è¡Œä»€ä¹ˆåŠ¨ä½œã€‚</li><li>ä¾‹å¦‚ï¼š<code>when(mockService.getData()).thenReturn(&quot;mocked data&quot;);</code></li><li>è¿™æ ·ï¼Œå½“æµ‹è¯•ä»£ç è°ƒç”¨ <code>mockService.getData()</code> æ—¶ï¼Œä¸ä¼šæ‰§è¡ŒçœŸå®é€»è¾‘ï¼Œè€Œæ˜¯è¿”å› <code>&quot;mocked data&quot;</code>ã€‚</li></ul></li><li><p><strong>Verifyï¼ˆéªŒè¯ï¼‰</strong>ï¼š</p><ul><li>éªŒè¯æŸä¸ªæ–¹æ³•æ˜¯å¦è¢«è°ƒç”¨ï¼Œä»¥åŠè¢«è°ƒç”¨äº†å¤šå°‘æ¬¡ã€‚</li><li>ä¾‹å¦‚ï¼š<code>verify(mockService, times(1)).saveData(anyString());</code></li><li>è¿™è¡Œä»£ç ä¼šæ£€æŸ¥ <code>saveData</code> æ–¹æ³•æ˜¯å¦è¢«è°ƒç”¨äº†<strong>æ°å¥½ä¸€æ¬¡</strong>ã€‚</li></ul></li><li><p><strong>Spyï¼ˆéƒ¨åˆ†æ¨¡æ‹Ÿï¼‰</strong>ï¼š</p><ul><li>å¯¹<strong>çœŸå®å¯¹è±¡</strong>è¿›è¡Œéƒ¨åˆ†æ¨¡æ‹Ÿã€‚ï¼ˆåªæ¨¡æ‹Ÿè‡ªå·±å†™çš„ä¸šåŠ¡ï¼Œä¸‰åˆ†æ¡†æ¶çš„ä¸šåŠ¡ç»§ç»­æ­£å¸¸è°ƒç”¨ï¼‰</li><li>é»˜è®¤æƒ…å†µä¸‹ï¼Œè°ƒç”¨çœŸå®çš„æ–¹æ³•ï¼›ä½†ä½ å¯ä»¥å¯¹æŸäº›æ–¹æ³•è¿›è¡Œ stubï¼Œè¦†ç›–å…¶è¡Œä¸ºã€‚</li><li>ä¸ <code>@Mock</code> ä¸åŒï¼Œ<code>@Spy</code> åˆ›å»ºçš„æ˜¯çœŸå®å¯¹è±¡çš„åŒ…è£…ã€‚</li></ul></li></ol><ul><li><code>@Mock</code> + <code>@InjectMocks</code>ï¼š<strong>ä¸å¯åŠ¨ Spring å®¹å™¨</strong>ï¼Œå®Œå…¨æ‰‹åŠ¨æ§åˆ¶ä¾èµ–ï¼Œé€Ÿåº¦å¿«ï¼Œé€‚åˆçº¯å•å…ƒæµ‹è¯•ã€‚</li><li><code>@MockBean</code>ï¼š<strong>å¯åŠ¨ Spring å®¹å™¨</strong>ï¼Œä½†å°†æŸä¸ª Bean æ›¿æ¢ä¸º Mockï¼Œé€‚åˆé›†æˆæµ‹è¯•ä¸­éš”ç¦»å¤–éƒ¨ä¾èµ–ã€‚</li></ul><h3 id="Mock-InjectMocks"><a href="#Mock-InjectMocks" class="headerlink" title="Mock+@InjectMocks"></a><code>Mock+</code>@InjectMocks</h3><p>çº¯å•å…ƒæµ‹è¯•ï¼Œæµ‹è¯•InjectMocksçš„é€»è¾‘ï¼Œå…¶ä»–çš„æ¨¡æ‹Ÿï¼Œä¸å¯åŠ¨Spring</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UserServiceUnitTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Mock</span></span><br><span class="line">    <span class="keyword">private</span> UserRepository userRepository; <span class="comment">// æ¨¡æ‹Ÿä¾èµ–</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@InjectMocks</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService; <span class="comment">// è¢«æµ‹è¯•çš„çœŸå®å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">testGetUserById</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// å‡†å¤‡æ•°æ®</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">mockUser</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        mockUser.setId(<span class="number">1L</span>);</span><br><span class="line">        mockUser.setName(<span class="string">&quot;Alice&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰“æ¡©ï¼šå½“è°ƒç”¨ userRepository.findById(1L) æ—¶ï¼Œè¿”å› mockUser</span></span><br><span class="line">        <span class="keyword">when</span>(userRepository.findById(<span class="number">1L</span>)).thenReturn(mockUser);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰§è¡Œ</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">result</span> <span class="operator">=</span> userService.getUserById(<span class="number">1L</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// éªŒè¯</span></span><br><span class="line">        assertNotNull(result);</span><br><span class="line">        assertEquals(<span class="string">&quot;Alice&quot;</span>, result.getName());</span><br><span class="line">        <span class="comment">// éªŒè¯ userRepository.findById(1L) æ˜¯å¦è¢«è°ƒç”¨äº†ä¸€æ¬¡</span></span><br><span class="line">        verify(userRepository, times(<span class="number">1</span>)).findById(<span class="number">1L</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-SpringBootTest-MockBean"><a href="#ä½¿ç”¨-SpringBootTest-MockBean" class="headerlink" title="ä½¿ç”¨ @SpringBootTest + @MockBean"></a>ä½¿ç”¨ <code>@SpringBootTest</code> + <code>@MockBean</code></h3><p>éƒ¨åˆ†å¯åŠ¨Springå®¹å™¨ä½†æ˜¯æ›¿æ¢æŸä¸ªBeanä¸ºMock</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span> <span class="comment">// å¯åŠ¨ Spring ä¸Šä¸‹æ–‡</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserServiceIntegrationTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@MockBean</span> <span class="comment">// å°†å®¹å™¨ä¸­çš„ UserRepository æ›¿æ¢ä¸º Mock</span></span><br><span class="line">    <span class="keyword">private</span> UserRepository userRepository;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">testGetUserByIdWithSpringContext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">mockUser</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        mockUser.setId(<span class="number">1L</span>);</span><br><span class="line">        mockUser.setName(<span class="string">&quot;Charlie&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">when</span>(userRepository.findById(<span class="number">1L</span>)).thenReturn(mockUser);</span><br><span class="line"></span><br><span class="line">        <span class="type">User</span> <span class="variable">result</span> <span class="operator">=</span> userService.getUserById(<span class="number">1L</span>);</span><br><span class="line"></span><br><span class="line">        assertNotNull(result);</span><br><span class="line">        assertEquals(<span class="string">&quot;Charlie&quot;</span>, result.getName());</span><br><span class="line">        verify(userRepository).findById(<span class="number">1L</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-SpyBean"><a href="#ä½¿ç”¨-SpyBean" class="headerlink" title="ä½¿ç”¨ @SpyBean"></a>ä½¿ç”¨ <code>@SpyBean</code></h3><p>æµ‹è¯•çœŸå®å¯¹è±¡ï¼Œæ¨¡æ‹Ÿå…¶ä¸­éƒ¨åˆ†æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserServiceSpyTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SpyBean</span></span><br><span class="line">    <span class="keyword">private</span> UserRepository userRepository; <span class="comment">// çœŸå®å¯¹è±¡ï¼Œä½†å¯éƒ¨åˆ† Mock</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">testCreateUserWithSpy</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        user.setId(<span class="number">999L</span>);</span><br><span class="line">        user.setName(<span class="string">&quot;Spy User&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åª Mock save æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">when</span>(userRepository.save(any(User.class))).thenReturn(user);</span><br><span class="line"></span><br><span class="line">        <span class="type">User</span> <span class="variable">result</span> <span class="operator">=</span> userService.createUser(<span class="string">&quot;Spy User&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ­¤æ—¶ save èµ°çš„æ˜¯ Mock è¡Œä¸ºï¼Œå…¶ä»–æ–¹æ³•è¿˜æ˜¯çœŸå®é€»è¾‘</span></span><br><span class="line">        assertEquals(<span class="number">999L</span>, result.getId());</span><br><span class="line">        verify(userRepository).save(any(User.class));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="MockMVC"><a href="#MockMVC" class="headerlink" title="MockMVC"></a>MockMVC</h2><p>å¿…é¡»åœ¨Springæµ‹è¯•ä¸Šä¸‹é—®ä¸­ä½¿ç”¨ï¼Œæ˜¯Springtestæ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼Œä¸Šé¢çš„Mockitoæ˜¯ç‹¬ç«‹çš„æ¡†æ¶ï¼Œå¯ä»¥å•ç‹¬ä½¿ç”¨</p><ol><li><p>åˆ›å»ºæ¨¡æ‹Ÿçš„MVCç¯å¢ƒï¼Œæ¨¡æ‹Ÿå‘é€è¯·æ±‚ï¼Œè€Œä¸æ˜¯çœŸå®çš„HTTPå®¢æˆ·ç«¯</p></li><li><p>è¯·æ±‚ä¸ä¼šçœŸæ­£é€šè¿‡ç½‘ç»œä¼ è¾“ï¼Œè€Œæ˜¯åœ¨Spring MVCæ¡†æ¶å†…éƒ¨ç›´æ¥è°ƒç”¨Controller</p></li><li><p>mockMvc.perform()æ–¹æ³•æ¨¡æ‹ŸHTTPè¯·æ±‚å¤„ç†æµç¨‹</p></li><li><p>å¯åŠ¨Springbooté¡¹ç›®ï¼Œåªæ˜¯ä»¥æµ‹è¯•æ¨¡å¼è¿è¡Œè€Œéå®Œæ•´çš„WebæœåŠ¡å™¨</p></li><li><p>é€šå¸¸ä¸Mockæ­é…ä½¿ç”¨</p></li></ol><p><strong>ä½¿ç”¨ @WebMvcTestï¼ˆå¯é€‰ï¼‰</strong>ï¼š å¦‚æœä½ æƒ³è®© Spring å®¹å™¨ç®¡ç† Controller çš„ä¾èµ–æ³¨å…¥ï¼ˆè€Œä¸æ˜¯æ‰‹åŠ¨ <code>@InjectMocks</code>ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebMvcTest(UserController.class)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserControllerTest</span> &#123; ... &#125;</span><br></pre></td></tr></table></figure><p>æ¥å£MockMvcBuilderï¼Œæä¾›ä¸€ä¸ªå”¯ä¸€çš„buildæ–¹æ³•ï¼Œç”¨æ¥æ„é€ MockMvcã€‚ä¸»è¦æœ‰ä¸¤ä¸ªå®ç°ï¼š</p><ul><li><p>StandaloneMockMvcBuilder   ç‹¬ç«‹å®‰è£…æµ‹è¯•</p></li><li><p>DefaultMockMvcBuilder       é›†æˆWebæµ‹è¯•ï¼Œæ— éœ€å¯åŠ¨çœŸå®æœåŠ¡å™¨</p></li></ul><p>MockMvcBuildersæä¾›äº†å¯¹åº”çš„åˆ›å»ºæ–¹æ³•<code>standaloneSetu</code>pæ–¹æ³•å’Œ<code>webAppContextSetup</code>æ–¹æ³•ï¼Œåœ¨ä½¿ç”¨æ—¶ç›´æ¥è°ƒç”¨å³å¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith(SpringRunner.class)</span></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="meta">@ContextConfiguration(classes = Main.class)</span></span><br><span class="line"><span class="meta">@WebAppConfiguration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MVCTest</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> MockMvc mockMvc;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> WebApplicationContext webApplicationContext;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ObjectMapper objectMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setup</span><span class="params">()</span>&#123;</span><br><span class="line">         <span class="comment">// å®ä¾‹åŒ–æ–¹å¼ä¸€</span></span><br><span class="line">        <span class="comment">//mockMvc = MockMvcBuilders.standaloneSetup(new HelloWorldController()).build();</span></span><br><span class="line">        <span class="comment">//å®ä¾‹åŒ–æ–¹å¼äºŒ</span></span><br><span class="line">        mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();</span><br><span class="line">        objectMapper = <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUserListPage_FirstPage</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">UserQueryRequest</span> <span class="variable">request</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserQueryRequest</span>();</span><br><span class="line">        request.setCurrent(<span class="number">1</span>);</span><br><span class="line">        request.setPageSize(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">        mockMvc.perform(MockMvcRequestBuilders</span><br><span class="line">                        .post(<span class="string">&quot;/user/list/page&quot;</span>)</span><br><span class="line">                        .contentType(MediaType.APPLICATION_JSON)</span><br><span class="line">                        .content(objectMapper.writeValueAsString(request))) .andExpect(MockMvcResultMatchers.jsonPath(<span class="string">&quot;$.data.total&quot;</span>)                                                                                        .value(org.hamcrest.Matchers.greaterThan(<span class="number">0</span>)))</span><br><span class="line">                .andDo(MockMvcResultHandlers.print());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>mockMvc.performæ‰§è¡Œä¸€ä¸ªè¯·æ±‚</li><li>MockMvcRequestBuilders.get(â€œâ€)æ„é€ ä¸€ä¸ªè¯·æ±‚</li><li>ResultActions.paramæ·»åŠ è¯·æ±‚ä¼ å€¼</li><li>ResultActions.accept(MediaType.TEXT_HTML_VALUE))è®¾ç½®è¿”å›ç±»å‹</li><li>ResultActions.andExpectæ·»åŠ æ‰§è¡Œå®Œæˆåçš„æ–­è¨€ã€‚</li><li>ResultActions.andDoæ·»åŠ ä¸€ä¸ªç»“æœå¤„ç†å™¨ï¼Œæ­¤å¤„ä½¿ç”¨MockMvcResultHandlers.print()è¾“å‡ºæ•´ä¸ªå“åº”ç»“æœä¿¡æ¯ã€‚</li><li>ResultActions.andReturnè¡¨ç¤ºæ‰§è¡Œå®Œæˆåè¿”å›ç›¸åº”çš„ç»“æœ</li></ol><p>æµ‹è¯•ç»“æœæ‰“å°</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">FlashMap:</span><br><span class="line"><span class="code">       Attributes = null</span></span><br><span class="line"><span class="code">MockHttpServletResponse:</span></span><br><span class="line"><span class="code">           Status = 200</span></span><br><span class="line"><span class="code">    Error message = null</span></span><br><span class="line"><span class="code">          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Content-Length:&quot;10&quot;]</span></span><br><span class="line"><span class="code">     Content type = application/json;charset=UTF-8</span></span><br><span class="line"><span class="code">             Body = Hello Tom!</span></span><br><span class="line"><span class="code">    Forwarded URL = null</span></span><br><span class="line"><span class="code">   Redirected URL = null</span></span><br><span class="line"><span class="code">          Cookies = []</span></span><br><span class="line"><span class="code">2019-04-02 21:34:27.954  INFO 6937 --- [       Thread-2] o.s.s.concurrent.ThreadPo</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼šå¦‚æœä½¿ç”¨DefaultMockMvcBuilderè¿›è¡ŒMockMvcå®ä¾‹åŒ–æ—¶éœ€åœ¨SpringBootå¯åŠ¨ç±»ä¸Šæ·»åŠ ç»„ä»¶æ‰«æçš„packageçš„æŒ‡å®šï¼Œå¦åˆ™ä¼šå‡ºç°404ã€‚å¦‚ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@ComponentScan(basePackages = &quot;com.secbro2&quot;)</span><br></pre></td></tr></table></figure><h2 id="MvcTestä¸SpringBootTest"><a href="#MvcTestä¸SpringBootTest" class="headerlink" title="MvcTestä¸SpringBootTest"></a>MvcTestä¸SpringBootTest</h2><table><thead><tr><th>ç‰¹æ€§</th><th>MvcTest</th><th>SpringBootTest</th></tr></thead><tbody><tr><td>åŠ è½½Bean</td><td>ä»…Webå±‚</td><td>å…¨éƒ¨Bean</td></tr><tr><td>æµ‹è¯•ç±»å‹</td><td>å•å…ƒæµ‹è¯•</td><td>é›†æˆæµ‹è¯•</td></tr><tr><td>æ•°æ®åº“é“¾æ¥</td><td>éœ€è¦mock</td><td>çœŸå®è¿æ¥</td></tr><tr><td>ä¾èµ–å¤„ç†</td><td>æ‰‹åŠ¨mock Serviceç­‰</td><td>è‡ªåŠ¨æ³¨å…¥çœŸå®Bean</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æµ‹è¯• </tag>
            
            <tag> spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mybatis-plus</title>
      <link href="/2025/10/22/java/spring/mybatis-plus/"/>
      <url>/2025/10/22/java/spring/mybatis-plus/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>mybatis</title>
      <link href="/2025/10/22/java/spring/mybatis/"/>
      <url>/2025/10/22/java/spring/mybatis/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æ¨¡æ¿æ–¹æ³•</title>
      <link href="/2025/10/21/408/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/"/>
      <url>/2025/10/21/408/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼å…­å¤§åŸåˆ™</title>
      <link href="/2025/10/21/408/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%85%AD%E5%A4%A7%E5%8E%9F%E5%88%99/"/>
      <url>/2025/10/21/408/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%85%AD%E5%A4%A7%E5%8E%9F%E5%88%99/</url>
      
        <content type="html"><![CDATA[<h2 id="å¼€é—­åŸåˆ™"><a href="#å¼€é—­åŸåˆ™" class="headerlink" title="å¼€é—­åŸåˆ™"></a>å¼€é—­åŸåˆ™</h2><blockquote><p>è½¯ä»¶å®ä½“ï¼ˆç±»ã€æ¨¡å—ã€å‡½æ•°ç­‰ï¼‰åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼Œè¿™æ„å‘³ç€èƒ½å¤Ÿåœ¨ä¸ä¿®æ”¹ç°æœ‰ä»£ç çš„æƒ…å†µä¸‹æ·»åŠ æ–°çš„åŠŸèƒ½</p></blockquote><p>è¯¥ç±»ç”¨äºè´Ÿè´£è®¡ç®—ä¸åŒå½¢çŠ¶çš„é¢ç§¯ï¼Œç›®å‰åªèƒ½å¤„ç†çŸ©å½¢å’Œåœ†å½¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShapeService</span> &#123;</span><br><span class="line">    publicc <span class="type">double</span> <span class="title function_">calculateArea</span><span class="params">(Rectangle rectangle)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> rectangle.getWidth() * rectangle.getHeight();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">calculateArea</span><span class="params">(Circle circle)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Math.PI * circle.getRadius() * circle.getRadius();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœè¦æ·»åŠ ä¸€ä¸ªä¸‰è§’å½¢ï¼Œå¿…éœ€ä¿®æ”¹<code>ShapeServiceç±»</code></p><p>å¦‚ä½•é¿å…ä¿®æ”¹ç±»ï¼Ÿ</p><p>æŠŠShapeServiceç±»æ”¹ä¸ºæŠ½è±¡ç±»æˆ–è€…æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="type">double</span> <span class="title function_">calculateArea</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShapeService</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">calculateArea</span><span class="params">(Shape shape)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> shape.calculateArea();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“æ·»åŠ ä¸€ä¸ªæ–°çš„å½¢çŠ¶çš„æ—¶å€™ï¼Œåªéœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»å®ç°Shapeæ¥å£ï¼Œè€Œæ— éœ€ä¿®æ”¹<code>ShapeService</code>ç±»</p>]]></content>
      
      
      
        <tags>
            
            <tag> è½¯ä»¶è®¾è®¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å·¥å‚æ–¹æ³•</title>
      <link href="/2025/10/21/408/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95/"/>
      <url>/2025/10/21/408/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h2 id="åŸºæœ¬è®¤çŸ¥"><a href="#åŸºæœ¬è®¤çŸ¥" class="headerlink" title="åŸºæœ¬è®¤çŸ¥"></a>åŸºæœ¬è®¤çŸ¥</h2><blockquote><p>æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>å°†å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹å°è£…èµ·æ¥ï¼Œå®¢æˆ·ç«¯ä¸éœ€è¦å…³å¿ƒå¯¹è±¡æ˜¯å¦‚ä½•åˆ›å»ºçš„ï¼Œåªéœ€è¦è·å–å¯ç”¨çš„å¯¹è±¡å³å¯ã€‚</strong></p><p>å®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¥å£ã€è®©å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸ªç±»ã€‚Factory Methodä½¿ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°å­ç±»</p></blockquote><p>å‡è®¾ä½ ç›´æ¥åœ¨ä»£ç ä¸­ä½¿ç”¨ <code>new</code> æ¥åˆ›å»ºå¯¹è±¡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Product</span> <span class="variable">product</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteProductA</span>();</span><br></pre></td></tr></table></figure><p>å¦‚æœä»¥åè¦æ›´æ¢ä¸º <code>ConcreteProductB</code>ï¼Œå°±éœ€è¦ä¿®æ”¹æ‰€æœ‰ <code>new</code> çš„åœ°æ–¹ â€”â€” è¿èƒŒäº† <strong>å¼€é—­åŸåˆ™ï¼ˆå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼‰</strong>ã€‚</p><p>è€Œå·¥å‚æ¨¡å¼é€šè¿‡ä¸€ä¸ªâ€œå·¥å‚â€æ¥ç»Ÿä¸€åˆ›å»ºå¯¹è±¡ï¼Œé¿å…äº†è¿™ä¸ªé—®é¢˜ã€‚</p><h2 id="ç®€å•å·¥å‚"><a href="#ç®€å•å·¥å‚" class="headerlink" title="ç®€å•å·¥å‚"></a>ç®€å•å·¥å‚</h2><blockquote><p>å®šä¹‰ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œä½†è®©å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸€ä¸ªç±»ã€‚</p></blockquote><p>ä¸€ç»„ç›¸ä¼¼çš„äº§å“ï¼ˆå®ç°åŒä¸€ä¸ªæ¥å£æˆ–ç»§æ‰¿åŒä¸€çˆ¶ç±»ï¼‰ï¼Œå·¥å‚é€šè¿‡ä¸€ä¸ªå‚æ•°æ¥å†³å®šåˆ›å»ºå“ªä¸€ä¸ªã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Computer</span> &#123;</span><br><span class="line">    String <span class="title function_">getRAM</span><span class="params">()</span>;</span><br><span class="line">    String <span class="title function_">getHDD</span><span class="params">()</span>;</span><br><span class="line">    String <span class="title function_">getCPU</span><span class="params">()</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;RAM= &quot;</span>+<span class="built_in">this</span>.getRAM()+<span class="string">&quot;, HDD=&quot;</span>+<span class="built_in">this</span>.getHDD()+<span class="string">&quot;, CPU=&quot;</span>+<span class="built_in">this</span>.getCPU();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸€ç»„ç›¸ä¼¼äº§å“ç»§æ‰¿åŒä¸€ä¸ªçˆ¶ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PC</span> <span class="keyword">implements</span> <span class="title class_">Computer</span>&#123;...&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server</span> <span class="keyword">implements</span> <span class="title class_">Computer</span>&#123;...&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºå·¥å‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ComputerFactory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Computer <span class="title function_">getComputer</span><span class="params">(String type, String ram, String hdd, String cpu)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;PC&quot;</span>.equalsIgnoreCase(type)) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">PC</span>(ram, hdd, cpu);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;Server&quot;</span>.equalsIgnoreCase(type)) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Server</span>(ram, hdd, cpu);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼ºç‚¹ï¼šæ–°å¢äº§å“æ—¶éœ€è¦ä¿®æ”¹å·¥å‚ç±»</p><h2 id="å·¥å‚æ–¹æ³•"><a href="#å·¥å‚æ–¹æ³•" class="headerlink" title="å·¥å‚æ–¹æ³•"></a>å·¥å‚æ–¹æ³•</h2><blockquote><p>å°†å·¥å‚ä¹ŸæŠ½è±¡å‡ºæ¥ï¼Œæ¯ä¸ªå…·ä½“äº§å“å¯¹åº”ä¸€ä¸ªå…·ä½“å·¥å‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">ComputerFactory</span> &#123;</span><br><span class="line">    Computer <span class="title function_">getComputer</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PCFactory</span> <span class="keyword">implements</span> <span class="title class_">ComputerFactory</span> &#123;</span><br><span class="line">    Computer <span class="title function_">getComputer</span><span class="params">()</span> &#123;<span class="keyword">return</span> PC()&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ServerFactory</span> <span class="keyword">implements</span> <span class="title class_">ComputerFactory</span> &#123;</span><br><span class="line">    Computer <span class="title function_">getComputer</span><span class="params">()</span> &#123;<span class="keyword">return</span> Server()&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è§£å†³æ–°å¢äº§å“æ—¶éœ€è¦ä¿®æ”¹å·¥å‚ç±»ï¼Œå·¥å‚ç±»æ— éœ€ä¿®æ”¹ï¼Œåªéœ€è¦æ–°å¢æ–°çš„å·¥å‚</p><p>ç¼ºç‚¹ï¼šç±»çš„æ•°é‡å¢å¤š</p><h2 id="æŠ½è±¡å·¥å‚"><a href="#æŠ½è±¡å·¥å‚" class="headerlink" title="æŠ½è±¡å·¥å‚"></a>æŠ½è±¡å·¥å‚</h2><blockquote><p>å·¥å‚æ–¹æ³•æ¨¡å¼å‡çº§ç‰ˆï¼Œæ”¯æŒä¸€ç³»åˆ—äº§å“</p></blockquote><h3 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h3><p>å½“ä½ éœ€è¦åˆ›å»º<strong>ä¸€ç»„ç›¸å…³çš„äº§å“æ—</strong>ï¼Œè€Œä¸æ˜¯å•ä¸€äº§å“ã€‚</p><p>æ¯”å¦‚ï¼šä¸åŒæ“ä½œç³»ç»Ÿçš„ UI ç»„ä»¶ï¼ˆæŒ‰é’®ã€æ–‡æœ¬æ¡†ï¼‰ï¼ŒWindows ä¸€æ—ï¼ŒMac ä¸€æ—ã€‚</p><h3 id="ç¤ºä¾‹ç»“æ„"><a href="#ç¤ºä¾‹ç»“æ„" class="headerlink" title="ç¤ºä¾‹ç»“æ„"></a>ç¤ºä¾‹ç»“æ„</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">äº§å“æ—: Button + TextField</span><br><span class="line"><span class="code">         â†“</span></span><br><span class="line"><span class="code">å·¥å‚æ—: WindowsFactory â†’ åˆ›å»º WindowsButton + WindowsTextField</span></span><br><span class="line"><span class="code">       MacFactory      â†’ åˆ›å»º MacButton + MacTextField</span></span><br></pre></td></tr></table></figure><h3 id="ä»£ç ç¤ºæ„"><a href="#ä»£ç ç¤ºæ„" class="headerlink" title="ä»£ç ç¤ºæ„"></a>ä»£ç ç¤ºæ„</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Button</span> &#123; <span class="keyword">void</span> <span class="title function_">render</span><span class="params">()</span>; &#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">TextField</span> &#123; <span class="keyword">void</span> <span class="title function_">input</span><span class="params">()</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WindowsButton</span> <span class="keyword">implements</span> <span class="title class_">Button</span> &#123; ... &#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MacButton</span> <span class="keyword">implements</span> <span class="title class_">Button</span> &#123; ... &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WindowsTextField</span> <span class="keyword">implements</span> <span class="title class_">TextField</span> &#123; ... &#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MacTextField</span> <span class="keyword">implements</span> <span class="title class_">TextField</span> &#123; ... &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ½è±¡å·¥å‚</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">GUIFactory</span> &#123;</span><br><span class="line">    Button <span class="title function_">createButton</span><span class="params">()</span>;</span><br><span class="line">    TextField <span class="title function_">createTextField</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WindowsFactory</span> <span class="keyword">implements</span> <span class="title class_">GUIFactory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> Button <span class="title function_">createButton</span><span class="params">()</span> &#123; <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">WindowsButton</span>(); &#125;</span><br><span class="line">    <span class="keyword">public</span> TextField <span class="title function_">createTextField</span><span class="params">()</span> &#123; <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">WindowsTextField</span>(); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MacFactory</span> <span class="keyword">implements</span> <span class="title class_">GUIFactory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> Button <span class="title function_">createButton</span><span class="params">()</span> &#123; <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MacButton</span>(); &#125;</span><br><span class="line">    <span class="keyword">public</span> TextField <span class="title function_">createTextField</span><span class="params">()</span> &#123; <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MacTextField</span>(); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">GUIFactory</span> <span class="variable">factory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MacFactory</span>(); <span class="comment">// åˆ‡æ¢ä¸º WindowsFactory å³å¯æ¢æ•´å¥—ç•Œé¢</span></span><br><span class="line"><span class="type">Button</span> <span class="variable">button</span> <span class="operator">=</span> factory.createButton();</span><br><span class="line"><span class="type">TextField</span> <span class="variable">field</span> <span class="operator">=</span> factory.createTextField();</span><br><span class="line"></span><br><span class="line">button.render(); <span class="comment">// æ¸²æŸ“ Mac æŒ‰é’®</span></span><br><span class="line">field.input();   <span class="comment">// è¾“å…¥æ–‡æœ¬</span></span><br></pre></td></tr></table></figure><h2 id="é™æ€å·¥å‚"><a href="#é™æ€å·¥å‚" class="headerlink" title="é™æ€å·¥å‚"></a>é™æ€å·¥å‚</h2><blockquote><p><strong>ä¸€ä¸ªç±»ä¸­å®šä¹‰çš„ã€è¿”å›è¯¥ç±»ï¼ˆæˆ–å…¶å­ç±»ï¼‰å®ä¾‹çš„ <code>static</code> æ–¹æ³•</strong></p></blockquote><p>å’Œæ„é€ å™¨ä¸€æ ·ï¼Œéƒ½ç”¨äºåˆ›å»ºå¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> r, g, b;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Color</span><span class="params">(<span class="type">int</span> r, <span class="type">int</span> g, <span class="type">int</span> b)</span> &#123; ... &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é™æ€å·¥å‚æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Color <span class="title function_">red</span><span class="params">()</span>   &#123; <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Color</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>); &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Color <span class="title function_">green</span><span class="params">()</span> &#123; <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Color</span>(<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å·¥å‚æ–¹æ³•å¯ä»¥éšè—åˆ›å»ºäº§å“çš„ç»†èŠ‚ï¼Œä¸”ä¸ä¸€å®šæ¯æ¬¡éƒ½ä¼šçœŸæ­£åˆ›å»ºäº§å“ï¼Œå®Œå…¨å¯ä»¥è¿”å›ç¼“å­˜çš„äº§å“ï¼Œä»è€Œæå‡é€Ÿåº¦å¹¶å‡å°‘å†…å­˜æ¶ˆè€—</p><h2 id="å®ä¾‹å·¥å‚"><a href="#å®ä¾‹å·¥å‚" class="headerlink" title="å®ä¾‹å·¥å‚"></a>å®ä¾‹å·¥å‚</h2><blockquote><p><strong>å®ä¾‹å·¥å‚ï¼ˆInstance Factoryï¼‰æ˜¯æŒ‡ï¼šä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼ˆå®ä¾‹ï¼‰ä¸­çš„éé™æ€æ–¹æ³•ï¼Œç”¨æ¥åˆ›å»ºå¹¶è¿”å›å…¶ä»–å¯¹è±¡</strong></p></blockquote><p>ä¸é™æ€å·¥å‚æ–¹æ³•ç›¸å¯¹ï¼Œé™æ€å·¥å‚æ˜¯staticæ–¹æ³•ï¼Œè€Œå®ä¾‹å·¥å‚æ˜¯æ™®é€šå¯¹è±¡çš„å®ä¾‹æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// äº§å“ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Service</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doWork</span><span class="params">()</span> &#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å·¥å‚ç±»ï¼ˆä¸æ˜¯æŠ½è±¡ç±»æˆ–æ¥å£ï¼Œåªæ˜¯ä¸€ä¸ªæ™®é€šç±»ï¼‰</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ServiceFactory</span> &#123;</span><br><span class="line">    <span class="comment">// è¿™æ˜¯ä¸€ä¸ªå®ä¾‹æ–¹æ³•ï¼Œä¸æ˜¯ staticï¼</span></span><br><span class="line">    <span class="keyword">public</span> Service <span class="title function_">createService</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Service</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. å…ˆåˆ›å»ºå·¥å‚å®ä¾‹</span></span><br><span class="line"><span class="type">ServiceFactory</span> <span class="variable">factory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServiceFactory</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. è°ƒç”¨å®ä¾‹æ–¹æ³•åˆ›å»ºå¯¹è±¡</span></span><br><span class="line"><span class="type">Service</span> <span class="variable">service</span> <span class="operator">=</span> factory.createService();</span><br><span class="line">service.doWork();</span><br></pre></td></tr></table></figure><p>å¦‚æœå·¥å‚åœ¨åˆ›å»ºå¯¹è±¡æ—¶éœ€è¦è®¿é—®æŸäº›çŠ¶æ€æˆ–é…ç½®ï¼Œå°±ä¸èƒ½ç”¨ <code>static</code> æ–¹æ³•ï¼ˆå› ä¸ºé™æ€æ–¹æ³•æ— æ³•è®¿é—®å®ä¾‹å˜é‡ï¼‰ï¼Œå¿…é¡»ç”¨<strong>å®ä¾‹å·¥å‚</strong>ã€‚</p><h3 id="FactoryBean"><a href="#FactoryBean" class="headerlink" title="FactoryBean"></a>FactoryBean</h3><blockquote><p><code>FactoryBean</code>æ˜¯Springæä¾›çš„ä¸€ä¸ªæ¥å£ï¼Œç”¨äºè‡ªå®šä¹‰å¤æ‚å¯¹è±¡çš„åˆ›å»ºé€»è¾‘ï¼Œæ˜¯Springå¯¹å®ä¾‹å·¥å‚çš„ä¸€ç§å®ç°</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">FactoryBean</span>&lt;T&gt; &#123;</span><br><span class="line">    T <span class="title function_">getObject</span><span class="params">()</span> <span class="keyword">throws</span> Exception;           <span class="comment">// åˆ›å»ºå¹¶è¿”å›ç›®æ ‡å¯¹è±¡</span></span><br><span class="line">    Class&lt;?&gt; getObjectType();                 <span class="comment">// è¿”å›ç›®æ ‡å¯¹è±¡çš„ç±»å‹</span></span><br><span class="line">    <span class="keyword">default</span> <span class="type">boolean</span> <span class="title function_">isSingleton</span><span class="params">()</span> &#123; <span class="keyword">return</span> <span class="literal">true</span>; &#125; <span class="comment">// æ˜¯å¦ä¸ºå•ä¾‹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ä½ æŠŠä¸€ä¸ª <code>FactoryBean</code> çš„å®ç°æ³¨å†Œä¸º Spring Bean æ—¶ï¼š</p><ul><li><strong>Spring å®¹å™¨ä¸ä¼šè¿”å›è¿™ä¸ª FactoryBean æœ¬èº«</strong></li><li>è€Œæ˜¯è°ƒç”¨å®ƒçš„ <code>getObject()</code> æ–¹æ³•ï¼Œè¿”å›å®ƒåˆ›å»ºçš„<strong>ç›®æ ‡å¯¹è±¡</strong></li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>AOPåˆ‡é¢ç¼–ç¨‹</title>
      <link href="/2025/10/21/java/spring/AOP%E5%88%87%E9%9D%A2%E7%BC%96%E7%A8%8B/"/>
      <url>/2025/10/21/java/spring/AOP%E5%88%87%E9%9D%A2%E7%BC%96%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IOCå®¹å™¨</title>
      <link href="/2025/10/21/java/spring/IOC%E5%AE%B9%E5%99%A8/"/>
      <url>/2025/10/21/java/spring/IOC%E5%AE%B9%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="spring-Iocå®¹å™¨å’Œæ ¸å¿ƒæ¦‚å¿µ"><a href="#spring-Iocå®¹å™¨å’Œæ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="spring Iocå®¹å™¨å’Œæ ¸å¿ƒæ¦‚å¿µ"></a>spring Iocå®¹å™¨å’Œæ ¸å¿ƒæ¦‚å¿µ</h2><h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251021092949230.png" alt="image-20251021092949182"></p><p>SpringIoC å®¹å™¨æ˜¯Springç®¡ç†ç»„ä»¶çš„å®¹å™¨ï¼Œå°±æ˜¯ä¸€ä¸ªå¤æ‚å®¹å™¨ï¼Œä¸ä»…å­˜å‚¨ç»„ä»¶ï¼Œä¹Ÿå¯ä»¥ç®¡ç†ç»„ä»¶ä¹‹é—´ä¾èµ–å…³ç³»ï¼Œå¹¶ä¸”åˆ›å»ºå’Œé”€æ¯ç»„ä»¶ç­‰ã€‚</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251021093010774.png" alt="image-20251021093010701"></p><p>Spring IoC å®¹å™¨ï¼Œè´Ÿè´£å®ä¾‹åŒ–ã€é…ç½®å’Œç»„è£… beanï¼ˆç»„ä»¶ï¼‰ã€‚å®¹å™¨é€šè¿‡è¯»å–é…ç½®å…ƒæ•°æ®æ¥è·å–æœ‰å…³è¦å®ä¾‹åŒ–ã€é…ç½®å’Œç»„è£…ç»„ä»¶çš„æŒ‡ä»¤</p><blockquote><p>ä¸€ä¸ªspringbooté¡¹ç›®é€šå¸¸åªæœ‰ä¸€ä¸ªIOCå®¹å™¨ï¼ˆApplicationContextï¼‰ï¼Œè´Ÿè´£ç®¡ç†é¡¹ç›®ä¸­æ‰€æœ‰çš„Beanã€</p></blockquote><h3 id="å®¹å™¨å…·ä½“æ¥å£å’Œå®ç°ç±»"><a href="#å®¹å™¨å…·ä½“æ¥å£å’Œå®ç°ç±»" class="headerlink" title="å®¹å™¨å…·ä½“æ¥å£å’Œå®ç°ç±»"></a>å®¹å™¨å…·ä½“æ¥å£å’Œå®ç°ç±»</h3><p><code>BeanFactory</code>æ¥å£æä¾›äº†ä¸€ç§é«˜çº§é…ç½®æœºåˆ¶ï¼Œèƒ½å¤Ÿç®¡ç†å…¶ä»–å¯¹è±¡ã€‚</p><p><code>ApplicationContext</code>æ˜¯<code>BeanFactory</code>çš„å­æ¥å£</p><p><code>BeanFactory</code> æä¾›äº†é…ç½®æ¡†æ¶å’ŒåŸºæœ¬åŠŸèƒ½ï¼Œè€Œ <code>ApplicationContext</code> æ·»åŠ äº†æ›´å¤šç‰¹å®šäºä¼ä¸šçš„åŠŸèƒ½ã€‚ <code>ApplicationContext</code> æ˜¯ <code>BeanFactory</code> çš„å®Œæ•´è¶…é›†ï¼</p><p><strong>ApplicationContextå®¹å™¨å®ç°ç±»</strong>ï¼š</p><table><thead><tr><th>ç±»å‹å</th><th>ç®€ä»‹</th></tr></thead><tbody><tr><td><code>ClassPathXmlApplicationContext</code></td><td>é€šè¿‡è¯»å–ç±»è·¯å¾„ä¸‹çš„ XML æ ¼å¼çš„é…ç½®æ–‡ä»¶åˆ›å»º IOC å®¹å™¨å¯¹è±¡</td></tr><tr><td><code>FileSystemXmlApplicationContext</code></td><td>é€šè¿‡æ–‡ä»¶ç³»ç»Ÿè·¯å¾„è¯»å– XML æ ¼å¼çš„é…ç½®æ–‡ä»¶åˆ›å»º IOC å®¹å™¨å¯¹è±¡</td></tr><tr><td><code>AnnotationConfigApplicationContext</code></td><td>é€šè¿‡è¯»å–Javaé…ç½®ç±»åˆ›å»º IOC å®¹å™¨å¯¹è±¡</td></tr><tr><td><code>WebApplicationContext</code></td><td>ä¸“é—¨ä¸º Web åº”ç”¨å‡†å¤‡ï¼ŒåŸºäº Web ç¯å¢ƒåˆ›å»º IOC å®¹å™¨å¯¹è±¡ï¼Œå¹¶å°†å¯¹è±¡å¼•å…¥å­˜å…¥ ServletContext åŸŸä¸­ã€‚</td></tr></tbody></table><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li><p><strong>IoCå®¹å™¨</strong></p><p>Spring IoC å®¹å™¨ï¼Œè´Ÿè´£å®ä¾‹åŒ–ã€é…ç½®å’Œç»„è£… beanï¼ˆç»„ä»¶ï¼‰æ ¸å¿ƒå®¹å™¨ã€‚å®¹å™¨é€šè¿‡è¯»å–é…ç½®å…ƒæ•°æ®æ¥è·å–æœ‰å…³è¦å®ä¾‹åŒ–ã€é…ç½®å’Œç»„è£…ç»„ä»¶çš„æŒ‡ä»¤ã€‚</p></li><li><p><strong>IoCï¼ˆInversion of Controlï¼‰æ§åˆ¶åè½¬</strong></p><p>IoC ä¸»è¦æ˜¯é’ˆå¯¹å¯¹è±¡çš„åˆ›å»ºå’Œè°ƒç”¨æ§åˆ¶è€Œè¨€çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“åº”ç”¨ç¨‹åºéœ€è¦ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œä¸å†æ˜¯åº”ç”¨ç¨‹åºç›´æ¥åˆ›å»ºè¯¥å¯¹è±¡ï¼Œè€Œæ˜¯ç”± IoC å®¹å™¨æ¥åˆ›å»ºå’Œç®¡ç†ï¼Œå³æ§åˆ¶æƒç”±åº”ç”¨ç¨‹åºè½¬ç§»åˆ° IoC å®¹å™¨ä¸­ï¼Œä¹Ÿå°±æ˜¯â€œåè½¬â€äº†æ§åˆ¶æƒã€‚è¿™ç§æ–¹å¼åŸºæœ¬ä¸Šæ˜¯é€šè¿‡ä¾èµ–æŸ¥æ‰¾çš„æ–¹å¼æ¥å®ç°çš„ï¼Œå³ IoC å®¹å™¨ç»´æŠ¤ç€æ„æˆåº”ç”¨ç¨‹åºçš„å¯¹è±¡ï¼Œå¹¶è´Ÿè´£åˆ›å»ºè¿™äº›å¯¹è±¡ã€‚</p></li><li><p><strong>DI (Dependency Injection) ä¾èµ–æ³¨å…¥</strong></p><p>DI æ˜¯æŒ‡åœ¨ç»„ä»¶ä¹‹é—´ä¼ é€’ä¾èµ–å…³ç³»çš„è¿‡ç¨‹ä¸­ï¼Œå°†ä¾èµ–å…³ç³»åœ¨å®¹å™¨å†…éƒ¨è¿›è¡Œå¤„ç†ï¼Œè¿™æ ·å°±ä¸å¿…åœ¨åº”ç”¨ç¨‹åºä»£ç ä¸­ç¡¬ç¼–ç å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå®ç°äº†å¯¹è±¡ä¹‹é—´çš„è§£è€¦åˆã€‚åœ¨ Spring ä¸­ï¼ŒDI æ˜¯é€šè¿‡ XML é…ç½®æ–‡ä»¶æˆ–æ³¨è§£çš„æ–¹å¼å®ç°çš„ã€‚å®ƒæä¾›äº†ä¸‰ç§å½¢å¼çš„ä¾èµ–æ³¨å…¥ï¼šæ„é€ å‡½æ•°æ³¨å…¥ã€Setter æ–¹æ³•æ³¨å…¥å’Œæ¥å£æ³¨å…¥ã€‚</p></li></ul><h2 id="Spring-Iocå®è·µå’Œåº”ç”¨"><a href="#Spring-Iocå®è·µå’Œåº”ç”¨" class="headerlink" title="Spring Iocå®è·µå’Œåº”ç”¨"></a>Spring Iocå®è·µå’Œåº”ç”¨</h2><h3 id="åŸºæœ¬æ­¥éª¤"><a href="#åŸºæœ¬æ­¥éª¤" class="headerlink" title="åŸºæœ¬æ­¥éª¤"></a>åŸºæœ¬æ­¥éª¤</h3><h4 id="é…ç½®å…ƒæ•°æ®"><a href="#é…ç½®å…ƒæ•°æ®" class="headerlink" title="é…ç½®å…ƒæ•°æ®"></a>é…ç½®å…ƒæ•°æ®</h4><p>ç¼–å†™äº¤ç»™SpringIocå®¹å™¨ç®¡ç†ç»„ä»¶çš„ä¿¡æ¯</p><ul><li><p><code>&lt;bean&gt;</code> ä¸€ä¸ªç»„ä»¶</p></li><li><p><code>id</code> æ ‡è¯†è¿™ä¸ªbean</p></li><li><p><code>class</code>å®šä¹‰Beançš„ç±»å‹ï¼ˆ<span style="color:#FF0000;">ä½¿ç”¨å®Œå…¨é™å®šçš„ç±»å</span>ï¼‰</p></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ­¤å¤„è¦æ·»åŠ ä¸€äº›çº¦æŸï¼Œé…ç½®æ–‡ä»¶çš„æ ‡ç­¾å¹¶ä¸æ˜¯éšæ„å‘½å --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">    https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;...&quot;</span> [<span class="attr">1</span>] <span class="attr">class</span>=<span class="string">&quot;...&quot;</span> [<span class="attr">2</span>]&gt;</span>  </span><br><span class="line">    <span class="comment">&lt;!-- collaborators and configuration for this bean go here --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;...&quot;</span> <span class="attr">class</span>=<span class="string">&quot;...&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- collaborators and configuration for this bean go here --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- more bean definitions go here --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å®ä¾‹åŒ–Iocå®¹å™¨"><a href="#å®ä¾‹åŒ–Iocå®¹å™¨" class="headerlink" title="å®ä¾‹åŒ–Iocå®¹å™¨"></a>å®ä¾‹åŒ–Iocå®¹å™¨</h4><p>é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„å®¹å™¨å®ç°ç±»ï¼Œè¿›è¡ŒIocå®¹å™¨çš„å®ä¾‹åŒ–å·¥ä½œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®ä¾‹åŒ–iocå®¹å™¨,è¯»å–å¤–éƒ¨é…ç½®æ–‡ä»¶,æœ€ç»ˆä¼šåœ¨å®¹å™¨å†…è¿›è¡Œiocå’ŒdiåŠ¨ä½œ</span></span><br><span class="line"><span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> </span><br><span class="line">           <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;services.xml&quot;</span>, <span class="string">&quot;daos.xml&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="è·å–Beanç»„ä»¶"><a href="#è·å–Beanç»„ä»¶" class="headerlink" title="è·å–Beanç»„ä»¶"></a>è·å–Beanç»„ä»¶</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºiocå®¹å™¨å¯¹è±¡ï¼ŒæŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œiocä¹Ÿå¼€å§‹å®ä¾‹ç»„ä»¶å¯¹è±¡</span></span><br><span class="line"><span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;services.xml&quot;</span>, <span class="string">&quot;daos.xml&quot;</span>);</span><br><span class="line"><span class="comment">//è·å–iocå®¹å™¨çš„ç»„ä»¶å¯¹è±¡</span></span><br><span class="line"><span class="type">PetStoreService</span> <span class="variable">service</span> <span class="operator">=</span> context.getBean(<span class="string">&quot;petStore&quot;</span>, PetStoreService.class);</span><br><span class="line"><span class="comment">//ä½¿ç”¨ç»„ä»¶å¯¹è±¡</span></span><br><span class="line">List&lt;String&gt; userList = service.getUsernameList();</span><br></pre></td></tr></table></figure><h3 id="åŸºäºXMLé…ç½®æ–¹å¼ç»„ä»¶ç®¡ç†"><a href="#åŸºäºXMLé…ç½®æ–¹å¼ç»„ä»¶ç®¡ç†" class="headerlink" title="åŸºäºXMLé…ç½®æ–¹å¼ç»„ä»¶ç®¡ç†"></a>åŸºäºXMLé…ç½®æ–¹å¼ç»„ä»¶ç®¡ç†</h3><h4 id="Beanä¿¡æ¯å£°æ˜é…ç½®"><a href="#Beanä¿¡æ¯å£°æ˜é…ç½®" class="headerlink" title="Beanä¿¡æ¯å£°æ˜é…ç½®"></a>Beanä¿¡æ¯å£°æ˜é…ç½®</h4><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251021093036119.png" alt="image-20251021093036081"></p><h5 id="å¯¼å…¥ä¾èµ–"><a href="#å¯¼å…¥ä¾èµ–" class="headerlink" title="å¯¼å…¥ä¾èµ–"></a>å¯¼å…¥ä¾èµ–</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--spring contextä¾èµ–--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å½“ä½ å¼•å…¥Spring Contextä¾èµ–ä¹‹åï¼Œè¡¨ç¤ºå°†Springçš„åŸºç¡€ä¾èµ–å¼•å…¥äº†--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.0.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--junit5æµ‹è¯•--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.jupiter<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-jupiter-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="æ— å‚æ„é€ å‡½æ•°"><a href="#æ— å‚æ„é€ å‡½æ•°" class="headerlink" title="æ— å‚æ„é€ å‡½æ•°"></a>æ— å‚æ„é€ å‡½æ•°</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»„ä»¶ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HappyComponent</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é»˜è®¤åŒ…å«æ— å‚æ•°æ„é€ å‡½æ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doWork</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;HappyComponent.doWork&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//xmlé…ç½®</span></span><br><span class="line">&lt;!-- å®éªŒä¸€ [é‡è¦]åˆ›å»ºbean --&gt;</span><br><span class="line">&lt;bean id=<span class="string">&quot;happyComponent&quot;</span> class=<span class="string">&quot;com.atguigu.ioc.HappyComponent&quot;</span>/&gt;</span><br></pre></td></tr></table></figure><h5 id="é™æ€å·¥å‚æ–¹æ³•å®ä¾‹åŒ–"><a href="#é™æ€å·¥å‚æ–¹æ³•å®ä¾‹åŒ–" class="headerlink" title="é™æ€å·¥å‚æ–¹æ³•å®ä¾‹åŒ–"></a>é™æ€å·¥å‚æ–¹æ³•å®ä¾‹åŒ–</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»„ä»¶ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClientService</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">ClientService</span> <span class="variable">clientService</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClientService</span>();</span><br><span class="line">  <span class="keyword">private</span> <span class="title function_">ClientService</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> ClientService <span class="title function_">createInstance</span><span class="params">()</span> &#123;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> clientService;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//xmlé…ç½®</span></span><br><span class="line"><span class="comment">//class æŒ‡å®šå·¥å‚ç±»çš„å…¨é™å®šç¬¦</span></span><br><span class="line"><span class="comment">//facotry-method æŒ‡å®šé™æ€å·¥å‚æ–¹æ³•</span></span><br><span class="line">&lt;bean id=<span class="string">&quot;clientService&quot;</span> class=<span class="string">&quot;examples.ClientService&quot;</span> factory-method=<span class="string">&quot;createInstance&quot;</span>/&gt;</span><br></pre></td></tr></table></figure><h5 id="å®ä¾‹å·¥å‚æ–¹æ³•å®ä¾‹åŒ–"><a href="#å®ä¾‹å·¥å‚æ–¹æ³•å®ä¾‹åŒ–" class="headerlink" title="å®ä¾‹å·¥å‚æ–¹æ³•å®ä¾‹åŒ–"></a>å®ä¾‹å·¥å‚æ–¹æ³•å®ä¾‹åŒ–</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DefaultServiceLocator</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="type">static</span> <span class="variable">ClientServiceImplclientService</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClientServiceImpl</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> ClientService <span class="title function_">createClientServiceInstance</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> clientService;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//xmlé…ç½®</span></span><br><span class="line">&lt;!-- å°†å·¥å‚ç±»è¿›è¡Œiocé…ç½® --&gt;</span><br><span class="line">&lt;bean id=<span class="string">&quot;serviceLocator&quot;</span> class=<span class="string">&quot;examples.DefaultServiceLocator&quot;</span>&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- æ ¹æ®å·¥å‚å¯¹è±¡çš„å®ä¾‹å·¥å‚æ–¹æ³•è¿›è¡Œå®ä¾‹åŒ–ç»„ä»¶å¯¹è±¡ --&gt;</span><br><span class="line">&lt;bean id=<span class="string">&quot;clientService&quot;</span></span><br><span class="line">  factory-bean=<span class="string">&quot;serviceLocator&quot;</span></span><br><span class="line">  factory-method=<span class="string">&quot;createClientServiceInstance&quot;</span>/&gt;</span><br></pre></td></tr></table></figure><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251021093053319.png" alt="image-20251021093053129"></p><h4 id="ç»„ä»¶ä¾èµ–æ³¨å…¥"><a href="#ç»„ä»¶ä¾èµ–æ³¨å…¥" class="headerlink" title="ç»„ä»¶ä¾èµ–æ³¨å…¥"></a>ç»„ä»¶ä¾èµ–æ³¨å…¥</h4><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251021112914744.png" alt="image-20251021112914640"></p><h5 id="åŸºäºæ„é€ å‡½æ•°ï¼ˆå•å‚æ•°ï¼‰"><a href="#åŸºäºæ„é€ å‡½æ•°ï¼ˆå•å‚æ•°ï¼‰" class="headerlink" title="åŸºäºæ„é€ å‡½æ•°ï¼ˆå•å‚æ•°ï¼‰"></a>åŸºäºæ„é€ å‡½æ•°ï¼ˆå•å‚æ•°ï¼‰</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‡†å¤‡ç»„ä»¶ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserDao</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UserService</span><span class="params">(UserDao userDao)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.userDao = userDao;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//xmlé…ç½®</span></span><br><span class="line">  &lt;bean id=<span class="string">&quot;userService&quot;</span> class=<span class="string">&quot;x.y.UserService&quot;</span>&gt;</span><br><span class="line">     <span class="comment">//constructor-argæ ‡ç­¾ï¼šå¯ä»¥å¼•ç”¨æ„é€ å‚æ•° refå¼•ç”¨å…¶ä»–beançš„æ ‡è¯†ã€‚</span></span><br><span class="line">    &lt;constructor-arg ref=<span class="string">&quot;userDao&quot;</span>/&gt;</span><br><span class="line">  &lt;/bean&gt;</span><br><span class="line"> &lt;bean id=<span class="string">&quot;userDao&quot;</span> class=<span class="string">&quot;x.y.UserDao&quot;</span>/&gt;</span><br></pre></td></tr></table></figure><h5 id="åŸºäºæ„é€ å‡½æ•°ï¼ˆå¤šå‚æ•°ï¼‰"><a href="#åŸºäºæ„é€ å‡½æ•°ï¼ˆå¤šå‚æ•°ï¼‰" class="headerlink" title="åŸºäºæ„é€ å‡½æ•°ï¼ˆå¤šå‚æ•°ï¼‰"></a>åŸºäºæ„é€ å‡½æ•°ï¼ˆå¤šå‚æ•°ï¼‰</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserDao</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UserService</span><span class="params">(<span class="type">int</span> age , String name ,UserDao userDao)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.userDao = userDao;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æŒ‰ç…§åç§°æ³¨å…¥</span></span><br><span class="line">  &lt;bean id=<span class="string">&quot;userService&quot;</span> class=<span class="string">&quot;x.y.UserService&quot;</span>&gt;</span><br><span class="line">    &lt;constructor-arg name=<span class="string">&quot;name&quot;</span> value=<span class="string">&quot;èµµä¼Ÿé£&quot;</span>/&gt;</span><br><span class="line">    &lt;constructor-arg name=<span class="string">&quot;userDao&quot;</span> ref=<span class="string">&quot;userDao&quot;</span>/&gt;</span><br><span class="line">    &lt;constructor-arg name=<span class="string">&quot;age&quot;</span>  value=<span class="string">&quot;18&quot;</span>/&gt;</span><br><span class="line">  &lt;/bean&gt;</span><br><span class="line">  &lt;bean id=<span class="string">&quot;userDao&quot;</span> class=<span class="string">&quot;x.y.UserDao&quot;</span>/&gt;</span><br><span class="line">      </span><br><span class="line"><span class="comment">//å¦å¤–å¯ä»¥æŒ‰ç…§é¡ºåºä¸ä¸‹æ ‡æ³¨å…¥ï¼Œåœ¨æ­¤çœç•¥</span></span><br></pre></td></tr></table></figure><h5 id="åŸºäºSetteræ–¹æ³•æ³¨å…¥"><a href="#åŸºäºSetteræ–¹æ³•æ³¨å…¥" class="headerlink" title="åŸºäºSetteræ–¹æ³•æ³¨å…¥"></a>åŸºäºSetteræ–¹æ³•æ³¨å…¥</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Class MovieFinder&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SimpleMovieLister</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> MovieFinder movieFinder;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span> String movieName;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMovieFinder</span><span class="params">(MovieFinder movieFinder)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.movieFinder = movieFinder;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMovieName</span><span class="params">(String movieName)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.movieName = movieName;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//xmlé…ç½®</span></span><br><span class="line">&lt;bean id=<span class="string">&quot;simpleMovieLister&quot;</span> class=<span class="string">&quot;examples.SimpleMovieLister&quot;</span>&gt;</span><br><span class="line">   <span class="comment">//property æ ‡ç­¾ï¼š nameå±æ€§ä»£è¡¨setæ–¹æ³•æ ‡è¯†ï¼ˆSpringè¿›è¡Œäº†å¤„ç†ï¼Œå¯ä»¥ç›´æ¥å†™å˜é‡åï¼‰ã€refä»£è¡¨å¼•ç”¨beançš„æ ‡è¯†idã€valueå±æ€§ä»£è¡¨åŸºæœ¬å±æ€§å€¼</span></span><br><span class="line">  &lt;property name=<span class="string">&quot;movieFinder&quot;</span> ref=<span class="string">&quot;movieFinder&quot;</span> /&gt;</span><br><span class="line">  &lt;property name=<span class="string">&quot;movieName&quot;</span> value=<span class="string">&quot;æ¶ˆå¤±çš„å¥¹&quot;</span>/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">&lt;bean id=<span class="string">&quot;movieFinder&quot;</span> class=<span class="string">&quot;examples.MovieFinder&quot;</span>/&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="IOCå®¹å™¨åˆ›å»ºå’Œä½¿ç”¨"><a href="#IOCå®¹å™¨åˆ›å»ºå’Œä½¿ç”¨" class="headerlink" title="IOCå®¹å™¨åˆ›å»ºå’Œä½¿ç”¨"></a>IOCå®¹å™¨åˆ›å»ºå’Œä½¿ç”¨</h4><h5 id="å®¹å™¨å®ä¾‹åŒ–"><a href="#å®¹å™¨å®ä¾‹åŒ–" class="headerlink" title="å®¹å™¨å®ä¾‹åŒ–"></a>å®¹å™¨å®ä¾‹åŒ–</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–¹å¼1</span></span><br><span class="line"><span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> </span><br><span class="line">           <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;services.xml&quot;</span>, <span class="string">&quot;daos.xml&quot;</span>);</span><br><span class="line">           </span><br><span class="line"><span class="comment">//æ–¹å¼2:å…ˆå®ä¾‹åŒ–ï¼Œå†æŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œæœ€ååˆ·æ–°å®¹å™¨è§¦å‘Beanå®ä¾‹åŒ–åŠ¨ä½œ </span></span><br><span class="line"><span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> </span><br><span class="line">           <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>();   </span><br><span class="line"><span class="comment">//è®¾ç½®é…ç½®</span></span><br><span class="line">iocContainer1.setConfigLocations(<span class="string">&quot;services.xml&quot;</span>, <span class="string">&quot;daos.xml&quot;</span>);</span><br><span class="line"><span class="comment">//åˆ·æ–°</span></span><br><span class="line">iocContainer1.refresh();           </span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="Beanå¯¹è±¡è¯»å–"><a href="#Beanå¯¹è±¡è¯»å–" class="headerlink" title="Beanå¯¹è±¡è¯»å–"></a>Beanå¯¹è±¡è¯»å–</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–¹å¼1: æ ¹æ®idè·å–</span></span><br><span class="line"><span class="comment">//æ²¡æœ‰æŒ‡å®šç±»å‹,è¿”å›ä¸ºObject,éœ€è¦ç±»å‹è½¬åŒ–!</span></span><br><span class="line"><span class="type">HappyComponent</span> <span class="variable">happyComponent</span> <span class="operator">=</span> </span><br><span class="line">        (HappyComponent) iocContainer.getBean(<span class="string">&quot;beançš„idæ ‡è¯†&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹å¼2: æ ¹æ®ç±»å‹è·å–</span></span><br><span class="line"><span class="comment">//è¦æ±‚åŒç±»å‹åªæœ‰ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line"><span class="comment">//é…ç½®ä¸¤ä¸ªæˆ–è€…ä»¥ä¸Šå‡ºç°é—®é¢˜</span></span><br><span class="line"><span class="type">HappyComponent</span> <span class="variable">happyComponent</span> <span class="operator">=</span> iocContainer.getBean(HappyComponent.class);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹å¼3: æ ¹æ®idå’Œç±»å‹è·å–</span></span><br><span class="line"><span class="type">HappyComponent</span> <span class="variable">happyComponent</span> <span class="operator">=</span> iocContainer.getBean(<span class="string">&quot;beançš„idæ ‡è¯†&quot;</span>, HappyComponent.class);</span><br><span class="line"></span><br><span class="line">æ ¹æ®ç±»å‹æ¥è·å–beanæ—¶ï¼Œåœ¨æ»¡è¶³beanå”¯ä¸€æ€§çš„å‰æä¸‹ï¼Œå…¶å®åªæ˜¯çœ‹ï¼šã€å¯¹è±¡ <span class="keyword">instanceof</span> æŒ‡å®šçš„ç±»å‹ã€çš„è¿”å›ç»“æœï¼Œ</span><br><span class="line">åªè¦è¿”å›çš„æ˜¯<span class="literal">true</span>å°±å¯ä»¥è®¤å®šä¸ºå’Œç±»å‹åŒ¹é…ï¼Œèƒ½å¤Ÿè·å–åˆ°ã€‚</span><br></pre></td></tr></table></figure><h4 id="ç»„ä»¶ä½œç”¨åŸŸå’Œå‘¨æœŸæ–¹æ³•é…ç½®"><a href="#ç»„ä»¶ä½œç”¨åŸŸå’Œå‘¨æœŸæ–¹æ³•é…ç½®" class="headerlink" title="ç»„ä»¶ä½œç”¨åŸŸå’Œå‘¨æœŸæ–¹æ³•é…ç½®"></a>ç»„ä»¶ä½œç”¨åŸŸå’Œå‘¨æœŸæ–¹æ³•é…ç½®</h4><h5 id="å‘¨æœŸæ–¹æ³•é…ç½®"><a href="#å‘¨æœŸæ–¹æ³•é…ç½®" class="headerlink" title="å‘¨æœŸæ–¹æ³•é…ç½®"></a>å‘¨æœŸæ–¹æ³•é…ç½®</h5><p>æˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶ç±»ä¸­å®šä¹‰æ–¹æ³•ï¼Œç„¶åå½“IoCå®¹å™¨å®ä¾‹åŒ–å’Œé”€æ¯ç»„ä»¶å¯¹è±¡çš„æ—¶å€™è¿›è¡Œè°ƒç”¨ï¼è¿™ä¸¤ä¸ªæ–¹æ³•æˆ‘ä»¬æˆä¸ºç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BeanOne</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//å‘¨æœŸæ–¹æ³•è¦æ±‚ï¼š æ–¹æ³•å‘½åéšæ„ï¼Œä½†æ˜¯è¦æ±‚æ–¹æ³•å¿…é¡»æ˜¯ public void æ— å½¢å‚åˆ—è¡¨</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–é€»è¾‘</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BeanTwo</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cleanup</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// é‡Šæ”¾èµ„æºé€»è¾‘</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//xmlé…ç½®</span></span><br><span class="line">&lt;beans&gt;</span><br><span class="line">  &lt;bean id=<span class="string">&quot;beanOne&quot;</span> class=<span class="string">&quot;examples.BeanOne&quot;</span> init-method=<span class="string">&quot;init&quot;</span> /&gt;</span><br><span class="line">  &lt;bean id=<span class="string">&quot;beanTwo&quot;</span> class=<span class="string">&quot;examples.BeanTwo&quot;</span> destroy-method=<span class="string">&quot;cleanup&quot;</span> /&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure><h5 id="ä½œç”¨åŸŸé…ç½®"><a href="#ä½œç”¨åŸŸé…ç½®" class="headerlink" title="ä½œç”¨åŸŸé…ç½®"></a>ä½œç”¨åŸŸé…ç½®</h5><ol><li><p>Beanä½œç”¨åŸŸ</p><p> <code>&lt;bean</code> æ ‡ç­¾å£°æ˜Beanï¼Œåªæ˜¯å°†Beançš„ä¿¡æ¯é…ç½®ç»™SpringIoCå®¹å™¨ï¼</p><p> åœ¨IoCå®¹å™¨ä¸­ï¼Œè¿™äº›<code>&lt;bean</code>æ ‡ç­¾å¯¹åº”çš„ä¿¡æ¯è½¬æˆSpringå†…éƒ¨ <code>BeanDefinition</code> å¯¹è±¡ï¼Œ<code>BeanDefinition</code> å¯¹è±¡å†…ï¼ŒåŒ…å«å®šä¹‰çš„ä¿¡æ¯ï¼ˆid,class,å±æ€§ç­‰ç­‰ï¼‰ï¼</p><p> SpringIoCå®¹å™¨å¯ä»¥å¯ä»¥æ ¹æ®<code>BeanDefinition</code>å¯¹è±¡åå°„åˆ›å»ºå¤šä¸ªBeanå¯¹è±¡å®ä¾‹ï¼Œç”±Beançš„ä½œç”¨åŸŸScopeå±æ€§æŒ‡å®šï¼</p></li><li><p>ä½œç”¨åŸŸå¯é€‰å€¼</p></li></ol><table><thead><tr><th>å–å€¼</th><th>å«ä¹‰</th><th>åˆ›å»ºå¯¹è±¡çš„æ—¶æœº</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td>singleton</td><td>åœ¨ IOC å®¹å™¨ä¸­ï¼Œè¿™ä¸ª bean çš„å¯¹è±¡å§‹ç»ˆä¸ºå•å®ä¾‹</td><td>IOC å®¹å™¨åˆå§‹åŒ–æ—¶</td><td>æ˜¯</td></tr><tr><td>prototype</td><td>è¿™ä¸ª bean åœ¨ IOC å®¹å™¨ä¸­æœ‰å¤šä¸ªå®ä¾‹</td><td>è·å– bean æ—¶</td><td>å¦</td></tr></tbody></table><pre><code>å¦‚æœæ˜¯åœ¨WebApplicationContextç¯å¢ƒä¸‹è¿˜ä¼šæœ‰å¦å¤–ä¸¤ä¸ªä½œç”¨åŸŸï¼ˆä½†ä¸å¸¸ç”¨ï¼‰ï¼š</code></pre><table><thead><tr><th>å–å€¼</th><th>å«ä¹‰</th><th>åˆ›å»ºå¯¹è±¡çš„æ—¶æœº</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td>request</td><td>è¯·æ±‚èŒƒå›´å†…æœ‰æ•ˆçš„å®ä¾‹</td><td>æ¯æ¬¡è¯·æ±‚</td><td>å¦</td></tr><tr><td>session</td><td>ä¼šè¯èŒƒå›´å†…æœ‰æ•ˆçš„å®ä¾‹</td><td>æ¯æ¬¡ä¼šè¯</td><td>å¦</td></tr></tbody></table><ol start="3"><li><p>ä½œç”¨åŸŸé…ç½®</p><p> é…ç½®scopeèŒƒå›´</p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--beançš„ä½œç”¨åŸŸ </span></span><br><span class="line"><span class="comment">    å‡†å¤‡ä¸¤ä¸ªå¼•ç”¨å…³ç³»çš„ç»„ä»¶ç±»å³å¯ï¼ï¼</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- scopeå±æ€§ï¼šå–å€¼singletonï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œbeanåœ¨IOCå®¹å™¨ä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼ŒIOCå®¹å™¨åˆå§‹åŒ–æ—¶åˆ›å»ºå¯¹è±¡ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- scopeå±æ€§ï¼šå–å€¼prototypeï¼Œbeanåœ¨IOCå®¹å™¨ä¸­å¯ä»¥æœ‰å¤šä¸ªå®ä¾‹ï¼ŒgetBean()æ—¶åˆ›å»ºå¯¹è±¡ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;happyMachine8&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;prototype&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.atguigu.ioc.HappyMachine&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;machineName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;happyMachine&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;happyComponent8&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;singleton&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.atguigu.ioc.HappyComponent&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;componentName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;happyComponent&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="4"><li>ä½œç”¨åŸŸæµ‹è¯•</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testExperiment08</span><span class="params">()</span>  &#123;</span><br><span class="line">    <span class="type">ApplicationContext</span> <span class="variable">iocContainer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;é…ç½®æ–‡ä»¶å&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">HappyMachine</span> <span class="variable">bean</span> <span class="operator">=</span> iocContainer.getBean(HappyMachine.class);</span><br><span class="line">    <span class="type">HappyMachine</span> <span class="variable">bean1</span> <span class="operator">=</span> iocContainer.getBean(HappyMachine.class);</span><br><span class="line">    <span class="comment">//å¤šä¾‹å¯¹æ¯” false</span></span><br><span class="line">    System.out.println(bean == bean1);</span><br><span class="line"></span><br><span class="line">    <span class="type">HappyComponent</span> <span class="variable">bean2</span> <span class="operator">=</span> iocContainer.getBean(HappyComponent.class);</span><br><span class="line">    <span class="type">HappyComponent</span> <span class="variable">bean3</span> <span class="operator">=</span> iocContainer.getBean(HappyComponent.class);</span><br><span class="line">    <span class="comment">//å•ä¾‹å¯¹æ¯” true</span></span><br><span class="line">    System.out.println(bean2 == bean3);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="FactoryBeanç‰¹æ€§å’Œä½¿ç”¨"><a href="#FactoryBeanç‰¹æ€§å’Œä½¿ç”¨" class="headerlink" title="FactoryBeanç‰¹æ€§å’Œä½¿ç”¨"></a>FactoryBeanç‰¹æ€§å’Œä½¿ç”¨</h4><ol><li><p>FactoryBeanç®€ä»‹</p><p> <code>FactoryBean</code>æ˜¯Springæä¾›çš„ä¸€ä¸ªæ¥å£ï¼Œç”¨äºè‡ªå®šä¹‰å¤æ‚å¯¹è±¡çš„åˆ›å»ºé€»è¾‘ï¼Œæ˜¯Springå¯¹å®ä¾‹å·¥å‚çš„ä¸€ç§å®ç°</p><p> <img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251021115709190.png" alt="image-20251021115709107"></p></li><li><p>FactoryBeanä½¿ç”¨åœºæ™¯</p><ol><li>ä»£ç†ç±»çš„åˆ›å»º</li><li>ç¬¬ä¸‰æ–¹æ¡†æ¶æ•´åˆ</li><li>å¤æ‚å¯¹è±¡å®ä¾‹åŒ–ç­‰</li></ol></li><li><p>Factorybeanåº”ç”¨</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®ç°FactoryBeanæ¥å£æ—¶éœ€è¦æŒ‡å®šæ³›å‹</span></span><br><span class="line"><span class="comment">// æ³›å‹ç±»å‹å°±æ˜¯å½“å‰å·¥å‚è¦ç”Ÿäº§çš„å¯¹è±¡çš„ç±»å‹</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HappyFactoryBean</span> <span class="keyword">implements</span> <span class="title class_">FactoryBean</span>&lt;HappyMachine&gt; &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String machineName;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMachineName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> machineName;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMachineName</span><span class="params">(String machineName)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.machineName = machineName;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//è¯¥æ–¹æ³•æ˜¯åˆ›å»ºå¯¹è±¡çš„å…·ä½“è¿‡ç¨‹</span></span><br><span class="line">    <span class="keyword">public</span> HappyMachine <span class="title function_">getObject</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    </span><br><span class="line">        <span class="comment">// æ–¹æ³•å†…éƒ¨æ¨¡æ‹Ÿåˆ›å»ºã€è®¾ç½®ä¸€ä¸ªå¯¹è±¡çš„å¤æ‚è¿‡ç¨‹</span></span><br><span class="line">        <span class="type">HappyMachine</span> <span class="variable">happyMachine</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HappyMachine</span>();</span><br><span class="line">    </span><br><span class="line">        happyMachine.setMachineName(<span class="built_in">this</span>.machineName);</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span> happyMachine;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//è¯¥æ–¹æ³•è¿”å›åˆ›å»ºå¯¹è±¡çš„ç±»å‹</span></span><br><span class="line">    <span class="keyword">public</span> Class&lt;?&gt; getObjectType() &#123;</span><br><span class="line">        <span class="keyword">return</span> HappyMachine.class;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//xmlé…ç½®</span></span><br><span class="line"><span class="comment">//classæ˜¯FactoryBeanï¼Œä½†æ˜¯åŠ å…¥IOCå®¹å™¨çš„æ˜¯getObject()è¿”å›çš„å¯¹è±¡</span></span><br><span class="line">&lt;bean id=<span class="string">&quot;happyMachine7&quot;</span> class=<span class="string">&quot;com.atguigu.ioc.HappyFactoryBean&quot;</span>&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;machineName&quot;</span> value=<span class="string">&quot;iceCreamMachine&quot;</span>/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line">    </span><br><span class="line"></span><br></pre></td></tr></table></figure><p> æµ‹è¯•è¯»å–FactoryBeanå’ŒFactoryBean.getObjectå¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testExperiment07</span><span class="params">()</span>  &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">ApplicationContext</span> <span class="variable">iocContainer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;spring-bean-07.xml&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ³¨æ„: ç›´æ¥æ ¹æ®å£°æ˜FactoryBeançš„id,è·å–çš„æ˜¯getObjectæ–¹æ³•è¿”å›çš„å¯¹è±¡</span></span><br><span class="line">    <span class="type">HappyMachine</span> <span class="variable">happyMachine</span> <span class="operator">=</span> iocContainer.getBean(<span class="string">&quot;happyMachine7&quot;</span>,HappyMachine.class);</span><br><span class="line">    System.out.println(<span class="string">&quot;happyMachine = &quot;</span> + happyMachine);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¦‚æœæƒ³è¦è·å–FactoryBeanå¯¹è±¡, ç›´æ¥åœ¨idå‰æ·»åŠ &amp;ç¬¦å·å³å¯!  &amp;happyMachine7 è¿™æ˜¯ä¸€ç§å›ºå®šçš„çº¦æŸ</span></span><br><span class="line">    <span class="type">Object</span> <span class="variable">bean</span> <span class="operator">=</span> iocContainer.getBean(<span class="string">&quot;&amp;happyMachine7&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;bean = &quot;</span> + bean);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åŸºäºxmlæ–¹å¼æ•´åˆä¸‰å±‚"><a href="#åŸºäºxmlæ–¹å¼æ•´åˆä¸‰å±‚" class="headerlink" title="åŸºäºxmlæ–¹å¼æ•´åˆä¸‰å±‚"></a>åŸºäºxmlæ–¹å¼æ•´åˆä¸‰å±‚</h4><h3 id="åŸºäºæ³¨è§£æ–¹å¼ç®¡ç†Bean"><a href="#åŸºäºæ³¨è§£æ–¹å¼ç®¡ç†Bean" class="headerlink" title="åŸºäºæ³¨è§£æ–¹å¼ç®¡ç†Bean"></a>åŸºäºæ³¨è§£æ–¹å¼ç®¡ç†Bean</h3><h3 id="åŸºäºé…ç½®ç±»æ–¹å¼ç®¡ç†Bean"><a href="#åŸºäºé…ç½®ç±»æ–¹å¼ç®¡ç†Bean" class="headerlink" title="åŸºäºé…ç½®ç±»æ–¹å¼ç®¡ç†Bean"></a>åŸºäºé…ç½®ç±»æ–¹å¼ç®¡ç†Bean</h3><h3 id="æ•´åˆ"><a href="#æ•´åˆ" class="headerlink" title="æ•´åˆ"></a>æ•´åˆ</h3>]]></content>
      
      
      <categories>
          
          <category> spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®æœåŠ¡01</title>
      <link href="/2025/10/20/java/%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E5%BE%AE%E6%9C%8D%E5%8A%A101/"/>
      <url>/2025/10/20/java/%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E5%BE%AE%E6%9C%8D%E5%8A%A101/</url>
      
        <content type="html"><![CDATA[<h2 id="å…¥é—¨"><a href="#å…¥é—¨" class="headerlink" title="å…¥é—¨"></a>å…¥é—¨</h2><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251020115429701.png" alt="image-20251020115429599"></p><p>æ‹†åˆ†åŸåˆ™ï¼šå•ä¸€èŒè´£</p><p>æ¨ªå‘æ‹†åˆ†ï¼šæŒ‰åŠŸèƒ½æ¨¡å—æ‹†</p><p>çºµå‘æ‹†åˆ†ï¼šæŠ½å–å…¬å…±éƒ¨åˆ†</p><p>å¾®æœåŠ¡å·¥ç¨‹ç»“æ„ï¼š</p><ul><li>å®Œå…¨è§£è€¦ï¼šæ¯ä¸€ä¸ªå¾®æœåŠ¡éƒ½åˆ›å»ºä¸ºä¸€ä¸ªç‹¬ç«‹çš„å·¥ç¨‹ï¼Œç”šè‡³å¯ä»¥ä½¿ç”¨ä¸åŒçš„å¼€å‘è¯­è¨€æ¥å¼€å‘ï¼Œé¡¹ç›®å®Œå…¨è§£è€¦ã€‚<ul><li>ä¼˜ç‚¹ï¼šæœåŠ¡ä¹‹é—´è€¦åˆåº¦ä½</li><li>ç¼ºç‚¹ï¼šæ¯ä¸ªé¡¹ç›®éƒ½æœ‰è‡ªå·±çš„ç‹¬ç«‹ä»“åº“ï¼Œç®¡ç†èµ·æ¥æ¯”è¾ƒéº»çƒ¦</li></ul></li><li>Mavenèšåˆï¼šæ•´ä¸ªé¡¹ç›®ä¸ºä¸€ä¸ªProjectï¼Œç„¶åæ¯ä¸ªå¾®æœåŠ¡æ˜¯å…¶ä¸­çš„ä¸€ä¸ªModule<ul><li>ä¼˜ç‚¹ï¼šé¡¹ç›®ä»£ç é›†ä¸­ï¼Œç®¡ç†å’Œè¿ç»´æ–¹ä¾¿ï¼ˆæˆè¯¾ä¹Ÿæ–¹ä¾¿ï¼‰</li><li>ç¼ºç‚¹ï¼šæœåŠ¡ä¹‹é—´è€¦åˆï¼Œç¼–è¯‘æ—¶é—´è¾ƒé•¿</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> å¾®æœåŠ¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¾®æœåŠ¡ </tag>
            
            <tag> é»‘é©¬ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšè‡ªå·±ç”Ÿæ´»çš„æŒæ§è€…</title>
      <link href="/2025/10/11/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/%E6%8A%91%E9%83%81%E7%97%87%E7%9A%84%E5%BA%95%E5%B1%82%E9%80%BB%E8%BE%91/"/>
      <url>/2025/10/11/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/%E6%8A%91%E9%83%81%E7%97%87%E7%9A%84%E5%BA%95%E5%B1%82%E9%80%BB%E8%BE%91/</url>
      
        <content type="html"><![CDATA[<h1 id="æŠ‘éƒç—‡çš„åº•å±‚é€»è¾‘"><a href="#æŠ‘éƒç—‡çš„åº•å±‚é€»è¾‘" class="headerlink" title="æŠ‘éƒç—‡çš„åº•å±‚é€»è¾‘"></a>æŠ‘éƒç—‡çš„åº•å±‚é€»è¾‘</h1><h2 id="å¿«æ€è€ƒä¸æ…¢æ€è€ƒ"><a href="#å¿«æ€è€ƒä¸æ…¢æ€è€ƒ" class="headerlink" title="å¿«æ€è€ƒä¸æ…¢æ€è€ƒ"></a>å¿«æ€è€ƒä¸æ…¢æ€è€ƒ</h2><p>è¯»<a href="https://www.bilibili.com/video/BV1czhvzaEAM/?spm_id_from=333.1387.homepage.video_card.click&vd_source=1028c1f113dbb99196af3bb971751263">ä¸€æ¬¡è¿éº¦çœ‹æ‡‚æŠ‘éƒç—‡çš„åº•å±‚é€»è¾‘ï¼<em>å“”å“©å“”å“©</em></a></p><p>å¿«æ€è€ƒï¼šæä»æ ¸</p><p>è¯´çš„è¯å¾ˆå¤šï¼Œä½†æ˜¯å¤šæ˜¯<span style="color:#FF0000;">æƒ…ç»ªä¸Šçš„æ€è€ƒ</span>ï¼Œè¿™ä¸ªæ€è€ƒä¸æ˜¯çœŸæ­£çš„æ€è€ƒã€‚</p><p>æ…¢æ€è€ƒï¼šå‰é¢å¶</p><p>æ˜¯çœŸæ­£çš„ç†æ€§æ€è€ƒ</p><p>æŠ‘éƒçš„åŸå› ï¼šå¿«æ€è€ƒé€æ­¥ä»£æ›¿äº†æ…¢æ€è€ƒï¼Œæƒ³çš„å¤ªå¤šäº†ï¼Œæœ€å¼€å§‹çš„å‡ºå‘ç‚¹ä¸æ˜¯å› ä¸ºæƒ³å¤ªå¤šï¼Œéƒ½æ˜¯å› ä¸ºæœ‰ä¸ªä»€ä¹ˆäº‹ï¼Œä½†æ˜¯èƒ½å‘å±•åˆ°è¿™ä¸€æ­¥éƒ½æ˜¯å¯¹è¿™ä¸ªäº‹ä¸åœçš„æƒ³åå¤çš„æƒ³</p><p>é—®é¢˜çš„å…³é”®ä»ä¸€ä¸ªä»€ä¹ˆäº‹è½¬å˜ä¸ºä¸ºä»€ä¹ˆä¼šä¸åœçš„æƒ³åå¤çš„æƒ³ï¼Œä¹Ÿå³æ˜¯å› ä¸ºå¿«æ€è€ƒ</p><p>å¦‚æœæ€è€ƒæ–¹å¼å˜ä¸ºç†æ€§å¯¼å‘</p><ol><li>ä¸€ä»¶äº‹æƒ…å‡ºç°ï¼Œæˆ‘è¯¥æ€ä¹ˆè§£å†³ã€‚</li><li>ä¸€ä»¶äº‹æƒ…ç»“æŸï¼Œæˆ‘è¯¥å¸å–ä»€ä¹ˆæ•™è®­ï¼Œæˆ‘ä»¥ååº”è¯¥æ€ä¹ˆåŠï¼Ÿ</li></ol><p>å¦‚æœæ˜¯è¿™ç§æ€ç»´æ–¹å¼ä¸ä¼šæƒ³å¾ˆä¹…ï¼Œè¿™ç§æ€è€ƒçŠ¶æ€ä¸‹æ˜¯åœ¨ä½¿ç”¨å‰é¢å¶ï¼Œå‰é¢</p><p>å¶çš„æ€è€ƒä¼šåè¿‡æ¥ä½œç”¨æä»æ ¸æŠ‘åˆ¶æƒ…ç»ªã€‚</p><p>é‡å¤æ€è€ƒæ€è€ƒæœ¬è´¨ä¸Šè¿˜æ˜¯ä¸€ç§ä¸èˆ’æœçš„æƒ…ç»ªè®©ä½ å¼€å§‹æ€è€ƒ</p><p>æƒ³å‡ºè‡ªå·±è¯¥æ€ä¹ˆåšä¹‹åå»ä»˜è¯¸è¡ŒåŠ¨ï¼Œè¶Šä»˜è¯¸è¡ŒåŠ¨ï¼Œé‚£äº›äº‹æƒ…å¸¦æ¥çš„å½±å“å°±ä¼šè¶Šå°ã€‚</p><p>ä½†æ˜¯å¦‚æœç”¨å¿«æ€è€ƒ</p><p>ä½ ä¼šä¸€ç›´æ²‰æµ¸åœ¨è¿™ç§æƒ…ç»ªé‡Œï¼Œæˆ‘æ€ä¹ˆæŠ˜ç£¨éš¾å—ã€‚è¿™ç§æƒ…å†µä¸‹ä½ ä¸æ˜¯åœ¨æ€è€ƒå¦‚ä½•è§£å†³é—®é¢˜è€Œæ˜¯åœ¨æƒ…ç»ªååˆã€‚ååå¤å¤æ„Ÿå—è¿™ç§æƒ…ç»ªåŠ å¼ºè¿™ç§æƒ…ç»ªï¼Œå°±æ˜¯åœ¨åˆºæ¿€ä½ çš„æä»æ ¸ï¼Œè¶Šåˆºæ¿€æä»æ ¸è¶Šå¸¦æ¥æ›´å¤šçš„æƒ…ç»ªï¼Œåè¿‡æ¥å°±è¶Šå»æƒ³ï¼Œæ¶æ€§å¾ªç¯ã€‚è¿™ç§æ€è€ƒæ˜¯å¼ºåˆ¶æ€è€ƒï¼Œå‡ºä¸æ¥ï¼Œå¥½å‡ ä¸ªå°æ—¶ï¼Œä¸€å¤©ä¸‹æ¥å°±åœ¨é‚£é‡Œæ‰“è½¬ï¼Œä¹Ÿæ€è€ƒä¸å‡ºä¸€ä¸ªä»€ä¹ˆç»“æœï¼Œæƒ…ç»ªä¹Ÿè¶Šæ¥è¶Šä¸¥é‡ï¼Œé•¿æ­¤ä»¥å¾€ï¼Œäººå°±æŠ‘éƒäº†ã€‚</p><p>æœ€å¼€å§‹æŠ‘éƒå¾€å¾€ä¸æ˜¯ä¸€ä»¶ç‰¹åˆ«å¤§çš„äº‹ï¼Œç‰¹åˆ«å·¨å¤§çš„äº‹ï¼Œæ— ä»æŠ—æ‹’çš„äº‹æƒ³ä¹Ÿæ²¡ç”¨ä¹Ÿåªèƒ½æ¥å—ï¼Œåè€Œæ˜¯ä¸­ç­‰å¤§å°æˆ–è€…å°äº‹ï¼Œè®©ä½ åå¤çš„æƒ³ã€‚</p><p>å½“ä½ è¿›è¡Œæ€è€ƒçš„æ—¶å€™ï¼Œä½ è¦è¦æ±‚è‡ªå·±å¾€è§£å†³é—®é¢˜çš„æ–¹å‘å»æ€è€ƒï¼Œæ­£å¿µå†¥æƒ³ï¼Œè§‚å¯Ÿæƒ…ç»ªä»å“ªé‡Œæ¥ï¼Œä¸ºä»€ä¹ˆæœ‰è¿™ä¸ªæƒ…ç»ªï¼Ÿè¿™ä¸ªæƒ…ç»ªå¯¹æˆ‘æ˜¯å¥½è¿˜æ˜¯ä¸å¥½ï¼Ÿ</p><p>åšæŒ6-8ä¸ªæœˆå¯ä»¥è®©å‰é¢å¶å¢å¤§ï¼Œæä»æ ¸å‡å°</p><p>ä»·å€¼è§‚å¿µï¼š</p><p>å›å­çš„ä»·å€¼è§‚å¿µï¼šè¡Œæœ‰ä¸å¾—ï¼Œåæ±‚è¯¸å·±ï¼Œå‡ºç°ä»€ä¹ˆæƒ…å†µï¼Œæ€è€ƒè‡ªå·±èƒ½åšä»€ä¹ˆï¼Œè‡ªå·±æ˜¯<span style="color:#FF0000;">ä¸»å› </span>ï¼Œå“ªé‡Œæ²¡åšå¥½ï¼Œä»¥åæ”¹å–„ä»€ä¹ˆ</p><p>å°äººæ±‚è¯¸äººï¼šå‡ºç°ä»€ä¹ˆé—®é¢˜éƒ½å»æ€è€ƒå¤–ç•ŒåŸå› ï¼Œä¸ä¼šè‡ªæˆ‘åçœï¼Œå»æ‰¾åˆ«äººçš„æ¯›ç—…ï¼Œç¯å¢ƒçš„æ¯›ç—…ä½ è§£å†³ä¸äº†ï¼Œä½ å°±è‚¯å®šä¼šé™·å…¥è¿™ç§æ¶æ€§å¾ªç¯ã€‚</p><p>å¾ˆå¤šäººä¸æ‰¿æ‹…è´£ä»»ï¼Œçˆ¶æ¯å¸®ä»–æ‰¿æ‹…äº†è´£ä»»</p><p>äººå¦‚æœä¸æ‹…è´£ä»»ï¼Œäººå°±å¤±å»äº†ä¸»ä½“æ€§ï¼Œæˆ‘æ˜¯è‡ªå·±çš„å› ï¼Œæˆ‘ç°åœ¨ç”Ÿæ´»çš„çŠ¶æ€æˆ‘è¦è´Ÿè´£ï¼Œæˆ‘è´Ÿä¸»è´£ï¼Œç¯å¢ƒåªæ˜¯æ¬¡è´£ã€‚</p><p>å°äººæŠ±æ€¨ç¯å¢ƒï¼Œç¯å¢ƒä¸èƒ½æ”¹å˜ï¼ŒæŠŠè‡ªå·±çš„ç”Ÿæ´»å½’ç½ªäºç¯å¢ƒï¼Œç›¸å½“äºè‡ªå·±çš„çŠ¶æ€æ— æ³•æ”¹å˜ï¼Œè¿™å°±æ˜¯å±äºè¢«ç¯å¢ƒæŒæ§ã€‚</p><p>ä¸ºä»€ä¹ˆè¿™ç§æ€è€ƒä¼šå¯¼è‡´æŠ‘éƒï¼Ÿ</p><p>ç†æ€§æ€è€ƒï¼Œè‡ªå·±æ˜¯æŒæ§è‡ªå·±ç”Ÿæ´»ï¼Œæˆ‘å¯ä»¥æ”¹å˜ï¼Œæˆ‘å¯ä»¥å˜å¾—æ›´å¥½</p><p>æ„Ÿæ€§æ€è€ƒï¼Œç”Ÿæ´»åˆ«ç¯å¢ƒæŒæ§ï¼Œè¿‡å»å¦‚ä½•å¦‚ä½•ï¼Œç¯å¢ƒå¦‚ä½•å¦‚ä½•ï¼Œå­¦æ ¡å¦‚ä½•å¦‚ä½•ï¼Œè¿™äº›ä¸œè¥¿æ— æ³•æ”¹å˜ï¼Œä¸€ç›´å¤„äºè¢«æŒæ§çš„çŠ¶æ€</p><p>äººçš„æ„ä¹‰åœ¨äºå¯»æ±‚æŒæ§ï¼Œäººä¸€ä½†è¢«æŒæ§é‚£ä¹Ÿå°±å®ŒçŠŠå­äº†</p>]]></content>
      
      
      <categories>
          
          <category> éšä¾¿å†™å†™ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç‹å±±æ°´ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysqlé¢è¯•</title>
      <link href="/2025/10/02/java/java%E9%9D%A2%E8%AF%95/mysql%E9%9D%A2%E8%AF%95/"/>
      <url>/2025/10/02/java/java%E9%9D%A2%E8%AF%95/mysql%E9%9D%A2%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h2><h3 id="æ…¢æŸ¥è¯¢å®šä½"><a href="#æ…¢æŸ¥è¯¢å®šä½" class="headerlink" title="æ…¢æŸ¥è¯¢å®šä½"></a>æ…¢æŸ¥è¯¢å®šä½</h3><p>é—®ï¼šå¦‚ä½•å®šä¹‰æ…¢æŸ¥è¯¢ï¼ˆé¡µé¢åŠ è½½è¿‡æ…¢ã€æ¥å£å‹æµ‹å“åº”æ—¶é—´è¿‡é•¿ï¼‰ï¼Ÿ</p><ul><li>èšåˆæŸ¥è¯¢</li><li>å¤šè¡¨æŸ¥è¯¢</li><li>è¡¨æ•°æ®é‡è¿‡å¤§æŸ¥è¯¢</li><li>æ·±åº¦åˆ†é¡µæŸ¥è¯¢</li></ul><p>æ–¹æ¡ˆä¸€ï¼š</p><p>è°ƒå¼å·¥å…·ï¼šArthas</p><p>è¿ç»´å·¥å…·ï¼šPrometheusã€Skywalking</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003135719048.png" alt="image-20251003135718973"></p><p>æ–¹æ¡ˆäºŒï¼šMysqlè‡ªå¸¦æ…¢æ—¥å¿—</p><p>æ…¢æŸ¥è¯¢æ—¥å¿—è®°å½•äº†æ‰€æœ‰æ‰§è¡Œæ—¶é—´è¶…è¿‡æŒ‡å®šå‚æ•°(long_query_timeï¼Œå•ä½ï¼šsï¼Œé»˜è®¤10ç§’)çš„æ‰€æœ‰SQLè¯­å¥çš„æ—¥å¿—</p><p>å¦‚æœè¦å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œéœ€è¦åœ¨Mysqlçš„é…ç½®æ–‡ä»¶(&#x2F;etc&#x2F;my.cnf)ä¸­é…ç½®å¦‚ä¸‹ä¿¡æ¯ï¼š</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003135927708.png" alt="image-20251003135927654"></p><p>é…ç½®å®Œæ¯•ä¹‹åï¼Œé€šè¿‡ä»¥ä¸‹æŒ‡ä»¤é‡æ–°å¯åŠ¨MysqlæœåŠ¡å™¨è¿›è¡Œæµ‹è¯•ï¼ŒæŸ¥çœ‹æ…¢æ—¥å¿—æ–‡ä»¶ä¸­è®°å½•çš„ä¿¡æ¯</p><p>&#x2F;var&#x2F;lib&#x2F;mysql&#x2F;localhost-slow.log</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003140034772.png" alt="image-20251003140034715"></p><h3 id="ä¼˜åŒ–-1"><a href="#ä¼˜åŒ–-1" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h3><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003140201025.png" alt="image-20251003140200983" style="zoom: 90%;" /><h4 id="ä¸€ä¸ªSQLè¯­å¥æ‰§è¡Œå¾ˆæ…¢ï¼Œå¦‚ä½•åˆ†æ"><a href="#ä¸€ä¸ªSQLè¯­å¥æ‰§è¡Œå¾ˆæ…¢ï¼Œå¦‚ä½•åˆ†æ" class="headerlink" title="ä¸€ä¸ªSQLè¯­å¥æ‰§è¡Œå¾ˆæ…¢ï¼Œå¦‚ä½•åˆ†æ?"></a><span style="color:#CC0000;">ä¸€ä¸ªSQLè¯­å¥æ‰§<span style="color:#CC0000;">è¡Œå¾ˆæ…¢ï¼Œå¦‚ä½•åˆ†æ</span>?</span></h4><p>ä½¿ç”¨explainæˆ–è€…descå‘½ä»¤è·å–mysqlå¦‚ä½•æ‰§è¡Œselectè¯­å¥çš„ä¿¡æ¯</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003140329612.png" alt="image-20251003140329528"></p><ul><li><p>possible_key  å½“å‰SQLå¯èƒ½ä½¿ç”¨åˆ°çš„ç´¢å¼•</p></li><li><p>key å½“å‰SQLå®é™…å‘½ä¸­çš„ç´¢å¼•</p></li><li><p>key_len ç´¢å¼•å ç”¨çš„å¤§å°</p></li><li><p>Extra é¢å¤–çš„ä¼˜åŒ–å»ºè®®</p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003140433810.png" alt="image-20251003140433762" style="zoom: 80%;" /></li><li><p>type è¿™æ¡SQLçš„ä¸½å¨œå§çš„ç±»å‹ï¼Œæ€§èƒ½ç”±å¥½åˆ°å·®ä¸ºNULL,system,const,eq_ref,ref,range,index,all</p><ul><li>constï¼šæ ¹æ®ä¸»é”®æŸ¥è¯¢</li><li>eq_refï¼šä¸»é”®ç´¢å¼•æŸ¥è¯¢æˆ–å”¯ä¸€ç´¢å¼•æŸ¥è¯¢</li><li>refï¼šç´¢å¼•æŸ¥è¯¢</li><li>rangeï¼šèŒƒå›´æŸ¥è¯¢</li><li>indexï¼šç´¢å¼•æ ‘æ‰«æ</li><li>allï¼šå…¨ç›˜æ‰«æ</li></ul></li></ul><h3 id="ç´¢å¼•"><a href="#ç´¢å¼•" class="headerlink" title="ç´¢å¼•"></a>ç´¢å¼•</h3><p>ç´¢å¼•æ˜¯å¸®åŠ©mysqlé«˜æ•ˆè·å–æ•°æ®çš„æ•°æ®ç»“æ„ï¼ŒB+æ ‘ç»“æ„</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003141744135.png" alt="image-20251003141744069"></p><p>bæ ‘æ¯éš”èŠ‚ç‚¹å¯ä»¥æœ‰å¤šä¸ªåˆ†æ”¯ï¼Œä»¥ä¸€é¢—æœ€å¤§åº¦æ•°ä¸º5çš„bæ ‘ä¸ºä¾‹ï¼Œé‚£è¿™ä¸ªbæ ‘æ¯éš”èŠ‚ç‚¹æœ€å¤šå­˜å‚¨4ä¸ªkey</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003141838131.png" alt="image-20251003141838078"></p><p>b+æ ‘æ˜¯bæ ‘çš„ä¼˜åŒ–ï¼Œä½¿å…¶æ›´é€‚åˆå¤–å­˜å‚¨ç´¢å¼•ç»“æ„ï¼Œ</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003142158157.png" alt="image-20251003142158076"></p><ol><li>ç£ç›˜è¯»å†™ä»£ä»·æ›´ä½ï¼Œéå¶å­èŠ‚ç‚¹ä¸å­˜å‚¨æ•°æ®åªå­˜å‚¨æŒ‡é’ˆ</li><li>æŸ¥è¯¢æ•ˆç‡æ›´åŠ ç¨³å®šï¼Œé˜¶æ•°æ›´å¤šï¼Œè·¯å¾„æ›´çŸ­</li><li>ä¾¿äºæ‰«åº“å’ŒåŒºé—´æŸ¥è¯¢ï¼Œå¶å­èŠ‚ç‚¹ä¹‹é—´æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨</li></ol><h3 id="èšç°‡ç´¢å¼•"><a href="#èšç°‡ç´¢å¼•" class="headerlink" title="èšç°‡ç´¢å¼•"></a>èšç°‡ç´¢å¼•</h3><table><thead><tr><th>åˆ†ç±»</th><th>å«ä¹‰</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td>èšç°‡ç´¢å¼•</td><td>å°†æ•°æ®å­˜å‚¨å’Œç´¢å¼•æ”¾åˆ°ä¸€å—ï¼Œç´¢å¼•ç»“æ„çš„å¶å­èŠ‚ç‚¹ä¿å­˜äº†è¡Œæ•°æ®</td><td>å¿…é¡»æœ‰ï¼Œè€Œä¸”åªæœ‰ä¸€ä¸ª</td></tr><tr><td>äºŒçº§ç´¢å¼•</td><td>å°†æ•°æ®å’Œç´¢å¼•åˆ†å¼€å­˜å‚¨ï¼Œç´¢å¼•ç»“æ„çš„å¶å­èŠ‚ç‚¹å…³è”çš„æ˜¯å¯¹åº”çš„ä¸»é”®</td><td>å¯ä»¥å­˜åœ¨å¤šä¸ª</td></tr></tbody></table><p>èšç°‡ç´¢å¼•é€‰å–è§„åˆ™ï¼š</p><ul><li>å¦‚æœå­˜åœ¨ä¸»é”®ï¼Œä¸»é”®ç´¢å¼•å°±æ˜¯èšé›†ç´¢å¼•</li><li>å¦‚æœä¸å­˜åœ¨ä¸»é”®ï¼Œå°†ä½¿ç”¨ç¬¬ä¸€ä¸ªå”¯ä¸€ç´¢å¼•ä½œä¸ºèšé›†ç´¢å¼•</li><li>ä»¥ä¸Šéƒ½æ²¡æœ‰ï¼ŒinnoDBä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªrowidä½œä¸ºéšè—çš„èšé›†ç´¢å¼•</li></ul><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003143157466.png" alt="image-20251003143157382"></p><h4 id="å›è¡¨æŸ¥è¯¢"><a href="#å›è¡¨æŸ¥è¯¢" class="headerlink" title="å›è¡¨æŸ¥è¯¢"></a>å›è¡¨æŸ¥è¯¢</h4><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003143312141.png" alt="image-20251003143312009"></p><p>é€šè¿‡äºŒçº§ç´¢å¼•æ‰¾åˆ°å¯¹åº”çš„ä¸»é”®å€¼ï¼Œåˆ°èšé›†ç´¢å¼•ä¸­æŸ¥æ‰¾æ•´è¡Œæ•°æ®ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯å›è¡¨</p><h3 id="è¦†ç›–ç´¢å¼•ã€è¶…å¤§åˆ†é¡µä¼˜åŒ–"><a href="#è¦†ç›–ç´¢å¼•ã€è¶…å¤§åˆ†é¡µä¼˜åŒ–" class="headerlink" title="è¦†ç›–ç´¢å¼•ã€è¶…å¤§åˆ†é¡µä¼˜åŒ–"></a>è¦†ç›–ç´¢å¼•ã€è¶…å¤§åˆ†é¡µä¼˜åŒ–</h3><h4 id="è¦†ç›–ç´¢å¼•"><a href="#è¦†ç›–ç´¢å¼•" class="headerlink" title="è¦†ç›–ç´¢å¼•"></a>è¦†ç›–ç´¢å¼•</h4><p>è¦†ç›–ç´¢å¼•æ˜¯æŒ‡æŸ¥è¯¢ä½¿ç”¨äº†ç´¢å¼•ã€å¹¶ä¸”éœ€è¦è¿”å›çš„åˆ—ï¼Œåœ¨è¯¥ç´¢å¼•ä¸­å·²ç»å…¨éƒ¨èƒ½å¤Ÿæ‰¾åˆ°ï¼Œæ— éœ€å›è¡¨æŸ¥è¯¢</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003143648020.png" alt="image-20251003143647952"></p><ul><li>å¦‚æœä½¿ç”¨idæŸ¥è¯¢ï¼Œç›´æ¥èµ°èšé›†ç´¢å¼•æŸ¥è¯¢ï¼Œä¸€æ¬¡ç´¢å¼•æ‰«æï¼Œç›´æ¥è¿”å›æ•°æ®ï¼Œæ€§èƒ½é«˜</li><li>å¦‚æœè¿”å›çš„åˆ—ä¸­æ²¡æœ‰åˆ›å»ºç´¢å¼•ï¼Œæœ‰å¯èƒ½ä¼šè§¦å‘å›è¡¨æŸ¥è¯¢ï¼Œå°½é‡é¿å…ä½¿ç”¨select *</li></ul><h4 id="è¶…å¤§åˆ†é¡µå¤„ç†"><a href="#è¶…å¤§åˆ†é¡µå¤„ç†" class="headerlink" title="è¶…å¤§åˆ†é¡µå¤„ç†"></a>è¶…å¤§åˆ†é¡µå¤„ç†</h4><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003143922299.png" alt="image-20251003143922219"></p><p>è§£å†³æ–¹æ¡ˆï¼šè¦†ç›–åˆ†é¡µ+å­æŸ¥è¯¢</p><p>å…ˆ</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003144045349.png" alt="image-20251003144045288"></p><h3 id="ç´¢å¼•åˆ›å»ºçš„åŸåˆ™"><a href="#ç´¢å¼•åˆ›å»ºçš„åŸåˆ™" class="headerlink" title="ç´¢å¼•åˆ›å»ºçš„åŸåˆ™"></a>ç´¢å¼•åˆ›å»ºçš„åŸåˆ™</h3><p>1ï¼‰é’ˆå¯¹æ•°æ®é‡è¾ƒå¤§ï¼Œä¸”æŸ¥è¯¢æ¯”è¾ƒé¢‘ç¹çš„è¡¨å»ºç«‹ç´¢å¼•ã€‚<span style="color:#CC0000;">å•è¡¨è¶…è¿‡10ä¸‡æ•°æ®</span></p><p>2ï¼‰é’ˆå¯¹å¸¸ä½œä¸ºæŸ¥è¯¢æ¡ä»¶ã€æ’åºã€åˆ†ç»„æ“ä½œçš„å­—æ®µå»ºç«‹ç´¢å¼•</p><p>3ï¼‰å°½é‡é€‰æ‹©åŒºåˆ†åº¦é«˜çš„åˆ—ä½œä¸ºç´¢å¼•ï¼Œå°½é‡å»ºç«‹å”¯ä¸€ç´¢å¼•ï¼ŒåŒºåˆ†åº¦è¶Šé«˜ï¼Œç´¢å¼•æ•ˆç‡è¶Šé«˜</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003144531162.png" alt="image-20251003144531100"></p><p>4ï¼‰å¦‚æœæ˜¯å­—ç¬¦ç±»å‹çš„å­—æ®µï¼Œå­—æ®µçš„é•¿åº¦è¾ƒé•¿ï¼Œå¯ä»¥é’ˆå¯¹å­—æ®µçš„ç‰¹ç‚¹ï¼Œå»ºç«‹å‰ç¼€ç´¢å¼•</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003144624455.png" alt="image-20251003144624371"></p><p>5ï¼‰å°½é‡ä½¿ç”¨è”åˆç´¢å¼•ï¼Œå‡å°‘å•åˆ—ç´¢å¼•ï¼ŒæŸ¥è¯¢æ—¶ï¼Œè”åˆç´¢å¼•å¾ˆå¤šæ—¶å€™å¯ä»¥è¦†ç›–ç´¢å¼•ï¼ŒèŠ‚çœç©ºé—´ï¼Œé¿å…å›è¡¨<img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003144735448.png" alt="image-20251003144735383"></p><p>6ï¼‰ç´¢å¼•çš„æ•°é‡éœ€è¦æ§åˆ¶</p><p>7ï¼‰å¦‚æœç´¢å¼•ä¸èƒ½å­˜å‚¨NULLå€¼ï¼Œä¸€å¼€å§‹çº¦æŸè¦åŠ ä¸ŠNOT NULL</p><h3 id="ç´¢å¼•å¤±æ•ˆ"><a href="#ç´¢å¼•å¤±æ•ˆ" class="headerlink" title="ç´¢å¼•å¤±æ•ˆ"></a>ç´¢å¼•å¤±æ•ˆ</h3><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003144932903.png" alt="image-20251003144932823"></p><p>æ­£å¸¸æƒ…å†µ</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003145320955.png" alt="image-20251003145320883"></p><p>1ï¼‰è¿åæœ€å·¦å‰ç¼€æ³•åˆ™</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003145141669.png" alt="image-20251003145141586"></p><p>2ï¼‰èŒƒå›´æŸ¥è¯¢å³è¾¹çš„åˆ—ï¼Œä¸èƒ½ä½¿ç”¨ç´¢å¼•</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003145217426.png" alt="image-20251003145217349"></p><p>3ï¼‰åœ¨ç´¢å¼•åˆ—ä¸Šè¿›è¡Œè¿ç®—æ“ä½œï¼Œç´¢å¼•å°†å¤±æ•ˆ</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003145351765.png" alt="image-20251003145351685"></p><p>4ï¼‰å­—ç¬¦ä¸²ä¸åŠ å•å¼•å·ï¼Œmysqlè‡ªåŠ¨è¿›è¡Œç±»å‹è½¬æ¢</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003145433601.png" alt="image-20251003145433509"></p><p>5ï¼‰æ¨¡ç³ŠæŸ¥è¯¢å¯èƒ½å¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼Œå¤´éƒ¨æ¨¡ç³ŠåŒ¹é…ï¼Œç´¢å¼•å¤±æ•ˆ</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003145531312.png" alt="image-20251003145531232"></p><h3 id="SQLä¼˜åŒ–ç»éªŒ"><a href="#SQLä¼˜åŒ–ç»éªŒ" class="headerlink" title="SQLä¼˜åŒ–ç»éªŒ"></a>SQLä¼˜åŒ–ç»éªŒ</h3><ul><li><p>è¡¨çš„è®¾è®¡ä¼˜åŒ–</p><ol><li>è®¾ç½®åˆé€‚æ•°å€¼</li><li>è®¾ç½®åˆé€‚çš„å­—ç¬¦ä¸²ç±»å‹</li></ol></li><li><p>ç´¢å¼•ä¼˜åŒ–</p></li><li><p>SQLè¯­å¥ä¼˜åŒ–</p><ol><li>é¿å…ä½¿ç”¨select *</li><li>é¿å…ä½¿ç”¨ç´¢å¼•å¤±æ•ˆ</li><li>å°½é‡ç”¨union allä»£æ›¿union  unionä¼šå¤šä¸€æ¬¡è¿‡æ»¤</li><li>é¿å…åœ¨whereå­å¥ä¸­å¯¹å­—æ®µè¿›è¡Œè¡¨è¾¾å¼æ“ä½œ</li><li><span style="color:#CC0000;">èƒ½ç”¨inner joinå°±ä¸ç”¨left join right joinã€‚å¦‚å¿…é¡»ä½¿ç”¨ ä¸€å®šè¦ä»¥å°è¡¨ä¸ºé©±åŠ¨</span></li></ol></li><li><p>ä¸»ä»å¤åˆ¶ï¼Œè¯»å†™åˆ†ç¦»</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003150618079.png" alt="image-20251003150618015"></p></li><li><p>åˆ†åº“åˆ†è¡¨</p></li></ul><h2 id="äº‹åŠ¡"><a href="#äº‹åŠ¡" class="headerlink" title="äº‹åŠ¡"></a>äº‹åŠ¡</h2><h3 id="äº‹åŠ¡çš„ç‰¹æ€§"><a href="#äº‹åŠ¡çš„ç‰¹æ€§" class="headerlink" title="äº‹åŠ¡çš„ç‰¹æ€§"></a>äº‹åŠ¡çš„ç‰¹æ€§</h3><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003150823013.png" alt="image-20251003150822929"></p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003150833491.png" alt="image-20251003150833432"></p><h3 id="äº‹åŠ¡å¹¶å‘é—®é¢˜ã€éš”ç¦»çº§åˆ«"><a href="#äº‹åŠ¡å¹¶å‘é—®é¢˜ã€éš”ç¦»çº§åˆ«" class="headerlink" title="äº‹åŠ¡å¹¶å‘é—®é¢˜ã€éš”ç¦»çº§åˆ«"></a>äº‹åŠ¡å¹¶å‘é—®é¢˜ã€éš”ç¦»çº§åˆ«</h3><h4 id="å¹¶å‘é—®é¢˜"><a href="#å¹¶å‘é—®é¢˜" class="headerlink" title="å¹¶å‘é—®é¢˜"></a>å¹¶å‘é—®é¢˜</h4><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003151006607.png" alt="image-20251003151006545"></p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003151131325.png" alt="image-20251003151131262"></p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003151158919.png" alt="image-20251003151158852"></p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003151307998.png" alt="image-20251003151307941"></p><h4 id="éš”ç¦»çº§åˆ«"><a href="#éš”ç¦»çº§åˆ«" class="headerlink" title="éš”ç¦»çº§åˆ«"></a>éš”ç¦»çº§åˆ«</h4><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003151405998.png" alt="image-20251003151405933"></p><h3 id="undo-log-å’Œredo-logçš„åŒºåˆ«"><a href="#undo-log-å’Œredo-logçš„åŒºåˆ«" class="headerlink" title="undo log å’Œredo logçš„åŒºåˆ«"></a>undo log å’Œredo logçš„åŒºåˆ«</h3><ul><li>ç¼“å†²æ± ï¼šä¸»å†…å­˜çš„ä¸€ä¸ªåŒºåŸŸï¼Œé‡Œé¢å¯ä»¥ç¼“å­˜ç£ç›˜ä¸Šç»å¸¸æ“ä½œçš„çœŸå®æ•°æ®ï¼Œåœ¨æ‰§è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œæ—¶ï¼Œå…ˆæ“ä½œç¼“å†²æ± ä¸­çš„æ•°æ®ï¼ˆè‹¥ç¼“å†²æ± æ²¡æœ‰æ•°æ®ï¼Œåˆ™ä»ç£ç›˜åŠ è½½å¹¶ç¼“å­˜ï¼‰ï¼Œä»¥ä¸€å®šé¢‘ç‡åˆ·æ–°åˆ°ç£ç›˜ã€‚</li><li>æ•°æ®é¡µï¼šæ˜¯InnoDBå­˜å‚¨å¼•æ“ç£ç›˜ç®¡ç†çš„æœ€å°å•å…ƒï¼Œæ¯ä¸ªé¡µçš„å¤§å°é»˜è®¤ä¸º16KBã€‚é¡µä¸­å­˜å‚¨çš„æ˜¯è¡Œæ•°æ®</li></ul><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251003154811716.png" alt="image-20251003154811660"></p>]]></content>
      
      
      <categories>
          
          <category> javaé¢è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¢è¯•é¢˜ </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>blogæ“ä½œ</title>
      <link href="/2025/09/30/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/blog%E6%93%8D%E4%BD%9C/"/>
      <url>/2025/09/30/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/blog%E6%93%8D%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<h2 id="æ¶‰åŠåˆ†ç±»å¡ç‰‡ï¼ˆæš‚ä¸ä½¿ç”¨ï¼‰"><a href="#æ¶‰åŠåˆ†ç±»å¡ç‰‡ï¼ˆæš‚ä¸ä½¿ç”¨ï¼‰" class="headerlink" title="æ¶‰åŠåˆ†ç±»å¡ç‰‡ï¼ˆæš‚ä¸ä½¿ç”¨ï¼‰"></a>æ¶‰åŠåˆ†ç±»å¡ç‰‡ï¼ˆæš‚ä¸ä½¿ç”¨ï¼‰</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-butterfly-categories-card</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/a9131002/</span></span><br><span class="line"><span class="attr">categoryBar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># å¼€å…³</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#è¿‡æ»¤å™¨ä¼˜å…ˆæƒ</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/categories/</span> <span class="comment"># åº”ç”¨é¡µé¢</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># æŒ‚è½½å®¹å™¨ç±»å‹</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">column:</span> <span class="string">odd</span> <span class="comment"># oddï¼š3åˆ— | evenï¼š4åˆ—</span></span><br><span class="line">  <span class="attr">row:</span> <span class="number">1</span> <span class="comment">#æ˜¾ç¤ºè¡Œæ•°ï¼Œé»˜è®¤ä¸¤è¡Œï¼Œè¶…è¿‡è¡Œæ•°åˆ‡æ¢ä¸ºæ»šåŠ¨æ˜¾ç¤º</span></span><br><span class="line">  <span class="attr">message:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> <span class="string">javaé¢è¯•</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/202509270104151.jpg</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">/categories/javaé¢è¯•/</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> <span class="string">åšå®¢æ­å»º</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/202509270104152.jpg</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">/categories/åšå®¢æ­å»º/</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> <span class="string">éšä¾¿å†™å†™</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/202509270104156.jpg</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">/categories/éšä¾¿å†™å†™/</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> <span class="string">å…¶ä»–</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">/img/fengmian8.jpg</span></span><br><span class="line">  <span class="attr">custom_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css</span></span><br></pre></td></tr></table></figure><h2 id="é¦–é¡µåˆ†ç±»æ ‡ç­¾-ç°åœ¨ä½¿ç”¨"><a href="#é¦–é¡µåˆ†ç±»æ ‡ç­¾-ç°åœ¨ä½¿ç”¨" class="headerlink" title="é¦–é¡µåˆ†ç±»æ ‡ç­¾(ç°åœ¨ä½¿ç”¨)"></a>é¦–é¡µåˆ†ç±»æ ‡ç­¾(ç°åœ¨ä½¿ç”¨)</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">magnet:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">categories</span></span><br><span class="line">  <span class="attr">devide:</span> <span class="number">2</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">éšä¾¿å†™å†™</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">éšä¾¿</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">ğŸ“š</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">javaé¢è¯•</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">javaé¢è¯•å…«è‚¡</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">ğŸ®</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">åšå®¢æ­å»º</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">Hexoåšå®¢æ­å»º</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">ğŸ±â€ğŸ‘“</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">vue</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">å°å†°ã®ç¼–ç¨‹å­¦ä¹ </span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">ğŸ‘©â€ğŸ’»</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">å­¦ä¹ </span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">å°å†°ã®è¯»ä¹¦ç¬”è®°</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">ğŸ“’</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">éšæƒ³</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">å°å†°ã®èƒ¡æ€ä¹±æƒ³</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">ğŸ’¡</span></span><br><span class="line">  <span class="attr">color_setting:</span></span><br><span class="line">    <span class="attr">text_color:</span> <span class="string">black</span></span><br><span class="line">    <span class="attr">text_hover_color:</span> <span class="string">white</span></span><br><span class="line">    <span class="attr">background_color:</span> <span class="string">&quot;#f2f2f2&quot;</span></span><br><span class="line">    <span class="attr">background_hover_color:</span> <span class="string">&quot;#b30070&quot;</span></span><br><span class="line">  <span class="attr">layout:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">temple_html:</span> <span class="string">&#x27;&lt;div class=&quot;recent-post-item&quot; style=&quot;width:100%;height: auto&quot;&gt;&lt;div id=&quot;catalog_magnet&quot;&gt;$&#123;temple_html_item&#125;&lt;/div&gt;&lt;/div&gt;&#x27;</span></span><br><span class="line">  <span class="attr">plus_style:</span> <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure><h2 id="é¢„å¤„ç†æ ¼å¼"><a href="#é¢„å¤„ç†æ ¼å¼" class="headerlink" title="é¢„å¤„ç†æ ¼å¼"></a>é¢„å¤„ç†æ ¼å¼</h2><h3 id="é¡µé¢é…ç½®"><a href="#é¡µé¢é…ç½®" class="headerlink" title="é¡µé¢é…ç½®"></a>é¡µé¢é…ç½®</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:  å¿…éœ€ </span><br><span class="line">date:   å¿…é¡»</span><br><span class="line">updated:  å¯é€‰</span><br><span class="line">type:   å¿…éœ€</span><br><span class="line">description:</span><br><span class="line">top_img:</span><br><span class="line">aside:   æ˜¾ç¤ºä¾§è¾¹æ </span><br><span class="line">aplayer:   æ˜¯å¦åŠ è½½</span><br><span class="line">highlight_shrink:  é…ç½®ä»£ç æ¡†æ˜¯å¦å±•å¼€</span><br><span class="line">---</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol><li><p>å‰å¾€ä½ çš„ Hexo çš„æ ¹ç›®å½•</p></li><li><p>è¾“å…¥ <code>hexo new page tags</code> </p></li><li><p>ä½ ä¼šæ‰¾åˆ° <code>source/tags/index.md</code> è¿™ä¸ªæ–‡ä»¶</p></li><li><p>ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: æ ‡ç­¾</span><br><span class="line">date: 2018-01-05 00:00:00</span><br><span class="line">type: &#x27;tags&#x27;</span><br><span class="line">orderby: random</span><br><span class="line"><span class="section">order: 1</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="æ–‡ç« é…ç½®"><a href="#æ–‡ç« é…ç½®" class="headerlink" title="æ–‡ç« é…ç½®"></a>æ–‡ç« é…ç½®</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">updated:</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">keywords:</span><br><span class="line">description:</span><br><span class="line">top_img: æ–‡ç« é¡¶éƒ¨å›¾</span><br><span class="line">cover:   æ–‡ç« ç¼©ç•¥å›¾</span><br><span class="line">toc:     ç›®å½•</span><br><span class="line">toc_number:</span><br><span class="line">toc_style_simple:  tocç®€æ´æ¨¡å¼</span><br><span class="line">aplayer:</span><br><span class="line">highlight_shrink:</span><br><span class="line">aside:</span><br><span class="line">---</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åšå®¢æ­å»º </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>gitå¸¸è§ä½¿ç”¨</title>
      <link href="/2025/09/26/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/git/"/>
      <url>/2025/09/26/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/git/</url>
      
        <content type="html"><![CDATA[<h2 id="å°†æœ¬åœ°é¡¹ç›®ä¸è¿œç¨‹ä»“åº“å…³è”å¹¶æ¨é€"><a href="#å°†æœ¬åœ°é¡¹ç›®ä¸è¿œç¨‹ä»“åº“å…³è”å¹¶æ¨é€" class="headerlink" title="å°†æœ¬åœ°é¡¹ç›®ä¸è¿œç¨‹ä»“åº“å…³è”å¹¶æ¨é€"></a>å°†æœ¬åœ°é¡¹ç›®ä¸è¿œç¨‹ä»“åº“å…³è”å¹¶æ¨é€</h2><ol><li><p>åœ¨giteeä¸Šåˆ›å»ºé¡¹ç›®ï¼ˆä¸éœ€è¦å‹¾é€‰åˆå§‹åŒ–é¡¹ç›®ï¼Œä»æœ¬åœ°æ¨é€ï¼‰</p></li><li><p>åˆå§‹åŒ–æœ¬åœ°é¡¹ç›®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git add .</span><br><span class="line">git commit</span><br></pre></td></tr></table></figure></li><li><p>å…³è”æœ¬åœ°ä»“åº“åˆ°Giteeï¼Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin https://.....</span><br></pre></td></tr></table></figure><p>è¾“å…¥è´¦å¯†ç™»å½•å³å¯</p></li><li><p>æ¨é€ä¸Šå»</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure></li><li><p>å‰ç½®å‡†å¤‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># è®¾ç½®ä¸€ä¸ªé€šç”¨çš„è´¦å·åç”¨æ¥æ ‡è¯†è‡ªå·±çš„git</span><br><span class="line">git config --global user.name &#x27;å¯»å£°è¡Œ&#x27;</span><br><span class="line">git config --global user.email &#x27;....&#x27;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> éšä¾¿å†™å†™ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redisé¢è¯•é¢˜</title>
      <link href="/2025/09/26/java/java%E9%9D%A2%E8%AF%95/Redis/"/>
      <url>/2025/09/26/java/java%E9%9D%A2%E8%AF%95/Redis/</url>
      
        <content type="html"><![CDATA[<h2 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h2><h3 id="Redis-ä½¿ç”¨åœºæ™¯"><a href="#Redis-ä½¿ç”¨åœºæ™¯" class="headerlink" title="Redis ä½¿ç”¨åœºæ™¯"></a>Redis ä½¿ç”¨åœºæ™¯</h3><h4 id="ç¼“å­˜ç©¿é€"><a href="#ç¼“å­˜ç©¿é€" class="headerlink" title="ç¼“å­˜ç©¿é€"></a>ç¼“å­˜ç©¿é€</h4><p>æŸ¥è¯¢ä¸€ä¸ªä¸å­˜åœ¨çš„æ•°æ®ï¼ŒMysql æŸ¥è¯¢ä¸åˆ°æ•°æ®ä¹Ÿä¸ä¼šç›´æ¥å†™å…¥ç¼“å­˜ï¼Œå°±ä¼šå¯¼è‡´æ¯æ¬¡è¯·æ±‚éƒ½æŸ¥æ•°æ®åº“</p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/202509261921325.png" alt="image-20250926192114283" style="zoom: 90%;" /><p>æ–¹æ¡ˆäºŒï¼š</p><p>å¸ƒéš†è¿‡æ»¤å™¨</p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/202509261921233.png" alt="image-20250926192150185" style="zoom: 75%;" /><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/202509261922862.png" alt="image-20250926192250804"></p><p>å®ç°æ–¹æ¡ˆï¼š</p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/202509261924088.png" alt="image-20250926192428047" style="zoom: 85%;" /><h4 id="ç¼“å­˜å‡»ç©¿"><a href="#ç¼“å­˜å‡»ç©¿" class="headerlink" title="ç¼“å­˜å‡»ç©¿"></a>ç¼“å­˜å‡»ç©¿</h4><p>åœ¨ Redis ä¸€ä¸ª key è¿‡æœŸçš„ä¸´ç•Œç‚¹ï¼Œå‘é€æ¥å¤§é‡è¯·æ±‚ï¼Œä¼šå‹å® DB</p><h5 id="äº’æ–¥é”è§£å†³"><a href="#äº’æ–¥é”è§£å†³" class="headerlink" title="äº’æ–¥é”è§£å†³"></a>äº’æ–¥é”è§£å†³</h5><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/202509261929456.png" title="" alt="image-20250926192932414" width="276"><p>ä¿è¯æ•°æ®çš„å¼ºä¸€è‡´æ€§ï¼Œä½†æ€§èƒ½å·®</p><h5 id="é€»è¾‘è¿‡æœŸ"><a href="#é€»è¾‘è¿‡æœŸ" class="headerlink" title="é€»è¾‘è¿‡æœŸ"></a>é€»è¾‘è¿‡æœŸ</h5><img title="" src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/202509261931125.png" alt="image-20250926193133076" style="zoom: 80%;" width="482"><p>ä¼˜å…ˆä¿è¯é«˜å¯ç”¨ï¼Œæ€§èƒ½ä¼˜</p><h4 id="ç¼“å­˜é›ªå´©"><a href="#ç¼“å­˜é›ªå´©" class="headerlink" title="ç¼“å­˜é›ªå´©"></a>ç¼“å­˜é›ªå´©</h4><p>åŒä¸€æ—¶æ®µå¤§é‡çš„ç¼“å­˜ key åŒæ—¶å¤±æ•ˆæˆ–è€… Redis æœåŠ¡å®•æœºï¼Œå¯¼è‡´å¤§é‡è¯·æ±‚åˆ°è¾¾æ•°æ®åº“</p><img title="" src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/202509261934517.png" alt="image-20250926193410459" style="zoom: 75%;" width="661"><h3 id="åŒå†™ä¸€è‡´æ€§"><a href="#åŒå†™ä¸€è‡´æ€§" class="headerlink" title="åŒå†™ä¸€è‡´æ€§"></a>åŒå†™ä¸€è‡´æ€§</h3><p>å½“ä¿®æ”¹äº†æ•°æ®åº“çš„æ•°æ®ä¹Ÿè¦åŒæ—¶æ›´æ–°ç¼“å­˜çš„æ•°æ®ï¼Œç¼“å­˜å’Œæ•°æ®åº“çš„æ•°æ®è¦ä¿æŒä¸€è‡´</p><h4 id="ä¸€è‡´æ€§è¦æ±‚é«˜"><a href="#ä¸€è‡´æ€§è¦æ±‚é«˜" class="headerlink" title="ä¸€è‡´æ€§è¦æ±‚é«˜"></a>ä¸€è‡´æ€§è¦æ±‚é«˜</h4><img title="" src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251001110715961.png" alt="image-20251001110708861" style="zoom: 80%;" width="672"><ul><li>è¯»æ“ä½œï¼šç¼“å­˜å‘½ä¸­ç›´æ¥è¿”å›ï¼Œç¼“å­˜æœªå‘½ä¸­æŸ¥è¯¢æ•°æ®åº“ï¼Œå†™å…¥ç¼“å­˜ï¼Œè®¾å®šè¶…æ—¶æ—¶é—´</li><li>å†™æ“ä½œï¼š<span style="color:#CC0000;">å»¶è¿ŸåŒåˆ </span></li></ul><img title="" src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251001110816853.png" alt="image-20251001110816825" style="zoom: 85%;" width="702"><p>å…ˆåˆ é™¤ç¼“å­˜ï¼Œå†æ“ä½œæ•°æ®åº“</p><p>æ­£å¸¸æµç¨‹                                             è„æ•°æ®</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251001111228497.png" title="" alt="image-20251001111228458" width="229" style="zoom:105%;"   > <img title="" src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251001111239223.png" alt="image-20251001111239189" width="197" style="zoom: 110%;"></p><p>å…ˆæ“ä½œæ•°æ®åº“ï¼Œå†åˆ é™¤ç¼“å­˜</p><p>æ­£å¸¸æµç¨‹                                        è„æ•°æ®</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002133901630.png" alt="image-20251002133854531" style="zoom: 50%;" /> <img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002133938515.png" alt="image-20251002133938440" style="zoom: 50%;" /></p><ul><li>ä¸ºä»€ä¹ˆè¦åˆ é™¤ä¸¤æ¬¡ç¼“å­˜ï¼šé¿å…è„æ•°æ®</li><li>ä¸ºä»€ä¹ˆè¦å»¶æ—¶åˆ é™¤ï¼Ÿ</li></ul><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002134146246.png" alt="image-20251002134146173" style="zoom: 80%;" /><p>ä¸€èˆ¬æƒ…å†µä¸‹æ•°æ®åº“æ˜¯ä¸»ä»æ¨¡å¼ï¼Œè¯»å†™åˆ†ç¦»ï¼Œéœ€è¦å»¶æ—¶ä¸€ä¼šè®©ä¸»èŠ‚ç‚¹æŠŠæ•°æ®åŒæ­¥åˆ°ä»èŠ‚ç‚¹ï¼Œä¾æ—§æœ‰è„æ•°æ®çš„é£é™©</p><h4 id="å¼ºä¸€è‡´æ€§"><a href="#å¼ºä¸€è‡´æ€§" class="headerlink" title="å¼ºä¸€è‡´æ€§"></a>å¼ºä¸€è‡´æ€§</h4><p>å¦‚æœè¦ä¿è¯å¼ºä¸€è‡´æ€§ï¼Œåˆ†å¸ƒå¼é”</p><p>ä¸€èˆ¬æ”¾å…¥ç¼“å­˜ä¸­çš„æ•°æ®éƒ½æ˜¯<span style="color:#CC0000;">è¯»å¤šå†™å°‘</span></p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002134355762.png" alt="image-20251002134355712" style="zoom: 65%;" /> <img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002134448461.png" alt="image-20251002134448410" style="zoom: 65%;" /></p><h4 id="å¼±ä¸€è‡´æ€§"><a href="#å¼±ä¸€è‡´æ€§" class="headerlink" title="å¼±ä¸€è‡´æ€§"></a>å¼±ä¸€è‡´æ€§</h4><ol><li>å¼‚æ­¥é€šçŸ¥ä¿è¯æ•°æ®çš„æœ€ç»ˆä¸€è‡´æ€§</li></ol><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002134638230.png" alt="image-20251002134638167"></p><ol start="2"><li>åŸºäº Canal çš„å¼‚æ­¥é€šçŸ¥</li></ol><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002134813847.png" alt="image-20251002134750064"></p><p><code>äºŒè¿›åˆ¶æ—¥å¿—ï¼ˆBINLOGï¼‰è®°å½•äº†æ‰€æœ‰çš„DDLè¯­å¥å’ŒDMLè¯­å¥ï¼Œä½†ä¸åŒ…æ‹¬æ˜¯æ•°æ®æŸ¥è¯¢è¯­å¥</code></p><h3 id="æ•°æ®æŒä¹…åŒ–"><a href="#æ•°æ®æŒä¹…åŒ–" class="headerlink" title="æ•°æ®æŒä¹…åŒ–"></a>æ•°æ®æŒä¹…åŒ–</h3><p>Redis ä¸­æä¾›äº†ä¸¤ç§æ•°æ®æŒä¹…åŒ–çš„æ–¹å¼ï¼Œï¼š1ã€RDB 2ã€AOF</p><h4 id="RDB"><a href="#RDB" class="headerlink" title="RDB"></a>RDB</h4><p>RDB å…¨ç¨‹ Redis æ•°æ®å¤‡ä»½æ–‡ä»¶ï¼Œç®€å•æ¥è¯´å°±æ˜¯æŠŠå†…å­˜ä¸­æ‰€æœ‰æ•°æ®è®°å½•åˆ°ç£ç›˜ä¸­ã€‚å½“ Redis å®ä¾‹å‡ºç°æ•…éšœé‡å¯åï¼Œä»ç£ç›˜ä¸­è¯»å–å¿«ç…§æ–‡ä»¶ã€æ¢å¤æ•°æ®</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002135505910.png" alt="image-20251002135505805"></p><p>Redis å†…éƒ¨æœ‰è‡ªåŠ¨æ‰§è¡Œ RDB çš„æœºåˆ¶ï¼Œåœ¨ redis.config æ–‡ä»¶ä¸­</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002135612377.png" alt="image-20251002135612314"></p><h5 id="RDB-çš„æ‰§è¡ŒåŸç†"><a href="#RDB-çš„æ‰§è¡ŒåŸç†" class="headerlink" title="RDB çš„æ‰§è¡ŒåŸç†"></a>RDB çš„æ‰§è¡ŒåŸç†</h5><p>bgsave å¼€å§‹æ—¶ä¼š fork ä¸»è¿›ç¨‹å¾—åˆ°å­è¿›ç¨‹ï¼Œå­è¿›ç¨‹å…±äº«ä¸»è¿›ç¨‹çš„å†…å­˜æ•°æ®ã€‚å®Œæˆ fork åè¯»å–å†…å­˜æ•°æ®å¹¶å†™å…¥ RDB æ–‡ä»¶</p><p>fork é‡‡ç”¨çš„æ˜¯ copy-on-write æŠ€æœ¯</p><ul><li>å½“ä¸»è¿›ç¨‹æ‰§è¡Œè¯»æ“ä½œæ—¶ï¼Œè®¿é—®å…±äº«å†…å­˜</li><li>å½“ä¸»è¿›ç¨‹æ‰§è¡Œå†™æ“ä½œæ—¶ï¼Œåˆ™ä¼šæ‹·è´ä¸€ä»½æ•°æ®ï¼Œæ‰§è¡Œå†™æ“ä½œï¼Œç„¶åé¡µé¢ä¿®æ”¹æ˜ å°„åˆ°æ–°çš„æ•°æ®</li></ul><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002135947312.png" alt="image-20251002135947245"></p><h4 id="AOF"><a href="#AOF" class="headerlink" title="AOF"></a>AOF</h4><p>AOF å…¨ç§°ä¸º Append Only Fileï¼ˆè¿½åŠ æ–‡ä»¶ï¼‰ã€‚Redis å¤„ç†çš„æ¯ä¸€ä¸ªå†™å‘½ä»¤éƒ½ä¼šè®°å½•åœ¨ AOF æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åšæ˜¯å‘½ä»¤æ—¥å¿—æ–‡ä»¶ã€‚</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002140707052.png" alt="image-20251002140706990"></p><p>AOF é»˜è®¤æ˜¯å…³é—­çš„ï¼Œéœ€è¦ä¿®æ”¹ redis.conf é…ç½®æ–‡ä»¶æ¥å¼€å¯ AOF</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002140809916.png" alt="image-20251002140809868"></p><p>AOF çš„å‘½ä»¤è®°å½•çš„é¢‘ç‡å¤œå¯ä»¥é€šè¿‡ redis.conf æ–‡ä»¶æ¥é…</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002140818033.png" alt="image-20251002140817974"></p><p>ç¼ºç‚¹</p><p>å› ä¸ºæ˜¯è®°å½•å‘½ä»¤ï¼ŒAOF æ–‡ä»¶æ¯” RDB æ–‡ä»¶è¦å¤§çš„å¤šã€‚è€Œä¸” AOF ä¼šè®°å½•å¯¹åŒä¸€ä¸ªè®°å½•çš„å¤šæ¬¡å†™æ“ä½œï¼Œä½†åªæœ‰æœ€åä¸€æ¬¡å†™æ“ä½œæ‰æœ‰æ„ä¹‰ã€‚é€šè¿‡æ‰§è¡Œ bgrewriteaof å‘½ä»¤ï¼Œå¯ä»¥è®© AOF æ–‡ä»¶æ‰§è¡Œé‡å†™åŠŸèƒ½ï¼Œç”¨æœ€å°‘çš„å‘½ä»¤è¾¾åˆ°ç›¸åŒæ•ˆæœ</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002141120458.png" alt="image-20251002141120411"></p><p>Redis ä¹Ÿä¼šåœ¨è§¦å‘é˜ˆå€¼æ—¶è‡ªåŠ¨å»é‡å†™ AOF æ–‡ä»¶ã€‚é˜ˆå€¼ä¹Ÿå¯ä»¥åœ¨ conf ä¸­é…ç½®</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002141201414.png" alt="image-20251002141201351"></p><h4 id="RDB-ä¸-AOF-å¯¹æ¯”"><a href="#RDB-ä¸-AOF-å¯¹æ¯”" class="headerlink" title="RDB ä¸ AOF å¯¹æ¯”"></a>RDB ä¸ AOF å¯¹æ¯”</h4><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002141403510.png" alt="image-20251002141403446"></p><h3 id="æ•°æ®è¿‡æœŸç­–ç•¥"><a href="#æ•°æ®è¿‡æœŸç­–ç•¥" class="headerlink" title="æ•°æ®è¿‡æœŸç­–ç•¥"></a>æ•°æ®è¿‡æœŸç­–ç•¥</h3><p>Rediså¯¹æ•°æ®è®¾ç½®æ•°æ®çš„æœ‰æ•ˆæ—¶é—´ï¼Œæ•°æ®è¿‡æœŸä»¥åï¼Œå°±éœ€è¦å°†æ•°æ®ä»å†…å­˜ä¸­åˆ é™¤æ‰ã€‚å¯ä»¥æŒ‰ç…§ä¸åŒçš„è§„åˆ™è¿›è¡Œåˆ é™¤ï¼Œè¿™ç§åˆ é™¤è§„åˆ™å°±ç§°ä¸ºæ•°æ®çš„åˆ é™¤ç­–ç•¥</p><h4 id="æƒ°æ€§åˆ é™¤"><a href="#æƒ°æ€§åˆ é™¤" class="headerlink" title="æƒ°æ€§åˆ é™¤"></a>æƒ°æ€§åˆ é™¤</h4><p>è®¾ç½®keyä¹‹åï¼Œåªæœ‰åœ¨ç”¨åˆ°è¯¥keyæ—¶ï¼Œæ‰æ£€æŸ¥æ˜¯å¦è¿‡æœŸã€‚è¿‡æœŸå°±åˆ é™¤ï¼Œåä¹‹è¿”å›key</p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002141814195.png" alt="image-20251002141814127" style="zoom: 75%;" /><p>ä¼˜ï¼šå¯¹CPUå‹å¥½ï¼Œå¾ˆå¤šç”¨ä¸åˆ°çš„keyä¸ç”¨æµªè´¹æ—¶é—´è¿›è¡Œè¿‡æœŸæ£€æŸ¥</p><p>ç¼ºï¼šå¯¹å†…å­˜ä¸å‹å¥½ï¼Œå¦‚æœä¸€ä¸ªkeyè¿‡æœŸå´æ²¡æœ‰ä½¿ç”¨ï¼Œä¼šä¸€ç›´å­˜åœ¨å†…å­˜ä¸­</p><h4 id="å®šæœŸåˆ é™¤"><a href="#å®šæœŸåˆ é™¤" class="headerlink" title="å®šæœŸåˆ é™¤"></a>å®šæœŸåˆ é™¤</h4><p>å®šæœŸåˆ é™¤ï¼šæ¯éš”ä¸€æ®µæ—¶é—´å¯¹<span style="color:#FF0000;">ä¸€äº›</span>keyè¿›è¡Œæ£€æŸ¥ï¼Œä»ä¸€å®šæ•°é‡çš„æ•°æ®åº“ä¸­å–å‡ºä¸€å®šæ•°é‡çš„éšæœºkeyè¿›è¡Œå¤„ç†</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002142254663.png" alt="image-20251002142254604"></p><h3 id="æ•°æ®æ·˜æ±°ç­–ç•¥"><a href="#æ•°æ®æ·˜æ±°ç­–ç•¥" class="headerlink" title="æ•°æ®æ·˜æ±°ç­–ç•¥"></a>æ•°æ®æ·˜æ±°ç­–ç•¥</h3><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002142411952.png" alt="image-20251002142411869"></p><p>LRUï¼šæœ€è¿‘æœ€å°‘ä½¿ç”¨</p><p>LFUï¼šæœ€å°‘é¢‘ç‡ä½¿ç”¨</p><h4 id="ä½¿ç”¨å»ºè®®"><a href="#ä½¿ç”¨å»ºè®®" class="headerlink" title="ä½¿ç”¨å»ºè®®"></a>ä½¿ç”¨å»ºè®®</h4><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002142549365.png" alt="image-20251002142549277"></p><h3 id="åˆ†å¸ƒå¼é”"><a href="#åˆ†å¸ƒå¼é”" class="headerlink" title="åˆ†å¸ƒå¼é”"></a>åˆ†å¸ƒå¼é”</h3><p>redisåˆ†å¸ƒå¼é”ï¼Œæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</p><h4 id="æŠ¢åˆ¸åœºæ™¯"><a href="#æŠ¢åˆ¸åœºæ™¯" class="headerlink" title="æŠ¢åˆ¸åœºæ™¯"></a>æŠ¢åˆ¸åœºæ™¯</h4><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002142849058.png" alt="image-20251002142848985"></p><p>è¶…å–é—®é¢˜</p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002142940648.png" alt="image-20251002142940588" style="zoom: 65%;" /><p>å•ä½“æœåŠ¡è§£å†³æ–¹æ¡ˆï¼š</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002143026686.png" alt="image-20251002143026597"></p><p>åœ¨å¤šä¸ªæœåŠ¡å™¨ä¸Šä¸èƒ½ä½¿ç”¨æœ¬åœ°é”ï¼Œæœ¬åœ°é”æ˜¯åŸºäºæ¯ä¸ªæœåŠ¡å™¨çš„ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦ä½¿ç”¨å¤–éƒ¨çš„åˆ†å¸ƒå¼é”</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002143152388.png" alt="image-20251002143152290"></p><p>åˆ†å¸ƒå¼é”</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002143232043.png" alt="image-20251002143231939"></p><h4 id="Redisåˆ†å¸ƒå¼é”"><a href="#Redisåˆ†å¸ƒå¼é”" class="headerlink" title="Redisåˆ†å¸ƒå¼é”"></a>Redisåˆ†å¸ƒå¼é”</h4><p>Rediså®ç°åˆ†å¸ƒå¼é”ä¸»è¦åˆ©ç”¨Redisçš„setnxå‘½ä»¤ï¼Œsetnxæ˜¯SET if not existsçš„ç®€å†™</p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002143336686.png" alt="image-20251002143336630" style="zoom: 85%;" /><p>å¦‚æœä¸è®¾ç½®è¶…æ—¶æ—¶é—´ä¼šå‡ºç°æ­»é”çš„é—®é¢˜</p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002143418352.png" alt="image-20251002143418287" style="zoom: 80%;" /><p>Rediså®ç°åˆ†å¸ƒå¼é”å¦‚ä½•åˆç†çš„æ§åˆ¶é”çš„æœ‰æ•ˆæ—¶é•¿</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002143529352.png" alt="image-20251002143529292"></p><h4 id="Redisåˆ†å¸ƒå¼é”æ‰§è¡Œæµç¨‹"><a href="#Redisåˆ†å¸ƒå¼é”æ‰§è¡Œæµç¨‹" class="headerlink" title="Redisåˆ†å¸ƒå¼é”æ‰§è¡Œæµç¨‹"></a>Redisåˆ†å¸ƒå¼é”æ‰§è¡Œæµç¨‹</h4><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002143708877.png" alt="image-20251002143708806"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">redisLock</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">    <span class="comment">//è·å–é”ï¼Œæ‰§è¡Œé”çš„åç§°</span></span><br><span class="line">    <span class="type">RLock</span> <span class="variable">lock</span> <span class="operator">=</span> redissonClinet.getLock(<span class="string">&quot;heimalock&quot;</span>);</span><br><span class="line">    <span class="comment">//å°è¯•è·å–é”ï¼Œå‚æ•°åˆ†åˆ«æ˜¯ï¼šè·å–é”çš„æœ€å¤§ç­‰å¾…æ—¶é—´ï¼ˆæœŸé—´ä¼šé‡è¯•ï¼‰ï¼Œé”è‡ªåŠ¨é‡Šæ”¾æ—¶é—´</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">isLock</span> <span class="operator">=</span> lock.tryLock(<span class="number">10</span>,TimeUnit.SECONDS);</span><br><span class="line">    <span class="comment">//åˆ¤æ–­æ˜¯å¦è·å–æˆåŠŸ</span></span><br><span class="line">    <span class="keyword">if</span> (isLock) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            sout(<span class="string">&quot;æ‰§è¡Œä¸šåŠ¡&quot;</span>)</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">//é‡Šæ”¾é”</span></span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Watch dogç»™é”ç»­æœŸï¼Œé»˜è®¤æ˜¯æ¯éš”10ç§’ç»­æœŸä¸€æ¬¡</li><li>æŠ¢ä¸åˆ°é”çš„çº¿ç¨‹ä¼šè‡ªåŠ¨é‡è¯•</li><li>åŠ é”ã€è®¾ç½®è¿‡æœŸæ—¶é—´éƒ½æ˜¯åŸºäº<span style="color:#CC0000;">lua</span>è„šæœ¬å‘½ä»¤å®Œæˆï¼Œä¿è¯æ“ä½œçš„åŸå­æ€§</li></ul><h4 id="åˆ†å¸ƒå¼é”-å¯é‡å…¥"><a href="#åˆ†å¸ƒå¼é”-å¯é‡å…¥" class="headerlink" title="åˆ†å¸ƒå¼é”-å¯é‡å…¥"></a>åˆ†å¸ƒå¼é”-å¯é‡å…¥</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add1</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">RLock</span> <span class="variable">lock</span> <span class="operator">=</span> redissonClinet.getLock(<span class="string">&quot;heimalock&quot;</span>);</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">isLock</span> <span class="operator">=</span> lock.tryLock();</span><br><span class="line"><span class="comment">//æ‰§è¡Œä¸šåŠ¡</span></span><br><span class="line">    add2();</span><br><span class="line">    <span class="comment">//é‡Šæ”¾é”</span></span><br><span class="line">    lock.unlock();</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add2</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">RLock</span> <span class="variable">lock</span> <span class="operator">=</span> redissonClinet.getLock(<span class="string">&quot;heimalock&quot;</span>);</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">isLock</span> <span class="operator">=</span> lock.tryLock();</span><br><span class="line"><span class="comment">//æ‰§è¡Œä¸šåŠ¡</span></span><br><span class="line">    <span class="comment">//é‡Šæ”¾é”</span></span><br><span class="line">    lock.unlock();</span><br><span class="line">   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002144706850.png" alt="image-20251002144706776" style="zoom: 90%;" />å¯ä»¥é‡å…¥ï¼Œå¤šä¸ªé”é‡å…¥éœ€è¦åˆ¤æ–­æ˜¯å¦æ˜¯å½“å‰çº¿ç¨‹</p><h4 id="ä¸»ä»ä¸€è‡´æ€§"><a href="#ä¸»ä»ä¸€è‡´æ€§" class="headerlink" title="ä¸»ä»ä¸€è‡´æ€§"></a>ä¸»ä»ä¸€è‡´æ€§</h4><p>ä¸»èŠ‚ç‚¹ä¸»è¦è´Ÿè´£å†™æ•°æ®ï¼Œä»èŠ‚ç‚¹ä¸»è¦è´Ÿè´£è¯»æ“ä½œï¼Œå½“ä¸»èŠ‚ç‚¹å‘ç”Ÿå†™æ“ä½œåä¼šå°†æ•°æ®åŒæ­¥åˆ°ä»èŠ‚ç‚¹</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002145059649.png" alt="image-20251002145059575"></p><p>ä¸»èŠ‚ç‚¹åœ¨è·å–é”åå®•æœºäº†ï¼Œè¿˜æ²¡æœ‰åŒæ­¥æ•°æ®ï¼Œä¸€ä¸ªä»èŠ‚ç‚¹æˆä¸ºä¸»èŠ‚ç‚¹ï¼Œå› ä¸ºä¹‹å‰çš„æ•°æ®æ²¡æœ‰åŒæ­¥è¿‡æ¥ï¼Œæ‰€ä»¥ä»èŠ‚ç‚¹ä¹Ÿèƒ½è·å–åˆ°åŒä¸€æŠŠé”ï¼Œå‡ºç°ä¸¤ä¸ªçº¿ç¨‹æŒæœ‰åŒä¸€æŠŠé”ï¼Œé”å¤±å»äº†äº’æ–¥æ€§</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002144808103.png" alt="image-20251002144808012"></p><p>RedLockï¼ˆçº¢é”ï¼‰ï¼šä¸èƒ½åªåœ¨ä¸€ä¸ªrediså®ä¾‹ä¸Šåˆ›å»ºé”ï¼Œåº”è¯¥åœ¨å¤šä¸ªrediså®ä¾‹ä¸Šåˆ›å»ºé”(n&#x2F;2+1)ï¼Œé¿å…åœ¨ä¸€ä¸ªrediså®ä¾‹ä¸Šæ·é”</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002145407992.png" alt="image-20251002145407911"></p><h3 id="Redisé›†ç¾¤"><a href="#Redisé›†ç¾¤" class="headerlink" title="Redisé›†ç¾¤"></a>Redisé›†ç¾¤</h3><h4 id="ä¸»ä»å¤åˆ¶"><a href="#ä¸»ä»å¤åˆ¶" class="headerlink" title="ä¸»ä»å¤åˆ¶"></a>ä¸»ä»å¤åˆ¶</h4><p>å•èŠ‚ç‚¹Redisçš„å¹¶å‘èƒ½åŠ›ä¸Šé™æœ‰é™ï¼Œå°±éœ€è¦æ­å»ºä¸»ä»é›†ç¾¤ï¼Œå®ç°è¯»å†™åˆ†ç¦»ã€‚ä¸€èˆ¬éƒ½æ˜¯ä¸€ä¸»å¤šä»ï¼Œä¸»èŠ‚ç‚¹è´Ÿè´£å†™æ•°æ®ï¼Œä»èŠ‚ç‚¹è´Ÿè´£è¯»æ•°æ®</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002151700726.png" alt="image-20251002151700654"></p><h5 id="ä¸»ä»æ•°æ®åŒæ­¥åŸç†"><a href="#ä¸»ä»æ•°æ®åŒæ­¥åŸç†" class="headerlink" title="ä¸»ä»æ•°æ®åŒæ­¥åŸç†"></a>ä¸»ä»æ•°æ®åŒæ­¥åŸç†</h5><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002151811639.png" alt="image-20251002151811560"></p><ol><li>ä»èŠ‚ç‚¹è¯·æ±‚ä¸»èŠ‚ç‚¹åŒæ­¥æ•°æ®ï¼ˆreplid,offsetï¼‰</li><li>ä¸»èŠ‚ç‚¹åˆ¤æ–­æ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼Œæ˜¯ç¬¬ä¸€æ¬¡å°±ä¸ä»èŠ‚ç‚¹æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯</li><li>ä¸»èŠ‚ç‚¹æ‰§è¡Œbgsaveï¼Œç”Ÿæˆrdbæ–‡ä»¶åï¼Œå‘é€ç»™ä»èŠ‚ç‚¹å»æ‰§è¡Œ</li><li>åœ¨rdbç”Ÿæˆæ‰§è¡ŒæœŸé—´ï¼Œä¸»èŠ‚ç‚¹ä¼šä»¥å‘½ä»¤çš„æ–¹å¼è®°å½•åˆ°ç¼“å†²åŒºï¼ˆä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ï¼‰</li><li>æŠŠç”Ÿæˆä¹‹åçš„å‘½ä»¤æ—¥å¿—æ–‡ä»¶å‘é€ç»™ä»èŠ‚ç‚¹è¿›è¡ŒåŒæ­¥</li></ol><p><span style="color:#CC0000;">Replication Id</span>ï¼šç®€ç§°replidï¼Œæ˜¯æ•°æ®é›†çš„æ ‡è®°ï¼Œidä¸€è‡´åˆ™è¯´æ˜æ˜¯åŒä¸€ä¸ªæ•°æ®é›†ã€‚æ¯ä¸€ä¸ªmasteréƒ½æœ‰å”¯ä¸€çš„replidï¼Œslaveåˆ™ä¼šç»§æ‰¿masterèŠ‚ç‚¹çš„replid</p><p><span style="color:#CC0000;">offset</span>ï¼šåç§»é‡ï¼Œéšç€è®°å½•åœ¨repl_baklogä¸­çš„æ•°æ®å¢å¤šè€Œé€æ¸å¢å¤§ã€‚slaveå®ŒæˆåŒæ­¥æ—¶ä¹Ÿä¼šè®°å½•å½“å‰åŒæ­¥çš„offsetã€‚å¦‚æœslaveçš„offsetå°äºmasterçš„offsetï¼Œè¯´æ˜slaveæ•°æ®è½åäºmasterï¼Œéœ€è¦æ›´æ–°</p><p>é—®é¢˜ä¸€ï¼šä¸»èŠ‚ç‚¹å¦‚ä½•åˆ¤æ–­æ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡åŒæ­¥ï¼Ÿ</p><p>é—®é¢˜äºŒï¼šä¹‹åçš„åŒæ­¥éœ€è¦è¯»å–å¤šå°‘æ•°æ®ï¼Ÿ</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002152514462.png" alt="image-20251002152514379"></p><ol><li>ä»èŠ‚ç‚¹è¯·æ±‚ä¸»èŠ‚ç‚¹åŒæ­¥æ•°æ®ï¼Œä¸»èŠ‚ç‚¹åˆ¤æ–­æ˜¯ä¸æ˜¯ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼Œä¸æ˜¯ç¬¬ä¸€æ¬¡å°±è·å–offsetå€¼</li><li>ä¸»èŠ‚ç‚¹ä»å‘½ä»¤æ—¥å¿—ä¸­è·å–offsetå€¼ä¹‹åçš„æ•°æ®ï¼Œå‘é€ç»™ä»èŠ‚ç‚¹è¿›è¡Œæ•°æ®åŒæ­¥</li></ol><h4 id="å“¨å…µæ¨¡å¼"><a href="#å“¨å…µæ¨¡å¼" class="headerlink" title="å“¨å…µæ¨¡å¼"></a>å“¨å…µæ¨¡å¼</h4><p>ä¸ºäº†ä¿è¯ä¸»ä»é›†ç¾¤çš„é«˜å¯ç”¨æ–¹å¼ï¼Œå“¨å…µæ¨¡å¼æ¥å®ç°ä¸»ä»é›†ç¾¤çš„è‡ªåŠ¨æ•…éšœæ¢å¤</p><ul><li><span style="font-weight:bold;">ç›‘æ§</span>ï¼šSentinelä¼šä¸æ–­æ£€æŸ¥æ‚¨çš„masterå’Œslaveæ˜¯å¦æŒ‰é¢„æœŸå·¥ä½œ</li><li><span style="font-weight:bold;">è‡ªåŠ¨æ•…éšœæ¢å¤</span>ï¼šå¦‚æœmasteræ•…éšœï¼ŒSentinelä¼šè‡ªåŠ¨å°†ä¸€ä¸ªslaveæå‡ä¸ºmasterã€‚å½“æ•…éšœå®ä¾‹æ¢å¤åä¹Ÿä»¥æ–°çš„masterä¸ºä¸»</li><li><span style="font-weight:bold;">é€šçŸ¥</span>ï¼šSentinelå……å½“Rediså®¢æˆ·ç«¯çš„æœåŠ¡å‘ç°æ¥æºï¼Œå½“é›†ç¾¤å‘ç”Ÿæ•…éšœè½¬ç§»æ—¶ï¼Œä¼šå°†æœ€æ–°ä¿¡æ¯æ¨é€ç»™Redisçš„å®¢æˆ·ç«¯</li></ul><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002153459282.png" alt="image-20251002153459217" style="zoom: 75%;" /><h5 id="æœåŠ¡çŠ¶æ€ç›‘æ§"><a href="#æœåŠ¡çŠ¶æ€ç›‘æ§" class="headerlink" title="æœåŠ¡çŠ¶æ€ç›‘æ§"></a>æœåŠ¡çŠ¶æ€ç›‘æ§</h5><p>SentinelåŸºäºå¿ƒè·³æœºåˆ¶ç›‘æµ‹æœåŠ¡çŠ¶æ€ï¼Œæ¯éš”1så‘é›†ç¾¤çš„æ¯éš”å®ä¾‹å‘é€pingå‘½ä»¤</p><ul><li>ä¸»è§‚ä¸‹çº¿ï¼šå¦‚æœæŸå®ä¾‹æœªåœ¨è§„å®šæ—¶é—´å“åº”ï¼Œåˆ™è®¤ä¸ºè¯¥å®ä¾‹ä¸»è§‚ä¸‹çº¿</li><li>å®¢è§‚ä¸‹çº¿ï¼šè¶…è¿‡æŒ‡å®šæ•°é‡çš„sentineléƒ½è®¤ä¸ºè¯¥å®ä¾‹ä¸»è§‚ä¸‹çº¿ï¼Œåˆ™è¯¥å®ä¾‹å®¢è§‚ä¸‹çº¿</li></ul><p>å“¨å…µé€‰ä¸»è§„åˆ™</p><ul><li>é¦–å…ˆåˆ¤æ–­ä¸»ä»èŠ‚ç‚¹æ–­å¼€æ—¶é—´é•¿çŸ­ï¼Œè¶…è¿‡ä¸€å®šå€¼æ’é™¤</li><li>ç„¶ååˆ¤æ–­slave-priorityå€¼ï¼Œè¶Šå°ä¼˜å…ˆçº§è¶Šé«˜</li><li>ç„¶ååˆ¤æ–­slaveèŠ‚ç‚¹çš„offsetå€¼ï¼Œè¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜</li><li>æœ€ååˆ¤æ–­slaveæ¥å¾…ä½ è¿è¡Œidå¤§å°ï¼Œè¶Šå°æœ‰é™çº§è¶Šé«˜</li></ul><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002153944778.png" alt="image-20251002153944705" style="zoom: 70%;" /><h5 id="è„‘è£‚é—®é¢˜"><a href="#è„‘è£‚é—®é¢˜" class="headerlink" title="è„‘è£‚é—®é¢˜"></a>è„‘è£‚é—®é¢˜</h5><p>å¦‚æœå› ä¸ºç½‘ç»œåŸå› å¯¼è‡´Sentinelè®¤ä¸ºä¸»èŠ‚ç‚¹ä¸‹çº¿ï¼Œé€‰æ‹©ä¸€ä¸ªä»èŠ‚ç‚¹ä½œä¸ºæ–°çš„ä¸»èŠ‚ç‚¹ï¼Œä½†æ˜¯è€çš„ä¸»èŠ‚ç‚¹å®¢æˆ·ç«¯è¿˜åœ¨æ­£å¸¸è¿æ¥è€çš„masterã€‚</p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002154304066.png" alt="image-20251002154303977" style="zoom: 50%;" /><p>åé¢ç½‘ç»œæ¢å¤åï¼Œè€çš„ä¸»èŠ‚ç‚¹ä¼šæ¸…ç©ºè‡ªå·±æ•°æ®å¹¶åŒæ­¥æ–°ä¸»èŠ‚ç‚¹çš„æ•°æ®å¯¼è‡´æ•°æ®ä¸¢å¤±çš„é—®é¢˜ã€‚</p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002154330012.png" alt="image-20251002154329931" style="zoom: 55%;" /><p>è§£å†³ï¼šredisæœ‰ä¸¤ä¸ªé…ç½®å‚æ•°ï¼š</p><p>min-replicas-to-write 1 è¡¨ç¤ºæœ€å°‘çš„salveèŠ‚ç‚¹ä¸º1ä¸ª</p><p>min-replicas-max-lag   5  è¡¨ç¤ºæ•°æ®å¤åˆ¶å’ŒåŒæ­¥çš„å»¶è¿Ÿä¸èƒ½è¶…è¿‡5ç§’</p><p>é€šè¿‡ä¿®æ”¹è¿™ä¸¤ä¸ªé…ç½®ï¼Œè®¾ç½®æœ€å°‘çš„ä»èŠ‚ç‚¹æ•°é‡ä»¥åŠç¼©çŸ­ä¸»ä»æ•°æ®åŒæ­¥çš„å»¶è¿Ÿæ—¶é—´ï¼Œè¾¾ä¸åˆ°è¦æ±‚å°±æ‹’ç»è¯·æ±‚ï¼Œå°±å¯ä»¥é¿å…å¤§é‡çš„æ•°æ®ä¸¢å¤±</p><h4 id="åˆ†ç‰‡é›†ç¾¤"><a href="#åˆ†ç‰‡é›†ç¾¤" class="headerlink" title="åˆ†ç‰‡é›†ç¾¤"></a>åˆ†ç‰‡é›†ç¾¤</h4><p>ä¸»ä»å’Œå“¨å…µå¯ä»¥è§£å†³é«˜å¯ç”¨ã€é«˜å¹¶å‘è¯»çš„é—®é¢˜ã€‚ä½†æ˜¯ä¾ç„¶æœ‰ä¸¤ä¸ªé—®é¢˜æ²¡æœ‰è§£å†³ï¼š</p><ul><li>æµ·é‡æ•°æ®å­˜å‚¨é—®é¢˜</li><li>é«˜å¯ç”¨å†™çš„é—®é¢˜</li></ul><p>ä½¿ç”¨åˆ†ç‰‡é›†ç¾¤å¯ä»¥è§£å†³ä¸Šè¯‰é—®é¢˜ï¼Œåˆ†ç‰‡é›†ç¾¤ç‰¹å¾ï¼š</p><ul><li>é›†ç¾¤ä¸­æœ‰å¤šä¸ªmasterï¼Œæ¯ä¸ªmasterä¿å­˜ä¸åŒæ•°æ®</li><li>æ¯éš”masteréƒ½å¯ä»¥æœ‰å¤šä¸ªslaveèŠ‚ç‚¹</li><li>masterä¹‹é—´é€šè¿‡pingæ£€æµ‹å½¼æ­¤å¥åº·çŠ¶æ€</li><li>å®¢æˆ·ç«¯è¯·æ±‚å¯ä»¥è®¿é—®é›†ç¾¤ä»»æ„èŠ‚ç‚¹ï¼Œæœ€ç»ˆéƒ½ä¼šè¢«è½¬å‘åˆ°æ­£ç¡®èŠ‚ç‚¹<img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002155117498.png" alt="image-20251002155117430" style="zoom: 65%;" /></li></ul><h5 id="é›†ç¾¤ç»“æ„-æ•°æ®è¯»å†™"><a href="#é›†ç¾¤ç»“æ„-æ•°æ®è¯»å†™" class="headerlink" title="é›†ç¾¤ç»“æ„-æ•°æ®è¯»å†™"></a>é›†ç¾¤ç»“æ„-æ•°æ®è¯»å†™</h5><p>Redisåˆ†ç‰‡é›†ç¾¤å¼•å…¥äº†å“ˆå¸Œæ§½çš„æ¦‚å¿µï¼ŒRedisé›†ç¾¤æœ‰16384ä¸ªå“ˆå¸Œæ§½ï¼Œæ¯ä¸ªkeyé€šè¿‡CRC16æ ¡éªŒåå¯¹16384å–æ¨¡æ¥å†³å®šæ”¾ç½®å“ªä¸ªæ§½ï¼Œé›†ç¾¤çš„æ¯éš”èŠ‚ç‚¹è´Ÿè´£ä¸€éƒ¨åˆ†hashæ§½</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002155426116.png" alt="image-20251002155426027"></p><h3 id="Rediså•çº¿ç¨‹"><a href="#Rediså•çº¿ç¨‹" class="headerlink" title="Rediså•çº¿ç¨‹"></a>Rediså•çº¿ç¨‹</h3><ol><li>Rediså•çº¿ç¨‹ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆè¿˜é‚£ä¹ˆå¿«ï¼Ÿ</li></ol><ul><li>Redisæ˜¯çº¯å†…å­˜æ“ä½œï¼Œæ‰§è¡Œé€Ÿåº¦éå¸¸å¿«</li><li>é‡‡ç”¨å•çº¿ç¨‹ï¼Œé¿å…ä¸å¿…è¦çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å¯ç«äº‰æ¡ä»¶ï¼Œå¤šçº¿ç¨‹è¿˜è¦è€ƒè™‘çº¿ç¨‹å®‰å…¨é—®é¢˜</li><li>ä½¿ç”¨I&#x2F;Oå¤šè·¯å¤ç”¨æ¨¡å‹ï¼Œéé˜»å¡IO</li></ul><ol start="2"><li>èƒ½è§£é‡Šä¸€ä¸ªI&#x2F;Oå¤šè·¯å¤ç”¨æ¨¡å‹ï¼Ÿ</li></ol><p>Redisæ˜¯çº¯å†…å­˜æ“ä½œï¼Œæ‰§è¡Œé€Ÿåº¦éå¸¸å¿«ï¼Œæ€§èƒ½ç“¶é¢ˆæ˜¯ç½‘ç»œå»¶è¿Ÿè€Œä¸æ˜¯æ‰§è¡Œé€Ÿåº¦ï¼ŒI&#x2F;Oå¤šè·¯å¤ç”¨æ¨¡å‹ä¸»è¦å°±æ˜¯å®ç°äº†é«˜æ•ˆçš„ç½‘ç»œè¯·æ±‚</p><h4 id="ç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´"><a href="#ç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´" class="headerlink" title="ç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´"></a>ç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´</h4><ul><li>LInuxç³»ç»Ÿä¸­ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨çš„å†…å­˜æƒ…å†µåˆ’åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šå†…æ ¸ç©ºé—´ã€ç”¨æˆ·ç©ºé—´</li><li>ç”¨æˆ·ç©ºé—´åªèƒ½æ‰§è¡Œå—é™çš„å‘½ä»¤ï¼ˆRing3ï¼‰ï¼Œè€Œä¸”ä¸èƒ½ç›´æ¥è°ƒç”¨ç³»ç»Ÿèµ„æºï¼Œå¿…éœ€é€šè¿‡å†…æ ¸æä¾›çš„æ¥å£æ¥è®¿é—®</li><li>å†…æ ¸ç©ºé—´å¯ä»¥æ‰§è¡Œç‰¹æƒå‘½ä»¤ï¼ˆRing0ï¼‰ï¼Œè°ƒç”¨ä¸€åˆ‡ç³»ç»Ÿèµ„æº</li></ul><p>Linuxç³»ç»Ÿä¸ºäº†æé«˜IOæ•ˆç‡ï¼Œä¼šåœ¨ç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´éƒ½åŠ å…¥ç¼“å†²åŒº</p><ul><li>å†™æ•°æ®æ—¶ï¼Œè¦æŠŠç”¨æˆ·ç¼“å†²æ•°æ®æ‹·è´åˆ°å†…æ ¸ç¼“å†²åŒºï¼Œç„¶åå†™å…¥è®¾å¤‡</li><li>è¯»æ•°æ®æ—¶ï¼Œè¦ä»è®¾å¤‡è¯»å–æ•°æ®åˆ°å†…æ ¸ç¼“å†²åŒºï¼Œç„¶åæ‹·è´åˆ°ç”¨æˆ·ç¼“å†²åŒº</li></ul><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002180915197.png" alt="image-20251002180915127"></p><h4 id="å¸¸è§çš„IOæ¨¡å‹"><a href="#å¸¸è§çš„IOæ¨¡å‹" class="headerlink" title="å¸¸è§çš„IOæ¨¡å‹"></a>å¸¸è§çš„IOæ¨¡å‹</h4><h5 id="é˜»å¡IO"><a href="#é˜»å¡IO" class="headerlink" title="é˜»å¡IO"></a>é˜»å¡IO</h5><p>é˜»å¡IOå°±æ˜¯ä¸¤ä¸ªé˜¶æ®µéƒ½å¿…éœ€é˜»å¡ç­‰å¾…</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002181223889.png" alt="image-20251002181223800"></p><h5 id="éé˜»å¡IO"><a href="#éé˜»å¡IO" class="headerlink" title="éé˜»å¡IO"></a>éé˜»å¡IO</h5><p>éé˜»å¡çš„IOçš„recvfromæ“ä½œä¼šç«‹å³è¿”å›ç»“æœè€Œä¸æ˜¯é˜»å¡ç”¨æˆ·è¿›ç¨‹</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002181319133.png" alt="image-20251002181319042"></p><h5 id="IOå¤šè·¯å¤ç”¨"><a href="#IOå¤šè·¯å¤ç”¨" class="headerlink" title="IOå¤šè·¯å¤ç”¨"></a>IOå¤šè·¯å¤ç”¨</h5><p>åˆ©ç”¨å¤šä¸ªçº¿ç¨‹æ¥åŒæ—¶ç›‘å¬å¤šä¸ªSocketï¼Œå¹¶åœ¨æŸä¸ªSocketå¯è¯»ï¼Œå¯å†™æ—¶å¾—åˆ°é€šçŸ¥ï¼Œä»è€Œé¿å…æ— æ•ˆçš„ç­‰å¾…</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002181439305.png" alt="image-20251002181439216"></p><h4 id="Redisç½‘ç»œæ¨¡å‹"><a href="#Redisç½‘ç»œæ¨¡å‹" class="headerlink" title="Redisç½‘ç»œæ¨¡å‹"></a>Redisç½‘ç»œæ¨¡å‹</h4><p>Redisé€šè¿‡IOå¤šè·¯å¤ç”¨æ¥æé«˜ç½‘ç»œæ€§èƒ½</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002181937315.png" alt="image-20251002181937230"></p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251002182103892.png" alt="image-20251002182103802"></p>]]></content>
      
      
      <categories>
          
          <category> javaé¢è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redis </tag>
            
            <tag> é¢è¯•é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢æ·»åŠ éŸ³ä¹ç»„ä»¶</title>
      <link href="/2025/09/23/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Bufferfly%20Blog%20%E9%85%8D%E7%BD%AE/"/>
      <url>/2025/09/23/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Bufferfly%20Blog%20%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="Bufferfly-Blog-é…ç½®"><a href="#Bufferfly-Blog-é…ç½®" class="headerlink" title="Bufferfly Blog é…ç½®"></a>Bufferfly Blog é…ç½®</h1><h2 id="æ·»åŠ éŸ³ä¹ç»„ä»¶"><a href="#æ·»åŠ éŸ³ä¹ç»„ä»¶" class="headerlink" title="æ·»åŠ éŸ³ä¹ç»„ä»¶"></a>æ·»åŠ éŸ³ä¹ç»„ä»¶</h2><p>è¿™é‡Œé€‰æ‹©çš„è§£å†³æ–¹æ¡ˆï¼ŒAplayer + meting </p><ol><li><p>é¦–å…ˆä¸‹è½½åŒ…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-tag-aplayer</span><br><span class="line"></span><br><span class="line">npm install meting@2.0.1 --save</span><br></pre></td></tr></table></figure></li><li><p>å°†distä¸­çš„æ–‡ä»¶åŠ å…¥åˆ°ä¸»é¢˜çš„sourceè·¯å¾„ä¸‹</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/202509232252561.png" alt="image-20250923225202494"></p></li><li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶</p><ul><li><p>ä¸»é¢˜é…ç½®æ–‡ä»¶</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">aplayerInject:</span></span><br><span class="line"><span class="attr">enable:</span> <span class="string">aplayer</span>   <span class="comment">#å¼€å¯éŸ³ä¹æ’­æ”¾å™¨</span></span><br><span class="line"><span class="attr">per_page:</span> <span class="literal">true</span>    <span class="comment">#æ¯ä¸ªé¡µé¢éƒ½æœ‰Aplayer</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å®ç°ä¸ä¼šå› è·³è½¬å…¶ä»–é¡µé¢è€Œé‡æ–°æ’­æ”¾éŸ³ä¹</span></span><br><span class="line"><span class="attr">pjax:</span></span><br><span class="line"><span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li><li><p>æ ¹é…ç½®æ–‡ä»¶hexoé…ç½®æ–‡ä»¶</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å…¨å±€éŸ³ä¹ éœ€è¦å°†asset_injectè®¾ç½®æˆfalse</span></span><br><span class="line"><span class="attr">aplayer:</span></span><br><span class="line"><span class="attr">meting:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">asset_inject:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>å¼•ç”¨æ’­æ”¾å™¨</p></li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/dist/Aplayer.min.css&quot;&gt;</span>  <span class="string">&lt;!--</span> <span class="string">è·¯å¾„ä¿®æ­£</span> <span class="string">--&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/dist/Aplayer.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/dist/Meting.min.js&quot;&gt;&lt;/script&gt;</span>           <span class="string">&lt;!--</span> <span class="string">MetingJS</span> <span class="string">æ”¾è¿™é‡Œ</span> <span class="string">--&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;meting-js</span> <span class="string">server=&quot;netease&quot;</span> <span class="string">type=&quot;playlist&quot;</span> <span class="string">id=&quot;14328758050&quot;</span> <span class="string">fixed=&quot;true&quot;</span> <span class="string">autoplay=&quot;true&quot;</span> <span class="string">theme=&quot;#ad7a86&quot;&gt;&lt;/meting-js&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„idå°±æ˜¯æ­Œå•id</p><h2 id="æ·»åŠ åˆ†ç±»ç£è´´"><a href="#æ·»åŠ åˆ†ç±»ç£è´´" class="headerlink" title="æ·»åŠ åˆ†ç±»ç£è´´"></a>æ·»åŠ åˆ†ç±»ç£è´´</h2><p>&#x3D;&#x3D;å…³é”®ï¼šhexoé‡‡ç”¨6.3ç‰ˆæœ¬&#x3D;&#x3D;</p><ol><li><p>å®‰è£…æ’ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-categories-card --save</span><br></pre></td></tr></table></figure></li><li><p>æ·»åŠ é…ç½®ä¿¡æ¯</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-butterfly-categories-card</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/a9131002/</span></span><br><span class="line"><span class="attr">categoryBar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># å¼€å…³</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#è¿‡æ»¤å™¨ä¼˜å…ˆæƒ</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/</span> <span class="comment"># åº”ç”¨é¡µé¢</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># æŒ‚è½½å®¹å™¨ç±»å‹</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">column:</span> <span class="string">odd</span> <span class="comment"># oddï¼š3åˆ— | evenï¼š4åˆ—</span></span><br><span class="line">  <span class="attr">row:</span> <span class="number">1</span> <span class="comment">#æ˜¾ç¤ºè¡Œæ•°ï¼Œé»˜è®¤ä¸¤è¡Œï¼Œè¶…è¿‡è¡Œæ•°åˆ‡æ¢ä¸ºæ»šåŠ¨æ˜¾ç¤º</span></span><br><span class="line">  <span class="attr">message:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> <span class="string">UbuntuæŒ‡å—</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">https://npm.elemecdn.com/akilar-candyassets/image/cover1.webp</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> <span class="string">ç©è½¬Win10</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">https://npm.elemecdn.com/akilar-candyassets/image/cover2.webp</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> <span class="string">é•¿ç¯‡å°è¯´è¿è½½</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">https://npm.elemecdn.com/akilar-candyassets/image/cover3.webp</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> <span class="string">ä¸ªäººæ—¥è®°</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">https://npm.elemecdn.com/akilar-candyassets/image/cover4.webp</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> <span class="string">è¯—è¯æ­Œèµ‹</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">https://npm.elemecdn.com/akilar-candyassets/image/cover5.webp</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> <span class="string">æ‚è°ˆæ•™ç¨‹</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">https://npm.elemecdn.com/akilar-candyassets/image/cover6.webp</span></span><br><span class="line">  <span class="attr">custom_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css</span></span><br></pre></td></tr></table></figure><ol start="3"><li>å‚æ•°é‡Šä¹‰</li></ol><table><thead><tr><th align="left">å‚æ•°</th><th align="left">å¤‡é€‰å€¼&#x2F;ç±»å‹</th><th align="left">é‡Šä¹‰</th></tr></thead><tbody><tr><td align="left">priority</td><td align="left">number</td><td align="left">ã€å¯é€‰ã€‘è¿‡æ»¤å™¨ä¼˜å…ˆçº§ï¼Œæ•°å€¼è¶Šå°ï¼Œæ‰§è¡Œè¶Šæ—©ï¼Œé»˜è®¤ä¸º10ï¼Œé€‰å¡«</td></tr><tr><td align="left">enable</td><td align="left">true&#x2F;false</td><td align="left">ã€å¿…é€‰ã€‘æ§åˆ¶å¼€å…³</td></tr><tr><td align="left">enable_page</td><td align="left">path&#x2F;all</td><td align="left">ã€å¯é€‰ã€‘å¡«å†™æƒ³è¦åº”ç”¨çš„é¡µé¢çš„ç›¸å¯¹è·¯å¾„ï¼ˆå³è·¯ç”±åœ°å€ï¼‰,å¦‚æ ¹ç›®å½•å°±å¡«â€™&#x2F;â€˜,åˆ†ç±»é¡µé¢å°±å¡«â€™&#x2F;categories&#x2F;â€˜ã€‚è‹¥è¦åº”ç”¨äºæ‰€æœ‰é¡µé¢ï¼Œå°±å¡«â€™allâ€™ï¼Œé»˜è®¤ä¸ºâ€™&#x2F;â€˜</td></tr><tr><td align="left">layout.type</td><td align="left">id&#x2F;class</td><td align="left">ã€å¯é€‰ã€‘æŒ‚è½½å®¹å™¨ç±»å‹ï¼Œå¡«å†™idæˆ–classï¼Œä¸å¡«åˆ™é»˜è®¤ä¸ºid</td></tr><tr><td align="left">layout.name</td><td align="left">text</td><td align="left">ã€å¿…é€‰ã€‘æŒ‚è½½å®¹å™¨åç§°</td></tr><tr><td align="left">layout.index</td><td align="left">0å’Œæ­£æ•´æ•°</td><td align="left">ã€å¯é€‰ã€‘å‰ææ˜¯layout.typeä¸ºclassï¼Œå› ä¸ºåŒä¸€é¡µé¢å¯èƒ½æœ‰å¤šä¸ªclassï¼Œæ­¤é¡¹ç”¨æ¥ç¡®è®¤ç©¶ç«Ÿæ’åœ¨ç¬¬å‡ ä¸ªé¡ºä½</td></tr><tr><td align="left">column</td><td align="left">odd&#x2F;even</td><td align="left">ã€å¯é€‰ã€‘æ˜¾ç¤ºåˆ—æ•°ï¼Œè€ƒè™‘åˆ°æ¯”ä¾‹é—®é¢˜ï¼Œåªæä¾›3åˆ—å’Œ4åˆ—ï¼Œoddä¸º3åˆ—ï¼Œ evenä¸º4åˆ—</td></tr><tr><td align="left">row</td><td align="left">number</td><td align="left">ã€å¯é€‰ã€‘æ˜¾ç¤ºè¡Œæ•°ï¼Œé»˜è®¤ä¸¤è¡Œï¼Œè¶…è¿‡è¡Œæ•°åˆ‡æ¢ä¸ºæ»šåŠ¨æ˜¾ç¤º</td></tr><tr><td align="left">message.descr</td><td align="left">text</td><td align="left">åˆ†ç±»æè¿°,éœ€è¦å’Œä½ è‡ªå·±çš„æ–‡ç« åˆ†ç±»ä¸€ä¸€å¯¹åº”ã€‚</td></tr><tr><td align="left">message.cover</td><td align="left">url</td><td align="left">åˆ†ç±»èƒŒæ™¯,éœ€è¦å’Œä½ è‡ªå·±çš„æ–‡ç« åˆ†ç±»ä¸€ä¸€å¯¹åº”ã€‚</td></tr><tr><td align="left">custom_css</td><td align="left">url</td><td align="left">ã€å¯é€‰ã€‘è‡ªå®šä¹‰æ ·å¼ï¼Œä¼šæ›¿æ¢é»˜è®¤çš„cssé“¾æ¥ï¼Œå¯ä»¥ä¸‹è½½æ–‡æ¡£ç»™å‡ºçš„cdné“¾æ¥åè‡ªä¸»ä¿®æ”¹</td></tr></tbody></table></li></ol><p>å‚è€ƒé“¾æ¥<a href="https://akilar.top/posts/a9131002/">https://akilar.top/posts/a9131002/</a></p>]]></content>
      
      
      <categories>
          
          <category> åšå®¢æ­å»º </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>HadoopåŸºç¡€</title>
      <link href="/2025/09/18/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/Hadoop/"/>
      <url>/2025/09/18/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/Hadoop/</url>
      
        <content type="html"><![CDATA[<p>ç”¨ Java è¯­è¨€å®ç°ï¼Œå…è®¸ç”¨æˆ·ä½¿ç”¨ç®€å•çš„ç¼–ç¨‹æ¨¡å‹å®ç°åˆ†å¸ƒå¼å¤„ç†</p><h4 id="æ ¸å¿ƒç»„ä»¶"><a href="#æ ¸å¿ƒç»„ä»¶" class="headerlink" title="æ ¸å¿ƒç»„ä»¶"></a>æ ¸å¿ƒç»„ä»¶</h4><ul><li>HDFS åˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨ç³»ç»Ÿ  ï¼šè§£å†³æµ·é‡æ•°æ®å­˜å‚¨</li><li>YARN é›†ç¾¤èµ„æºç®¡ç†å’Œä»»åŠ¡è°ƒåº¦æ¡†æ¶ï¼šè§£å†³èµ„æºä»»åŠ¡è°ƒåº¦ï¼Œæ”¯æŒå„ç§è®¡ç®—å¼•æ“è¿è¡Œ</li><li>MapReduce åˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶ï¼šè§£å†³æµ·é‡æ•°æ®è®¡ç®—</li></ul><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011131457444.png" alt="image-20251011131457277"></p><h4 id="ç‰¹æ€§ä¼˜ç‚¹"><a href="#ç‰¹æ€§ä¼˜ç‚¹" class="headerlink" title="ç‰¹æ€§ä¼˜ç‚¹"></a>ç‰¹æ€§ä¼˜ç‚¹</h4><p>é€šç”¨æ€§ï¼šä¸å…·ä½“çš„ä¸šåŠ¡è„±é’©</p><p>ç®€å•ï¼šç¼–ç¨‹æ¨¡å‹ä½¿ç”¨ç®€å•</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011131544767.png" alt="image-20251011131544659"></p><h4 id="æ¶æ„å˜åŒ–"><a href="#æ¶æ„å˜åŒ–" class="headerlink" title="æ¶æ„å˜åŒ–"></a>æ¶æ„å˜åŒ–</h4><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011131903702.png" alt="image-20251011131903598"></p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011131923515.png" alt="image-20251011131923408"></p><h3 id="Hadoop-é›†ç¾¤"><a href="#Hadoop-é›†ç¾¤" class="headerlink" title="Hadoop é›†ç¾¤"></a>Hadoop é›†ç¾¤</h3><ol><li>åŒ…æ‹¬ä¸¤ä¸ªé›†ç¾¤ï¼šHDFS é›†ç¾¤ã€YARN é›†ç¾¤</li><li>ä¸¤ä¸ªé›†ç¾¤ <font style="color:#DF2A3F;"> é€»è¾‘ä¸Šåˆ†ç¦»ï¼Œç‰©ç†ä¸Šåœ¨ä¸€èµ· </font></li><li>ä¸¤ä¸ªé›†ç¾¤éƒ½æ˜¯æ ‡å‡†çš„ä¸»ä»æ¶æ„é›†ç¾¤</li></ol><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011131947459.png" alt="image-20251011131947359"></p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132012270.png" alt="image-20251011132012168"></p><p>MapReduce æ˜¯è®¡ç®—æ¡†æ¶ã€ä»£ç å±‚é¢çš„ç»„ä»¶ï¼Œæ²¡æœ‰é›†ç¾¤ä¹‹è¯´</p><h4 id="Hadoop-é›†ç¾¤å®‰è£…"><a href="#Hadoop-é›†ç¾¤å®‰è£…" class="headerlink" title="Hadoop é›†ç¾¤å®‰è£…"></a>Hadoop é›†ç¾¤å®‰è£…</h4><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132025885.png" alt="image-20251011132025774"></p><h4 id="é›†ç¾¤ç»„æˆä»‹ç»"><a href="#é›†ç¾¤ç»„æˆä»‹ç»" class="headerlink" title="é›†ç¾¤ç»„æˆä»‹ç»"></a>é›†ç¾¤ç»„æˆä»‹ç»</h4><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132044254.png" alt="image-20251011132044140"></p><h4 id="åŸºç¡€ç¯å¢ƒè®¾ç½®"><a href="#åŸºç¡€ç¯å¢ƒè®¾ç½®" class="headerlink" title="åŸºç¡€ç¯å¢ƒè®¾ç½®"></a>åŸºç¡€ç¯å¢ƒè®¾ç½®</h4><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132057259.png" alt="image-20251011132057132"></p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132111187.png"> <img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132123402.png" alt="image-20251011132123271"></p><h4 id="å®‰è£…åŒ…ç»“æ„"><a href="#å®‰è£…åŒ…ç»“æ„" class="headerlink" title="å®‰è£…åŒ…ç»“æ„"></a>å®‰è£…åŒ…ç»“æ„</h4><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132136840.png" alt="image-20251011132136729"></p><h4 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h4><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132150607.png" alt="image-20251011132150525"></p><h4 id="format-åˆå§‹åŒ–"><a href="#format-åˆå§‹åŒ–" class="headerlink" title="format åˆå§‹åŒ–"></a>format åˆå§‹åŒ–</h4><p>é¦–æ¬¡å¯åŠ¨ HDFS æ—¶ï¼Œå¿…é¡»è¿›è¡Œåˆå§‹åŒ–æ“ä½œ</p><p>format æœ¬è´¨ä¸Šæ˜¯åˆå§‹åŒ–å·¥ä½œï¼Œè¿›è¡Œ HDFS æ¸…ç†å’Œå‡†å¤‡å·¥ä½œ</p><p><code>hdfs namenode -format</code></p><h4 id="é›†ç¾¤å¯åœå‘½ä»¤"><a href="#é›†ç¾¤å¯åœå‘½ä»¤" class="headerlink" title="é›†ç¾¤å¯åœå‘½ä»¤"></a>é›†ç¾¤å¯åœå‘½ä»¤</h4><h5 id="1-æ‰‹åŠ¨é€ä¸ªè¿›ç¨‹å¯åœ"><a href="#1-æ‰‹åŠ¨é€ä¸ªè¿›ç¨‹å¯åœ" class="headerlink" title="1.æ‰‹åŠ¨é€ä¸ªè¿›ç¨‹å¯åœ"></a>1.æ‰‹åŠ¨é€ä¸ªè¿›ç¨‹å¯åœ</h5><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132205149.png" alt="image-20251011132205066"></p><h5 id="2-ä¸€é”®å¯åœ"><a href="#2-ä¸€é”®å¯åœ" class="headerlink" title="2.ä¸€é”®å¯åœ"></a>2.ä¸€é”®å¯åœ</h5><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132217685.png" alt="image-20251011132217602"></p><h5 id="3-è¿›ç¨‹çŠ¶æ€ã€æ—¥å¿—æŸ¥çœ‹"><a href="#3-è¿›ç¨‹çŠ¶æ€ã€æ—¥å¿—æŸ¥çœ‹" class="headerlink" title="3.è¿›ç¨‹çŠ¶æ€ã€æ—¥å¿—æŸ¥çœ‹"></a>3.è¿›ç¨‹çŠ¶æ€ã€æ—¥å¿—æŸ¥çœ‹</h5><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132229139.png" alt="image-20251011132229007"></p><h4 id="4-web-é¡µé¢"><a href="#4-web-é¡µé¢" class="headerlink" title="4.web é¡µé¢"></a>4.web é¡µé¢</h4><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132247696.png" alt="image-20251011132247580"></p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132314024.png" alt="image-20251011132313925"></p><h4 id="åˆä½“éªŒ"><a href="#åˆä½“éªŒ" class="headerlink" title="åˆä½“éªŒ"></a>åˆä½“éªŒ</h4><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132334243.png" alt="image-20251011132334111"></p><ol><li>HDFS æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ</li><li>æœ‰ç›®å½•æ ‘ç»“æ„ï¼Œå’Œ linux ç±»ä¼¼</li></ol><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132350130.png" alt="image-20251011132350009"></p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132359474.png" alt="image-20251011132359399"></p><h3 id="HDFS"><a href="#HDFS" class="headerlink" title="HDFS"></a>HDFS</h3><h4 id="ä¼ ç»Ÿæ–‡ä»¶ç³»ç»Ÿ"><a href="#ä¼ ç»Ÿæ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="ä¼ ç»Ÿæ–‡ä»¶ç³»ç»Ÿ"></a>ä¼ ç»Ÿæ–‡ä»¶ç³»ç»Ÿ</h4><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132413942.png" alt="image-20251011132413809"></p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132424733.png" alt="image-20251011132424640"></p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132435014.png" alt="image-20251011132434924"></p><p>ä¼ ç»Ÿçš„æ–‡ä»¶å­˜å‚¨ç³»ç»Ÿé—®é¢˜ï¼š</p><ol><li>æˆæœ¬é«˜</li><li>æ•ˆç‡ä½ï¼šä¼ ç»Ÿå­˜å‚¨å½“éœ€è¦å¤„ç†æ•°æ®çš„æ—¶å€™æŠŠæ•°æ®ç§»åŠ¨è¿‡æ¥ï¼Œ</li><li>æ€§èƒ½ä½</li><li>å¯æ‰©å±•æ€§å·®</li></ol><h4 id="åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ"><a href="#åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ"></a>åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</h4><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132449301.png" alt="image-20251011132449196"></p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132520033.png" alt="image-20251011132519911"></p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132646502.png"> <img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132634050.png" alt="image-20251011132633890"></p><h4 id="HDFS-1"><a href="#HDFS-1" class="headerlink" title="HDFS"></a>HDFS</h4><p>hadoop åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132727454.png" alt="image-20251011132727327"></p><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132744166.png"> <img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132754683.png" alt="image-20251011132754547"></p><h5 id="é‡è¦ç‰¹æ€§"><a href="#é‡è¦ç‰¹æ€§" class="headerlink" title="é‡è¦ç‰¹æ€§"></a>é‡è¦ç‰¹æ€§</h5><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132834207.png" alt="image-20251011132834077"></p><h6 id="ä¸»ä»æ¶æ„"><a href="#ä¸»ä»æ¶æ„" class="headerlink" title="ä¸»ä»æ¶æ„"></a>ä¸»ä»æ¶æ„</h6><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132851687.png" alt="image-20251011132851566"></p><h6 id="åˆ†å—å­˜å‚¨"><a href="#åˆ†å—å­˜å‚¨" class="headerlink" title="åˆ†å—å­˜å‚¨"></a>åˆ†å—å­˜å‚¨</h6><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132902205.png" alt="image-20251011132902065"></p><h6 id="å‰¯æœ¬æœºåˆ¶"><a href="#å‰¯æœ¬æœºåˆ¶" class="headerlink" title="å‰¯æœ¬æœºåˆ¶"></a>å‰¯æœ¬æœºåˆ¶</h6><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132914372.png" alt="1"></p><h6 id="å…ƒæ•°æ®ç®¡ç†"><a href="#å…ƒæ•°æ®ç®¡ç†" class="headerlink" title="å…ƒæ•°æ®ç®¡ç†"></a>å…ƒæ•°æ®ç®¡ç†</h6><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132932669.png" alt="image-20251011132932561"></p><h6 id="namespace"><a href="#namespace" class="headerlink" title="namespace"></a>namespace</h6><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011132950445.png" alt="image-20251011132950346"></p><h6 id="æ•°æ®å—å­˜å‚¨"><a href="#æ•°æ®å—å­˜å‚¨" class="headerlink" title="æ•°æ®å—å­˜å‚¨"></a>æ•°æ®å—å­˜å‚¨</h6><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011133002998.png" alt="image-20251011133002903"></p><h4 id="HDFS-shell-æ“ä½œ"><a href="#HDFS-shell-æ“ä½œ" class="headerlink" title="HDFS shell æ“ä½œ"></a>HDFS shell æ“ä½œ</h4><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011133024691.png" alt="image-20251011133024586"></p><h5 id="æ–‡ä»¶ç³»ç»Ÿåè®®"><a href="#æ–‡ä»¶ç³»ç»Ÿåè®®" class="headerlink" title="æ–‡ä»¶ç³»ç»Ÿåè®®"></a>æ–‡ä»¶ç³»ç»Ÿåè®®</h5><p><img src="https://wh-hexo-blog.oss-cn-guangzhou.aliyuncs.com/20251011133035653.png" alt="image-20251011133035524"></p><h5 id="å¸¸ç”¨æ“ä½œ"><a href="#å¸¸ç”¨æ“ä½œ" class="headerlink" title="å¸¸ç”¨æ“ä½œ"></a>å¸¸ç”¨æ“ä½œ</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757667997442-100aa96a-cd20-41f7-8e77-f2fb8896d045.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757668005344-9df18a1e-21da-4595-811d-f07ebce717cc.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757668041995-097bab36-3629-4ab8-b19d-ec566e451e19.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757669448780-6368ec15-8313-4682-8f46-ef83784cb7cd.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757669468069-4b820980-232a-4f2a-8917-98566cd0aa72.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757669586070-11f1b3c4-2cbf-43b5-8f77-e799da24db60.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757669595505-cafeb3b4-6c19-4120-ac38-6297998c1083.png"></p><h4 id="HDFS-å·¥ä½œæµç¨‹å’Œæœºåˆ¶"><a href="#HDFS-å·¥ä½œæµç¨‹å’Œæœºåˆ¶" class="headerlink" title="HDFS å·¥ä½œæµç¨‹å’Œæœºåˆ¶"></a>HDFS å·¥ä½œæµç¨‹å’Œæœºåˆ¶</h4><h5 id="é›†ç¾¤è§’è‰²å’ŒèŒè´£"><a href="#é›†ç¾¤è§’è‰²å’ŒèŒè´£" class="headerlink" title="é›†ç¾¤è§’è‰²å’ŒèŒè´£"></a>é›†ç¾¤è§’è‰²å’ŒèŒè´£</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757669773173-f079a259-8bb8-465d-913f-66be4a68e26e.png"></p><h6 id="ä¸»è§’è‰²ï¼šnamenode"><a href="#ä¸»è§’è‰²ï¼šnamenode" class="headerlink" title="ä¸»è§’è‰²ï¼šnamenode"></a>ä¸»è§’è‰²ï¼šnamenode</h6><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757669824218-cfb41e33-740c-45ed-a06e-2925b8e1b4f5.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757669854166-927da354-1533-47ec-b30e-18f815de3ed2.png"></p><h6 id="ä»è§’è‰²ï¼šdatanode"><a href="#ä»è§’è‰²ï¼šdatanode" class="headerlink" title="ä»è§’è‰²ï¼šdatanode"></a>ä»è§’è‰²ï¼šdatanode</h6><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757669876821-f9b0584b-f215-4ca0-9976-861dec367efa.png"></p><h6 id="ä¸»è§’è‰²è¾…åŠ©è§’è‰²ï¼šsecondarynamenode"><a href="#ä¸»è§’è‰²è¾…åŠ©è§’è‰²ï¼šsecondarynamenode" class="headerlink" title="ä¸»è§’è‰²è¾…åŠ©è§’è‰²ï¼šsecondarynamenode"></a>ä¸»è§’è‰²è¾…åŠ©è§’è‰²ï¼šsecondarynamenode</h6><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757669916209-c5d0b588-2d98-42b0-ab39-bd6b8075d108.png"></p><h6 id="namenode-èŒè´£"><a href="#namenode-èŒè´£" class="headerlink" title="namenode èŒè´£"></a>namenode èŒè´£</h6><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757669968627-d0f6a7b6-95d8-4c51-a344-094353365d94.png"></p><h6 id="datanode-èŒè´£"><a href="#datanode-èŒè´£" class="headerlink" title="datanode èŒè´£"></a>datanode èŒè´£</h6><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757670014143-8fe69806-f714-4cf4-8fe0-1babeedcd4cf.png"></p><h5 id="å†™æ•°æ®æµç¨‹ï¼ˆä¸Šä¼ æ–‡ä»¶æµç¨‹ï¼‰"><a href="#å†™æ•°æ®æµç¨‹ï¼ˆä¸Šä¼ æ–‡ä»¶æµç¨‹ï¼‰" class="headerlink" title="å†™æ•°æ®æµç¨‹ï¼ˆä¸Šä¼ æ–‡ä»¶æµç¨‹ï¼‰"></a>å†™æ•°æ®æµç¨‹ï¼ˆä¸Šä¼ æ–‡ä»¶æµç¨‹ï¼‰</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757670060297-19c2bb3f-c2cb-4b54-ac2e-64f093ce50c4.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757670340518-25b6db35-e781-405a-bb7e-784f5b8c5916.png"> <img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757670379903-afdb3cbb-58e8-40f6-a8eb-6160d7eaa32b.png"> <img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757670416947-788c9974-db51-47c8-929e-5b38333afc7e.png"> <img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757670422377-ab5c901e-721d-4528-8964-bcf4be82dabe.png"> <img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757670464401-3d7f26b2-cffd-4a27-b05f-7c7763e88687.png"></p><h6 id="æ ¸å¿ƒæ¦‚å¿µâ€“Pipeline-ç®¡é“"><a href="#æ ¸å¿ƒæ¦‚å¿µâ€“Pipeline-ç®¡é“" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µâ€“Pipeline ç®¡é“"></a>æ ¸å¿ƒæ¦‚å¿µâ€“Pipeline ç®¡é“</h6><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757670143113-27e81cee-b2e8-4e86-b2c8-379148d7300b.png"></p><h6 id="æ ¸å¿ƒæ¦‚å¿µâ€“ACK-åº”ç­”æ ¡éªŒ"><a href="#æ ¸å¿ƒæ¦‚å¿µâ€“ACK-åº”ç­”æ ¡éªŒ" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µâ€“ACK åº”ç­”æ ¡éªŒ"></a>æ ¸å¿ƒæ¦‚å¿µâ€“ACK åº”ç­”æ ¡éªŒ</h6><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757670217845-8baf07e1-239d-47e9-a6c0-100055072b08.png"></p><h6 id="æ ¸å¿ƒæ¦‚å¿µâ€“é»˜è®¤-3-å‰¯æœ¬å­˜å‚¨ç­–ç•¥"><a href="#æ ¸å¿ƒæ¦‚å¿µâ€“é»˜è®¤-3-å‰¯æœ¬å­˜å‚¨ç­–ç•¥" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µâ€“é»˜è®¤ 3 å‰¯æœ¬å­˜å‚¨ç­–ç•¥"></a>æ ¸å¿ƒæ¦‚å¿µâ€“é»˜è®¤ 3 å‰¯æœ¬å­˜å‚¨ç­–ç•¥</h6><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757670271501-59817feb-9c59-4649-8baf-6aa6fe6e088e.png"></p><h3 id="MapReduce"><a href="#MapReduce" class="headerlink" title="MapReduce"></a>MapReduce</h3><p>åˆ†è€Œæ²»ä¹‹ã€è®¾è®¡æ„æ€ã€å®˜æ–¹ç¤ºä¾‹ã€æ‰§è¡Œæµç¨‹</p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757677638080-cfe9dc7e-66e8-430c-a7d1-ca56f24d459b.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757678108519-324b22e5-cb16-497b-a3f4-db357dc97b64.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757678389673-08baecab-9cf5-4545-9acf-8383135b32a5.png"> <img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757678474341-500fe20b-7cb1-48da-9096-36b97e51bdf0.png"> <img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757678488922-ec386f60-ce09-45f3-94fc-b4ab545918be.png"></p><h4 id="åˆ†å¸ƒå¼è®¡ç®—æ¦‚å¿µ"><a href="#åˆ†å¸ƒå¼è®¡ç®—æ¦‚å¿µ" class="headerlink" title="åˆ†å¸ƒå¼è®¡ç®—æ¦‚å¿µ"></a>åˆ†å¸ƒå¼è®¡ç®—æ¦‚å¿µ</h4><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757678776519-33fa69ae-c32f-48ed-a34b-df4920209278.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757678823310-3315b910-565e-4e89-822e-6c67f442a15d.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757678984159-71adf08f-df0b-4359-bc3e-91030734ae34.png"> <img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757679092503-017e4013-081e-4d88-8ced-39a85897706e.png"> <img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757679102541-1e68c075-d216-4b51-997f-1169135a5498.png"></p><h4 id="å®˜æ–¹ç¤ºä¾‹"><a href="#å®˜æ–¹ç¤ºä¾‹" class="headerlink" title="å®˜æ–¹ç¤ºä¾‹"></a>å®˜æ–¹ç¤ºä¾‹</h4><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757679315491-3a74874c-1fe3-436a-a127-bffac812afda.png"> <img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757679326178-3d25ffa7-b00c-4b40-a32a-bc50cafb22d8.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757679401723-f05c5911-9198-4536-a023-ac9569ae316e.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757679595690-57e89123-1573-497a-accf-e7324ef59cf1.png"></p><ul><li>map é˜¶æ®µçš„æ ¸å¿ƒï¼šæŠŠè¾“å…¥çš„æ•°æ®ç»è¿‡åˆ‡å‰²</li><li>shuffle é˜¶æ®µï¼šæ’åºåˆ†ç»„</li><li>reduceï¼šåˆå¹¶æ•°æ®</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757679816368-d5cc4bfe-b354-446c-b0b1-7bf2559267fd.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757679698228-7afa7aa1-5079-423e-85b7-bd0f7c9e2e31.png"></p><h4 id="Map-é˜¶æ®µæµç¨‹"><a href="#Map-é˜¶æ®µæµç¨‹" class="headerlink" title="Map é˜¶æ®µæµç¨‹"></a>Map é˜¶æ®µæµç¨‹</h4><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757680033797-8e303e14-048d-469b-a4a3-9a8014cd8195.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757680201656-6ce94e14-6a22-459d-9fd5-c17831256a58.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757680377041-58e463b9-2267-457f-868b-dd7f97440dd4.png"></p><h4 id="Reduce-é˜¶æ®µæµç¨‹"><a href="#Reduce-é˜¶æ®µæµç¨‹" class="headerlink" title="Reduce é˜¶æ®µæµç¨‹"></a>Reduce é˜¶æ®µæµç¨‹</h4><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757680673021-5a13ea9e-12bc-47ad-ae91-a3bd000a1b4a.png"></p><h4 id="shuffle-æ¦‚å¿µ"><a href="#shuffle-æ¦‚å¿µ" class="headerlink" title="shuffle æ¦‚å¿µ"></a>shuffle æ¦‚å¿µ</h4><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757680814453-30d3156c-8d52-41f8-b934-d2148f4180bd.png"> <img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757680894896-6514ee56-880d-4d97-be0c-2a4c1b7655cb.png"></p><h3 id="YARN-åŠŸèƒ½ä¸æ¶æ„ç»„ä»¶"><a href="#YARN-åŠŸèƒ½ä¸æ¶æ„ç»„ä»¶" class="headerlink" title="YARN åŠŸèƒ½ä¸æ¶æ„ç»„ä»¶"></a>YARN åŠŸèƒ½ä¸æ¶æ„ç»„ä»¶</h3><p>YARN æ˜¯ä¸€ä¸ªé€šç”¨èµ„æºç®¡ç†ç³»ç»Ÿå’Œè°ƒåº¦å¹³å°</p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757681802995-c4f7c7e6-70c4-4895-8250-f30dfa462af1.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757682024734-844dba11-5ac7-437e-aad7-03c5fb9fe941.png"></p><h4 id="æ¶æ„ã€ç»„ä»¶"><a href="#æ¶æ„ã€ç»„ä»¶" class="headerlink" title="æ¶æ„ã€ç»„ä»¶"></a>æ¶æ„ã€ç»„ä»¶</h4><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757682076350-891b6ec0-a415-450b-aaf2-91426e6e25ac.png"></p><p>YARN3 å¤§ç»„ä»¶</p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757682097182-47901e02-b86a-445c-8467-11e3c12b4ed5.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757682176321-23971900-b8f8-49cc-af75-df107cf30688.png"></p><p>æ ¸å¿ƒäº¤äº’æµç¨‹</p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757739347281-a3e96791-bab0-4a92-bea3-18805b2d7b4f.png"></p><p>æ•´ä½“æ¦‚è¿°</p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757739393763-5c40bcdc-58e3-478c-a241-08c6740c59f2.png"> <img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757739452748-917306a2-5362-4d06-b2d8-f1a88a4a5060.png"> <img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757739488546-82c396c6-1c99-4f19-a979-31650ac4f21c.png"> <img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757739569966-c4f29712-6f21-40fb-957d-1607977de368.png"> <img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757739584049-279260aa-8ead-4783-ad69-696e7bd3653d.png"></p><h4 id="YARN-ä¸­çš„èµ„æºè°ƒåº¦å™¨"><a href="#YARN-ä¸­çš„èµ„æºè°ƒåº¦å™¨" class="headerlink" title="YARN ä¸­çš„èµ„æºè°ƒåº¦å™¨"></a>YARN ä¸­çš„èµ„æºè°ƒåº¦å™¨</h4><h4 id=""><a href="#" class="headerlink" title=""></a><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757739671470-5e030ff0-868c-487c-85bc-a6b60aaa2b7b.png"></h4><p>åœ¨ YARN ä¸­ï¼Œè´Ÿè´£ç»™åº”ç”¨åˆ†é…èµ„æºçš„å°±æ˜¯ scheduleï¼Œæ˜¯ ResourceManager çš„æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ã€‚Scheduler å®Œå…¨ç”¨äºè°ƒåº¦ä½œä¸š</p><h5 id="è°ƒåº¦å™¨ç­–ç•¥"><a href="#è°ƒåº¦å™¨ç­–ç•¥" class="headerlink" title="è°ƒåº¦å™¨ç­–ç•¥"></a>è°ƒåº¦å™¨ç­–ç•¥</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757739766231-828d620e-9a9d-4a67-a623-04a71f94e7c2.png"></p><h6 id="å®¹é‡è°ƒåº¦å™¨"><a href="#å®¹é‡è°ƒåº¦å™¨" class="headerlink" title="å®¹é‡è°ƒåº¦å™¨"></a>å®¹é‡è°ƒåº¦å™¨</h6><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757739846996-5490e4cd-e499-4770-9ed9-216d3eac12ef.png"></p><h6 id="å…¬å¹³è°ƒåº¦"><a href="#å…¬å¹³è°ƒåº¦" class="headerlink" title="å…¬å¹³è°ƒåº¦"></a>å…¬å¹³è°ƒåº¦</h6><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757739927080-e75d5d5d-df92-4140-84e4-0917dc99a515.png"></p><h3 id="Hive"><a href="#Hive" class="headerlink" title="Hive"></a>Hive</h3><h4 id="æ•°æ®ä»“åº“åŸºæœ¬æ¦‚å¿µ"><a href="#æ•°æ®ä»“åº“åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="æ•°æ®ä»“åº“åŸºæœ¬æ¦‚å¿µ"></a>æ•°æ®ä»“åº“åŸºæœ¬æ¦‚å¿µ</h4><p>ä¸€ä¸ªç”¨äºå­˜å‚¨ã€åˆ†æã€æŠ¥å‘Šçš„æ•°æ®ç³»ç»Ÿ</p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757740216337-f7f226a6-7742-4805-b792-865fe8287665.png"></p><p><font style="background-color:#FBDE28;"> æ•°æ®ä»“åº“ï¼šä¸ºäº†åˆ†ææ•°æ®è€Œæ¥ï¼Œåˆ†æç»“æœç»™ä¼ä¸šå†³ç­–æä¾›æ”¯æŒ </font></p><p>ï¼ˆ1ï¼‰ä¸šåŠ¡æ•°æ®çš„å­˜å‚¨é—®é¢˜</p><p>å­˜å‚¨åœ¨æ•°æ®åº“ä¸­</p><p>ï¼ˆ2ï¼‰åˆ†æå‹å†³ç­–çš„åˆ¶å®š</p><p>åŸºäºä¸šåŠ¡æ•°æ®å¼€å±•æ•°æ®åˆ†æï¼ŒåŸºäºåˆ†æçš„ç»“æœç»™å†³ç­–æä¾›æ”¯æŒï¼Œè¿™å°±æ˜¯æ‰€è°“çš„æ•°æ®é©±åŠ¨å†³ç­–</p><p>ï¼ˆ3ï¼‰æ•°æ®åº“å¯ä»¥å¼€å±•åˆ†æå—ï¼Ÿ</p><p>å¯ä»¥ï¼Œä½†æ˜¯è¯»å–å‹åŠ›å¤§ã€æ•°æ®åˆ†æ•£åœ¨ä¸åŒç³»ç»Ÿä¸åŒè¡¨ä¸­æœ‰å·®å¼‚</p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757740602655-2d2be5fd-a5b0-46f3-87c0-3dc91ffd58cf.png"></p><h5 id="ä¸»è¦ç‰¹å¾"><a href="#ä¸»è¦ç‰¹å¾" class="headerlink" title="ä¸»è¦ç‰¹å¾"></a>ä¸»è¦ç‰¹å¾</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757740657897-c9ecff24-62b3-4e83-9045-0e9ef481b108.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757740735602-aaf9d06c-d8f6-441a-9174-f1b6aaa68d92.png"> <img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757740743181-894014f4-958c-44e2-9c21-cb74100556a1.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757740786315-4d6b52ef-0600-4091-9388-3e2f008770b2.png"> <img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757740814742-466e69b9-eaa3-4565-822f-53ab5c817562.png"> <img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757740885244-cf464d5e-3e26-4d19-8744-772cb41f8582.png"></p><h4 id="å…¥é—¨"><a href="#å…¥é—¨" class="headerlink" title="å…¥é—¨"></a>å…¥é—¨</h4><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757740982737-90b73da5-7468-40bb-8319-6e155eb42203.png"></p><h5 id="Hive-å’Œ-Hadoop-å…³ç³»"><a href="#Hive-å’Œ-Hadoop-å…³ç³»" class="headerlink" title="Hive å’Œ Hadoop å…³ç³»"></a>Hive å’Œ Hadoop å…³ç³»</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757741121357-d0ae12a1-b057-42d3-95d4-030a7a793679.png"></p><h5 id="Hive-åŠŸèƒ½æ¨¡æ‹Ÿå®ç°"><a href="#Hive-åŠŸèƒ½æ¨¡æ‹Ÿå®ç°" class="headerlink" title="Hive åŠŸèƒ½æ¨¡æ‹Ÿå®ç°"></a>Hive åŠŸèƒ½æ¨¡æ‹Ÿå®ç°</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757741231021-b2a32020-fbf0-4fd3-a5f2-4b14a7e5a5c0.png"></p><ol><li>Hive èƒ½å°†æ•°æ®æ–‡ä»¶æ˜ å°„æˆä¸ºä¸€å¼ è¡¨ï¼Œè¿™ä¸ª <font style="color:#DF2A3F;"> æ˜ å°„ </font> æŒ‡ä»€ä¹ˆï¼Ÿ</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757741351995-b6733584-d932-4768-81d0-16d92dbc8d99.png"></p><p>æ–‡ä»¶å’Œè¡¨çš„å¯¹åº”å…³ç³»</p><ol start="2"><li>Hive è½¯ä»¶æœ¬èº«åˆ°åº•æ‰¿æ‹…äº†ä»€ä¹ˆåŠŸèƒ½èŒè´£</li></ol><p>SQL è¯­æ³•ç¼–è¯‘æˆ MapReduce</p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757741586354-f727c54a-b4b3-461b-8b08-d36961b2c766.png"></p><h5 id="Hive-æ¶æ„"><a href="#Hive-æ¶æ„" class="headerlink" title="Hive æ¶æ„"></a>Hive æ¶æ„</h5><ul><li>ç”¨æˆ·æ¥å£ï¼ŒåŒ…æ‹¬ Cli ç­‰</li><li>å…ƒä¿¡æ¯å­˜å‚¨</li><li><font style="color:#DF2A3F;"> Driver é©±åŠ¨ç¨‹åºï¼ŒåŒ…æ‹¬è¯­æ³•è§£æå™¨ã€è®¡åˆ’ç¼–è¯‘å™¨ã€ä¼˜åŒ–å™¨ã€æ‰§è¡Œå™¨ </font></li><li>æ‰§è¡Œå¼•æ“</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757741702926-9d3effc8-928c-4248-91c4-2958e44aa8c1.png"></p><h4 id="å®‰è£…éƒ¨ç½²"><a href="#å®‰è£…éƒ¨ç½²" class="headerlink" title="å®‰è£…éƒ¨ç½²"></a>å®‰è£…éƒ¨ç½²</h4><h5 id="å…ƒæ•°æ®"><a href="#å…ƒæ•°æ®" class="headerlink" title="å…ƒæ•°æ®"></a>å…ƒæ•°æ®</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757742471066-1db5dd9e-2784-46d9-bf10-416b3afda75f.png"></p><h5 id="Hive-Metadata"><a href="#Hive-Metadata" class="headerlink" title="Hive Metadata"></a>Hive Metadata</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757742490254-e8b5b498-649f-4246-ad10-77427ab4df97.png"></p><h5 id="Hive-Metastore"><a href="#Hive-Metastore" class="headerlink" title="Hive Metastore"></a>Hive Metastore</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757742509317-acd1942b-1a50-4d1e-b221-441c5a89d309.png"></p><h5 id="Metasotre-é…ç½®æ–¹å¼"><a href="#Metasotre-é…ç½®æ–¹å¼" class="headerlink" title="Metasotre é…ç½®æ–¹å¼"></a>Metasotre é…ç½®æ–¹å¼</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757742584785-a1099fe8-4f3e-4755-92c7-c49a69bb3985.png"></p><h5 id="è¿œç¨‹æ¨¡å¼"><a href="#è¿œç¨‹æ¨¡å¼" class="headerlink" title="è¿œç¨‹æ¨¡å¼"></a>è¿œç¨‹æ¨¡å¼</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757742641455-6d82d79b-058a-49c2-a94f-5085fe4d070c.png"></p><h3 id="é™Œé™ŒèŠå¤©æ¡ˆä¾‹å®ç°"><a href="#é™Œé™ŒèŠå¤©æ¡ˆä¾‹å®ç°" class="headerlink" title="é™Œé™ŒèŠå¤©æ¡ˆä¾‹å®ç°"></a>é™Œé™ŒèŠå¤©æ¡ˆä¾‹å®ç°</h3><h4 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h4><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757745482616-c736ec86-b17a-4752-aeeb-1a49a1218863.png"></p><h4 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h4><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757745462035-c257631f-478c-4dce-9800-885173f7395a.png"></p><h4 id="æ•°æ®å†…å®¹"><a href="#æ•°æ®å†…å®¹" class="headerlink" title="æ•°æ®å†…å®¹"></a>æ•°æ®å†…å®¹</h4><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757745509472-6ebfeecc-f299-4b8d-95f2-11eea8ac5547.png"></p><h4 id="åŸºäº-Hive-å®ç°éœ€æ±‚å¼€å‘"><a href="#åŸºäº-Hive-å®ç°éœ€æ±‚å¼€å‘" class="headerlink" title="åŸºäº Hive å®ç°éœ€æ±‚å¼€å‘"></a>åŸºäº Hive å®ç°éœ€æ±‚å¼€å‘</h4><h5 id="å»ºåº“å»ºè¡¨"><a href="#å»ºåº“å»ºè¡¨" class="headerlink" title="å»ºåº“å»ºè¡¨"></a>å»ºåº“å»ºè¡¨</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757745617000-098d9d99-35be-4aa5-900d-18f6c4f686d8.png"></p><h5 id="åŠ è½½æ•°æ®"><a href="#åŠ è½½æ•°æ®" class="headerlink" title="åŠ è½½æ•°æ®"></a>åŠ è½½æ•°æ®</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757745665026-243bc36a-b834-4165-a16b-0275e7aead3d.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757745700501-6e3fb49d-03fc-46d7-b372-3612cd644a39.png"></p><h5 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757745709552-1d5447f5-80df-49d1-97d5-4a1fec8eb575.png"></p><h5 id="ETL-æ•°æ®æ¸…æ´—"><a href="#ETL-æ•°æ®æ¸…æ´—" class="headerlink" title="ETL æ•°æ®æ¸…æ´—"></a>ETL æ•°æ®æ¸…æ´—</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757745792292-cbc40d6f-c847-474d-aafa-4e0fd4a49369.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757745813752-fcdfc502-6306-4b9e-bf52-8c93d50fe213.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757745907887-5e7a700a-9d90-4604-84d5-3073db3110d8.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757745976296-3eaa056c-0dc2-407a-ab77-7a7688925e2e.png"></p><h4 id="æŒ‡æ ‡è®¡ç®—"><a href="#æŒ‡æ ‡è®¡ç®—" class="headerlink" title="æŒ‡æ ‡è®¡ç®—"></a>æŒ‡æ ‡è®¡ç®—</h4><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757746406744-62dfd706-2d88-4097-bfa8-c66023204b7d.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757746465646-97a09c20-cb9c-4b24-a105-595881636340.png"></p><h5 id="æŒ‡æ ‡-1ï¼šç»Ÿè®¡ä»Šæ—¥æ¶ˆæ¯æ€»é‡"><a href="#æŒ‡æ ‡-1ï¼šç»Ÿè®¡ä»Šæ—¥æ¶ˆæ¯æ€»é‡" class="headerlink" title="æŒ‡æ ‡ 1ï¼šç»Ÿè®¡ä»Šæ—¥æ¶ˆæ¯æ€»é‡"></a>æŒ‡æ ‡ 1ï¼šç»Ÿè®¡ä»Šæ—¥æ¶ˆæ¯æ€»é‡</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757746625622-d3d7c136-ca83-47f3-a3f9-c41a48bf9dda.png"></p><h5 id="æŒ‡æ ‡-2ï¼šç»Ÿè®¡æ¯å°æ—¶æ¶ˆæ¯é‡ã€å‘é€å’Œæ¥æ”¶ç”¨æˆ·æ•°"><a href="#æŒ‡æ ‡-2ï¼šç»Ÿè®¡æ¯å°æ—¶æ¶ˆæ¯é‡ã€å‘é€å’Œæ¥æ”¶ç”¨æˆ·æ•°" class="headerlink" title="æŒ‡æ ‡ 2ï¼šç»Ÿè®¡æ¯å°æ—¶æ¶ˆæ¯é‡ã€å‘é€å’Œæ¥æ”¶ç”¨æˆ·æ•°"></a>æŒ‡æ ‡ 2ï¼šç»Ÿè®¡æ¯å°æ—¶æ¶ˆæ¯é‡ã€å‘é€å’Œæ¥æ”¶ç”¨æˆ·æ•°</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757746700058-248fe25c-c75d-4146-b3be-16e311ae3a9b.png"></p><h5 id="æŒ‡æ ‡-3ï¼šç»Ÿè®¡ä»Šæ—¥å„åœ°åŒºå‘é€æ¶ˆæ¯æ€»é‡"><a href="#æŒ‡æ ‡-3ï¼šç»Ÿè®¡ä»Šæ—¥å„åœ°åŒºå‘é€æ¶ˆæ¯æ€»é‡" class="headerlink" title="æŒ‡æ ‡ 3ï¼šç»Ÿè®¡ä»Šæ—¥å„åœ°åŒºå‘é€æ¶ˆæ¯æ€»é‡"></a>æŒ‡æ ‡ 3ï¼šç»Ÿè®¡ä»Šæ—¥å„åœ°åŒºå‘é€æ¶ˆæ¯æ€»é‡</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757746879522-779a2ada-e372-45df-ac37-f4aa00521f7a.png"></p><p>::: color1<br>group by è¯­æ³•é™åˆ¶ï¼Œå‡ºç°åœ¨ select å½“ä¸­çš„å­—æ®µè¦ä¹ˆæ˜¯åˆ†ç»„çš„å­—æ®µï¼Œè¦ä¹ˆæ˜¯è¢«èšåˆå‡½æ•°åº”ç”¨çš„å­—æ®µ</p><p>:::</p><h5 id="æŒ‡æ ‡-4ï¼šç»Ÿè®¡ä»Šæ—¥å‘é€å’Œæ¥æ”¶ç”¨æˆ·äººæ•°"><a href="#æŒ‡æ ‡-4ï¼šç»Ÿè®¡ä»Šæ—¥å‘é€å’Œæ¥æ”¶ç”¨æˆ·äººæ•°" class="headerlink" title="æŒ‡æ ‡ 4ï¼šç»Ÿè®¡ä»Šæ—¥å‘é€å’Œæ¥æ”¶ç”¨æˆ·äººæ•°"></a>æŒ‡æ ‡ 4ï¼šç»Ÿè®¡ä»Šæ—¥å‘é€å’Œæ¥æ”¶ç”¨æˆ·äººæ•°</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757747208116-3a17f33b-42a3-43db-9612-9f069823cb09.png"></p><h5 id="æŒ‡æ ‡-5ï¼šç»Ÿè®¡ä»Šæ—¥å‘é€æ¶ˆæ¯æœ€å¤šçš„ç”¨æˆ·-top10"><a href="#æŒ‡æ ‡-5ï¼šç»Ÿè®¡ä»Šæ—¥å‘é€æ¶ˆæ¯æœ€å¤šçš„ç”¨æˆ·-top10" class="headerlink" title="æŒ‡æ ‡ 5ï¼šç»Ÿè®¡ä»Šæ—¥å‘é€æ¶ˆæ¯æœ€å¤šçš„ç”¨æˆ· top10"></a>æŒ‡æ ‡ 5ï¼šç»Ÿè®¡ä»Šæ—¥å‘é€æ¶ˆæ¯æœ€å¤šçš„ç”¨æˆ· top10</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757747290374-7a34c6a0-2b16-4ef3-8e91-e2a4c089a0c9.png"></p><h5 id="æŒ‡æ ‡-6ï¼šç»Ÿè®¡ä»Šæ—¥æ¥æ”¶æ¶ˆæ¯æœ€å¤šçš„ç”¨æˆ·-top10"><a href="#æŒ‡æ ‡-6ï¼šç»Ÿè®¡ä»Šæ—¥æ¥æ”¶æ¶ˆæ¯æœ€å¤šçš„ç”¨æˆ·-top10" class="headerlink" title="æŒ‡æ ‡ 6ï¼šç»Ÿè®¡ä»Šæ—¥æ¥æ”¶æ¶ˆæ¯æœ€å¤šçš„ç”¨æˆ· top10"></a>æŒ‡æ ‡ 6ï¼šç»Ÿè®¡ä»Šæ—¥æ¥æ”¶æ¶ˆæ¯æœ€å¤šçš„ç”¨æˆ· top10</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757747331799-726765e9-1a16-4729-b97c-4ac11da87adc.png"></p><h5 id="æŒ‡æ ‡-7ï¼šç»Ÿè®¡å‘é€äººçš„æ‰‹æœºå‹å·å‘å¸ƒæƒ…å†µ"><a href="#æŒ‡æ ‡-7ï¼šç»Ÿè®¡å‘é€äººçš„æ‰‹æœºå‹å·å‘å¸ƒæƒ…å†µ" class="headerlink" title="æŒ‡æ ‡ 7ï¼šç»Ÿè®¡å‘é€äººçš„æ‰‹æœºå‹å·å‘å¸ƒæƒ…å†µ"></a>æŒ‡æ ‡ 7ï¼šç»Ÿè®¡å‘é€äººçš„æ‰‹æœºå‹å·å‘å¸ƒæƒ…å†µ</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757747419607-b2d17243-28ad-4187-ba42-73db7ca18ad5.png"></p><h5 id="æŒ‡æ ‡-8ï¼šç»Ÿè®¡å‘é€äººçš„æ“ä½œç³»ç»Ÿå‘å¸ƒæƒ…å†µ"><a href="#æŒ‡æ ‡-8ï¼šç»Ÿè®¡å‘é€äººçš„æ“ä½œç³»ç»Ÿå‘å¸ƒæƒ…å†µ" class="headerlink" title="æŒ‡æ ‡ 8ï¼šç»Ÿè®¡å‘é€äººçš„æ“ä½œç³»ç»Ÿå‘å¸ƒæƒ…å†µ"></a>æŒ‡æ ‡ 8ï¼šç»Ÿè®¡å‘é€äººçš„æ“ä½œç³»ç»Ÿå‘å¸ƒæƒ…å†µ</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757747467647-14ca8b6a-947e-496c-8843-1f9031e1a1b7.png"></p><h4 id="åŸºäº-FinelBI-å®ç°å¯è§†åŒ–æŠ¥è¡¨"><a href="#åŸºäº-FinelBI-å®ç°å¯è§†åŒ–æŠ¥è¡¨" class="headerlink" title="åŸºäº FinelBI å®ç°å¯è§†åŒ–æŠ¥è¡¨"></a>åŸºäº FinelBI å®ç°å¯è§†åŒ–æŠ¥è¡¨</h4><h5 id="ä»‹ç»ä¸å®‰è£…"><a href="#ä»‹ç»ä¸å®‰è£…" class="headerlink" title="ä»‹ç»ä¸å®‰è£…"></a>ä»‹ç»ä¸å®‰è£…</h5><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757747635714-bb7047b3-91d6-46d7-ad39-72882345f956.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/42495862/1757747652520-fcb30f99-b66b-479d-8b3a-ac9223c966b6.png"></p><h5 id="é…ç½®æ•°æ®æºåŠæ•°æ®å‡†å¤‡"><a href="#é…ç½®æ•°æ®æºåŠæ•°æ®å‡†å¤‡" class="headerlink" title="é…ç½®æ•°æ®æºåŠæ•°æ®å‡†å¤‡"></a>é…ç½®æ•°æ®æºåŠæ•°æ®å‡†å¤‡</h5><h5 id="æ„å»ºå¯è§†åŒ–æŠ¥è¡¨"><a href="#æ„å»ºå¯è§†åŒ–æŠ¥è¡¨" class="headerlink" title="æ„å»ºå¯è§†åŒ–æŠ¥è¡¨"></a>æ„å»ºå¯è§†åŒ–æŠ¥è¡¨</h5>]]></content>
      
      
      <categories>
          
          <category> éšä¾¿å†™å†™ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hadoop </tag>
            
            <tag> å¤§æ•°æ® </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
